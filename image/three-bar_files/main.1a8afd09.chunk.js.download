(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[2],{10:function(e,t,n){"use strict";t.a={INITIAL_DISPOSITION_DATA:"initialDispositionData",DISPOSITION_DATA:"dispositionData",SEARCH_ORDER_DATA:"searchOrderData",SCHEDULE_ORDER_DATA:"scheduleOrderData",SELECTED_TILE_DATA:"SelectedTileData",DISPOSITION_METHOD:"dispositionMethod",SEARCH_ORDER_USER_ADDRESS:"userAddress",SCHEDULE_ORDER_TIME_DATA:"scheduleOrderSelectedDateTime",CLOSED:"CLOSED",SCHEDULE_ORDER_TIME_PRESERVE_DATE:"scheduleOrderPreserveDate",SCHEDULE_ORDER_TIME_PRESERVE_TIME:"scheduleOrderPreserveTime",TYPE_DELIVERY:"DELIVERY",TYPE_TAKE_WAY:"PICKUP",TYPE_DINE_IN:"DINE-IN",PICK_UP:"pickup",TAKE_AWAY:"takeaway",DINE_IN:"dine-in",MENU_URL:"/menu",PDP_URL:"/pdp",SET_DISPOSITION:"SET_DISPOSITION",CART_STATES_DATA:"CART_STATES_DATA",CONFIRM_UPSIZE_ANALYTICS:"CONFIRM_UPSIZE_ANALYTICS",LANGUAGE_SELECTOR:"LANGUAGE_SELECTOR",LANGUAGE_UPDATED:"LANGUAGE_UPDATED",ADD_TO_CART_CLICK:"ADD_TO_CART_CLICK",USER_LOCALIZED:"USER_LOCALIZED",PLP_PDP_DETAILS:"PLP_PDP_DETAILS",VISIBLE:"visible",HIDDEN:"hidden",ANALYTICS_LOCALISATION_SIGNIN:"localisationSignIn",AUTO:"auto",SHOW_CLEAR_CART_ALERT:"SHOW_CLEAR_CART_ALERT",CLEAR_CART_CONFIRM_CANCEL_MODAL:"CLEAR_CART_CONFIRM_CANCEL_MODAL",clearCartChangeFlag:"FromChange",orderTypeAlertTitle:"OrderType",searchStoreAlertTitle:"SearchStore",clearCartExposedFlag:"FromExposed",CURRENT_STORE_INFO:"currentStoreInfo",MINI_PDP_DATA:"MINI_PDP_DATA",FROMFLAGEDIT:"fromEdit",FROMFLAGPLP:"fromPLP",EDIT_CLICKED:"EDIT_CLICKED",INDIA:"INDIA",HIDDEN_TEXT:"hiddenText",TENDER_DATA:"TENDER_DATA",PAYMENET_FORM_PAYLOAD:"PAYMENET_FORM_PAYLOAD",ORDER_LOOKUP:"Order Lookup",SHOW_CART_ERROR_MODAL:"SHOW_CART_ERROR_MODAL",CART_DATA_ERROR_RESET:"CART_DATA_ERROR_RESET",SET_FORCERELOAD:"SET_FORCERELOAD"}},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return o}));var a=20,i=5e3,c=15e3,o=18e4},11:function(e,t,n){"use strict";var a=n(65);n.d(t,"a",(function(){return a.a}))},111:function(e,t,n){"use strict";t.a={contentData:{searchStoreHeaderText:"selectKFC",deliveryHeaderText:"deliveryAddress",searchStoreModalContent:{formContent:{memberText:"alreadyMember",singInLink:{linkUrl:null,linkText:"signIn",targetType:"_blank"},currentLocationText:"storeUseMyLocation",addressBoxPlaceHolderForSearchStore:"addressBoxPlaceHolderForSearchStore",addressBoxPlaceHolderForDelivery:"enterYourDeliveryAddress",mapText:"map",numberOfStoreText:"nearYou"},locationsContent:{storeData:[{map:{mapText:"Map",mapUrl:""},facilities:{washroom:!0,wheelchair:!0,wifi:!0},buttonData:{scheduleOrderButtonData:{buttonText:"Schedule Order",display:!0},orderNowButtonData:{buttonText:"Order Now",display:!0}}}]}}}}},118:function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g}));var a=n(36),i=n(6),c=n.n(i),o=n(14),r=n(2),s=n(37),d=n(28),l=n(3),u=n(26),b=n(29),v=n(32),j=function(e,t,n,a,i,c,o,s){var d={cartList:[],cartSummary:{},tenantId:n,country:s},l=e.id;return d.cartList=n&&o&&m(t,n,a,o),d.bucketId=l,d.cartSummary=Object(r.a)({},O(e,t,a,i,c)),d},O=function(e,t,n,a,i){var c=e||[],o=c.inclusiveTaxTotal,r=void 0===o?0:o,s=c.additionalChargeLines,d=void 0===s?[]:s,l=c.discountLines,u=void 0===l?[]:l,b=(null===e||void 0===e?void 0:e.subtotal)||(null===e||void 0===e?void 0:e.subTotal),v=(t&&t.filter((function(e){var t,n,c,o;return!e.toRemove&&(null===(t=e.newFoodLineItem)||void 0===t||null===(n=t.item)||void 0===n?void 0:n.name)!==a&&(null===(c=e.newFoodLineItem)||void 0===c||null===(o=c.item)||void 0===o?void 0:o.name)!==i}))).reduce((function(e,t){var n;return+e+ +(null===(n=t.newFoodLineItem)||void 0===n?void 0:n.quantity)}),0),j=d&&d.map((function(e){return{chargeType:(null===e||void 0===e?void 0:e.chargeType)||"Additional-Charges",amount:(+(null===e||void 0===e?void 0:e.amount)/n||0).toFixed(2)}})),O=u.length&&u.map((function(e){var t,a,i,c="";if(null===e||void 0===e||null===(t=e.basicErrors)||void 0===t?void 0:t.length)c=null===e||void 0===e||null===(i=e.basicErrors[0])||void 0===i?void 0:i.message;else if(null===e||void 0===e||null===(a=e.promoConditionStatus)||void 0===a?void 0:a.length){var o,r,s=null===e||void 0===e?void 0:e.promoConditionStatus.filter((function(e){return!(null===e||void 0===e?void 0:e.isValidCondition)}));c=(null===s||void 0===s?void 0:s.length)?null===(o=s[0])||void 0===o||null===(r=o.displayMessage[0])||void 0===r?void 0:r.value:""}return{couponCode:(null===e||void 0===e?void 0:e.couponCode)||"Discount-Code",amount:(+(null===e||void 0===e?void 0:e.amount)/n||0).toFixed(2),status:e.status.name,isError:"APPLIED"!==String(e.status.name).toUpperCase(),errorMessages:c}})),m=(+(null===e||void 0===e?void 0:e.additionalChargeTotal)/n||0).toFixed(2);return{cartId:(null===e||void 0===e?void 0:e.id)||"",catalog:null===e||void 0===e?void 0:e.catalog,quantity:v,taxAmounts:(r/n||0).toFixed(2),additionalCharges:j,totalAdditionalCharges:m,discountAmounts:O,subTotal:(+b/n||0).toFixed(2),totalAmount:(+(null===e||void 0===e?void 0:e.total)/n||0).toFixed(2),recommendedItems:(null===e||void 0===e?void 0:e.recommendedItems)||[]}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return e&&e.length&&e.map((function(e){var i,c,o,r,s,d,l,u,j,O,m,p,h,g,N,x,E,I,T,S,C,A,y,_;return{foodLineId:null===e||void 0===e||null===(i=e.newFoodLineItem)||void 0===i?void 0:i.id,foodItemId:null===e||void 0===e||null===(c=e.newFoodLineItem)||void 0===c||null===(o=c.item)||void 0===o?void 0:o.id,name:null===e||void 0===e||null===(r=e.newFoodLineItem)||void 0===r||null===(s=r.item)||void 0===s?void 0:s.name,foodName:null===e||void 0===e||null===(d=e.newFoodLineItem)||void 0===d||null===(l=d.item)||void 0===l||null===(u=l.dname[0])||void 0===u?void 0:u.value,quantity:null===e||void 0===e||null===(j=e.newFoodLineItem)||void 0===j?void 0:j.quantity,unitPrice:(null===e||void 0===e||null===(O=e.newFoodLineItem)||void 0===O?void 0:O.unitPrice)/n,imageData:{src:"".concat(Object(b.a)(v.E)).concat(t,"/images/items/").concat(a,"/").concat(null===e||void 0===e||null===(m=e.newFoodLineItem)||void 0===m||null===(p=m.item)||void 0===p||null===(h=p.imageName[0])||void 0===h?void 0:h.value,".jpg"),altText:null===e||void 0===e||null===(g=e.newFoodLineItem)||void 0===g||null===(N=g.item)||void 0===N||null===(x=N.dname[0])||void 0===x?void 0:x.value},modifiers:f(null===e||void 0===e||null===(E=e.newFoodLineItem)||void 0===E||null===(I=E.item)||void 0===I?void 0:I.modGrps),shortDescription:null===e||void 0===e||null===(T=e.newFoodLineItem)||void 0===T||null===(S=T.item)||void 0===S||null===(C=S.shortDescription[0])||void 0===C?void 0:C.value,customizable:null===e||void 0===e||null===(A=e.newFoodLineItem)||void 0===A||null===(y=A.item)||void 0===y?void 0:y.customizable,toRemove:null===e||void 0===e?void 0:e.toRemove,requireModification:null===e||void 0===e?void 0:e.requireModification,menuPrice:null===e||void 0===e?void 0:e.menuPrice,cartPrice:null===e||void 0===e?void 0:e.cartPrice,discountComponents:null===e||void 0===e||null===(_=e.newFoodLineItem)||void 0===_?void 0:_.discountComponents}}))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length>0?e.map((function(e){var t;return null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.map((function(e){var t;return null===e||void 0===e||null===(t=e.dname[0])||void 0===t?void 0:t.value})).join(", ")})).join(", ").split(", "):[]},p=function(){var e=Object(o.a)(c.a.mark((function e(t,n){var i,r,u,b=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=b.length>2&&void 0!==b[2]?b[2]:[],r=s.a.ANALYTICS_EVENTS,t!==r.EDIT){e.next=6;break}return e.next=5,d.a.registerEvent(t,{"%event%":"editCartItem"},l.E);case 5:return e.abrupt("return");case 6:return u=n.map(function(){var e=Object(o.a)(c.a.mark((function e(t,n){var a,o,r,s,d,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(null===i||void 0===i?void 0:i.find((function(e){return e.products.find((function(e){return e.name===t.foodName}))})))||{},r=o.id,s=void 0===r?"NA":r,d=o.name,u=void 0===d?"NA":d,e.abrupt("return",{item_name:(null===t||void 0===t?void 0:t.foodName)||"NA",item_id:"".concat((null===t||void 0===t?void 0:t.foodItemId)||"NA"),price:(null===t||void 0===t?void 0:t.unitPrice)||"NA",item_category:u,item_variant:Object(l.zb)(null===t||void 0===t?void 0:t.modifiers)?"NA":null===t||void 0===t||null===(a=t.modifiers)||void 0===a?void 0:a.reduce((function(e,t){return e+"".concat(t,", ")}),""),item_list_name:u,item_list_id:s,index:n,quantity:"".concat((null===t||void 0===t?void 0:t.quantity)||"NA")});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=9,d.a.registerEvent(t,{data:{event:t,ecommerce:Object(a.a)({},t,{items:u})}},l.E);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(e){return!!e&&Object(u.j)(e)>s.a.CART_EXPIRE_TIME_HRS},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return null===e||void 0===e?void 0:e.map((function(e){var a,i,c=null!==(a=null===n||void 0===n?void 0:n[e.foodItemId])&&void 0!==a?a:{},o=c.categoryId,r=void 0===o?"NA":o,s=c.categoryName,d=void 0===s?"NA":s;return{item_name:(null===e||void 0===e?void 0:e.foodName)||"NA",item_id:"".concat((null===e||void 0===e?void 0:e.foodItemId)||"NA"),price:Object(l.q)(t,"removeAllQty","quantityModified",null===e||void 0===e?void 0:e.cartPrice,(null===e||void 0===e?void 0:e.cartPrice)/(null===e||void 0===e?void 0:e.quantity)),item_category:d,item_variant:Object(l.zb)(null===e||void 0===e?void 0:e.modifiers)?"NA":null===e||void 0===e||null===(i=e.modifiers)||void 0===i?void 0:i.reduce((function(e,t){return e+"".concat(t,", ")}),""),item_list_name:d,item_list_id:r,index:1,quantity:Object(l.q)(t,"removeAllQty","quantityModified",null===e||void 0===e?void 0:e.quantity,1)}}))}},120:function(e,t,n){"use strict";t.a={MEMBER_SOURCE:"memberSource",REFRESH_SOURCE:"refreshSource",GUEST_SOURCE:"guestSource",GUEST_REFRESH_SOURCE:"guestRefresh",SIGN_IN_TOAST_MSG:"signInToast",GENERIC_ERROR:"generic_error"}},126:function(e,t,n){"use strict";t.a=n.p+"static/media/tickWhiteToast.c5b28bc1.svg"},13:function(e,t,n){"use strict";var a=n(180);n.d(t,"a",(function(){return a.a}))},143:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return b}));var a=n(6),i=n.n(a),c=n(14),o=n(28),r=n(33),s=n(3),d=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,c,d,l,u,b,v,j,O,m,f,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.customerId,c=void 0===a?"NA":a,d=t.email,l=void 0===d?"NA":d,u=t.phoneNumber,b=void 0===u?"NA":u,v=t.loginMethod,j=void 0===v?"NA":v,O=t.firstName,m=void 0===O?"NA":O,f=t.lastName,p=void 0===f?"NA":f,e.next=3,o.a.registerEvent(null===r.a||void 0===r.a||null===(n=r.a.registrationFinish)||void 0===n?void 0:n.name,{"%event%":"registrationFinish","%loginMethod%":j,"%userID%":c,"%firstName%":m,"%lastName%":p,"%email%":l,"%phone%":b},s.E);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,c,d,l,u,b,v,j,O,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.customerId,c=void 0===a?"NA":a,d=t.loginMethod,l=void 0===d?"NA":d,u=t.firstName,b=void 0===u?"NA":u,v=t.lastName,j=void 0===v?"NA":v,O=t.phoneNumber,m=void 0===O?"NA":O,e.next=3,o.a.registerEvent(null===r.a||void 0===r.a||null===(n=r.a.signInFinish)||void 0===n?void 0:n.name,{"%event%":"signInFinish","%userID%":c,"%loginMethod%":l,"%firstName%":b,"%lastName%":j,"%phoneNumber%":m},s.E);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e){!0===JSON.parse(localStorage.getItem("loginSkipped"))&&setTimeout((function(){l({customerId:e,loginMethod:"I\u2019m a guest, sign me up later!"})}),100)},b=function(){window.location.href.includes("login_result=skipped")&&localStorage.setItem("loginSkipped",!0)}},144:function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return S}));var a=n(7),i=n(1),c=n.n(i),o=n(9),r=n(120),s=n(35),d=n(136),l=n(47),u=n(126),b=n(13),v=n(5),j=n(80),O=n(3),m=n(29),f=n(32),p=n(110),h=n(128),g=n(143),N=n(49),x=n(154),E=n(0),I=function(e){var t;try{var n={secret:null===e||void 0===e?void 0:e.access_token},a={secret:null===e||void 0===e?void 0:e.refresh_token},i={secret:null===e||void 0===e?void 0:e.id_token};j.a.setItem("access_token",n),j.a.setItem("refresh_token",a),j.a.setItem("id_token",i),(null===n||void 0===n?void 0:n.secret)&&Object(s.m)(null===n||void 0===n?void 0:n.secret),t=[null===e||void 0===e?void 0:e.access_token,null===e||void 0===e?void 0:e.refresh_token,null===e||void 0===e?void 0:e.id_token]}catch(c){t=null}return t},T=function(e,t,n,a){l.b.dark(Object(E.jsxs)("div",{className:"img-text-div",children:[Object(E.jsx)(b.a,{srcFile:e})," ",Object(E.jsx)("span",{className:"text",children:Object(v.e)(t)})]}),{bodyClassName:"sign-in-toast",hideProgressBar:!0,position:l.b.POSITION[n]}),setTimeout((function(){l.b.dismiss()}),a)},S=function(e){var t=e.history,n=void 0===t?[]:t,s=window.location.origin+Object(m.a)(f.x),l=Object(o.b)(),b=Object(o.c)((function(e){return e.authReducer})),v=localStorage.getItem("redirect_path_name")||"/",E=r.a.MEMBER_SOURCE,S=r.a.REFRESH_SOURCE,C=r.a.GUEST_SOURCE,A=r.a.GUEST_REFRESH_SOURCE,y=r.a.SIGN_IN_TOAST_MSG,_=r.a.GENERIC_ERROR,D=c.a.useState(!1),R=Object(a.a)(D,2),w=R[0],k=R[1],L=Object(o.c)((function(e){return e.tenantReducer})).tenantId,P=Object(o.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)||null}));Object(i.useEffect)((function(){l(Object(p.a)("in"))}),[l]),Object(i.useEffect)((function(){L&&(h.a.tenantId=L,k(h.a.isConfigAvailable))}),[L]),Object(i.useEffect)((function(){if(w)if(window.location.href.includes("access_token"))!1===b.error&&b.tokenSource===C&&n.push("/");else if(window.location.href.includes("refresh_request")){var e;!1===b.error&&[S,A,C].includes(b.tokenSource)&&Object(O.Kb)(null===(e=j.a.getItem("access_token"))||void 0===e?void 0:e.secret,null===b||void 0===b?void 0:b.expires_in)&&n.push(v)}else window.location.href.includes("code")?!1===b.error&&b.tokenSource===E&&(n.push(v),T(u.a,y,"BOTTOM_CENTER",5e3)):window.location.href.includes("login_result=skipped")?n.push(Object(O.kc)()):(T(u.a,_,"TOP_CENTER",1e4),n.push(v))}),[w,_,C,E,S,A,y,b,n,v]);var M=Object(i.useCallback)((function(e){if(w){var t={grant_type:Object(m.a)(f.b),client_id:Object(m.a)(f.c),code:e.code,redirect_uri:s,scope:Object(m.a)(f.f),state:e.state,code_verifier:JSON.parse(localStorage.getItem("code_verifier"))};l(Object(d.a)({authBody:t,secureTokens:I}))}}),[w,s,l]),F=Object(i.useCallback)((function(){if(w)if(window.location.href.includes("access_token")){var e=window.location.hash.replace("#","").split("&").reduce((function(e,t){return e[t.split("=")[0]]=decodeURIComponent(t.split("=")[1]),e}),{});l(Object(d.c)(e)),I(e)}else if(window.location.href.includes("refresh_request"))Object(x.c)(l,P,Object(O.Gb)(null===b||void 0===b?void 0:b.tokenSource));else if(window.location.href.includes("code")){var t=window.location.search.replace("?","").split("&").reduce((function(e,t){return e[t.split("=")[0]]=decodeURIComponent(t.split("=")[1]),e}),{});M(t)}}),[w,l,P,null===b||void 0===b?void 0:b.tokenSource,M]);return Object(i.useEffect)((function(){if(b.tokenSource===E){var e,t=null===(e=j.a.getItem("access_token"))||void 0===e?void 0:e.secret,n=N.a.getPhoneNumberFromToken(t),a=N.a.getCustomerIdFromToken(t),i=(N.a.getEmailFromToken(t),N.a.getFirstNameFromToken(t)),c=N.a.getFamilyNameFromToken(t);Object(g.b)({customerId:a,loginMethod:"Phone",firstName:i,lastName:c,phoneNumber:n})}else if(b.tokenSource===C){var o,r=null===(o=j.a.getItem("access_token"))||void 0===o?void 0:o.secret,s=N.a.getCustomerIdFromToken(r);Object(g.c)(s),localStorage.setItem("loginSkipped",null)}}),[b]),Object(i.useEffect)((function(){F()}),[F]),null}},15:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return _}));var a=n(6),i=n.n(a),c=n(14),o=n(91),r=n(90),s=n(56),d=n(60),l=n(354),u=n(8),b=n(57),v=n(212),j=n(80),O=n(49),m=n(29),f=n(32),p=function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,null,[{key:"paymentStatusOlo",get:function(){return this._data.has(this.KEY_PAYMENT_OLO)||this._data.set(this.KEY_PAYMENT_OLO,!1),this._data.get(this.KEY_PAYMENT_OLO)}},{key:"paymentStatusChannel",get:function(){return this._data.has(this.KEY_PAYMENT_CHANNEL)||this._data.set(this.KEY_PAYMENT_CHANNEL,!1),this._data.get(this.KEY_PAYMENT_CHANNEL)}},{key:"orderStatusOlo",get:function(){return this._data.has(this.KEY_ORDER_OLO)||this._data.set(this.KEY_ORDER_OLO,!1),this._data.get(this.KEY_ORDER_OLO)}},{key:"orderStatusChannel",get:function(){return this._data.has(this.KEY_ORDER_CHANNEL)||this._data.set(this.KEY_ORDER_CHANNEL,!1),this._data.get(this.KEY_ORDER_CHANNEL)}},{key:"transactionId",get:function(){return this._data.get(this.KEY_TRANSACTION_ID)},set:function(e){this._data.set(this.KEY_TRANSACTION_ID,e)}},{key:"payment",get:function(){return this._data.get(this.KEY_PAYMENT)},set:function(e){this._data.set(this.KEY_PAYMENT,e)}},{key:"paymentStatusGoogle",get:function(){return this._data.get(this.KEY_PAYMENT_STATUS_GOOGLE)},set:function(e){var t,n;if(null===e||void 0===e||null===(t=e.paymentMethodData)||void 0===t||null===(n=t.tokenizationData)||void 0===n?void 0:n.token){var a=JSON.parse(e.paymentMethodData.tokenizationData.token);if(null===a||void 0===a?void 0:a.signedMessage){var i,c=JSON.parse(a.signedMessage);this._data.set(this.KEY_PAYMENT_STATUS_GOOGLE,null===c||void 0===c||null===(i=c.paymentMethodDetails)||void 0===i?void 0:i.status)}}}},{key:"shouldGoogleSpotIgnoreOloFailure",get:function(){return console.log("ChannelManager.isGoogle",h.isGoogle),!!h.isGoogle&&("false"===Object(m.a)(f.q)&&h.paymentStatusGoogle===u.n.Status.Pass)}},{key:"googlePhoneToken",get:function(){return this._data.get(this.KEY_GOOGLE_PHONE_TOKEN)},set:function(e){this._data.set(this.KEY_GOOGLE_PHONE_TOKEN,e)}},{key:"oloPhoneToken",get:function(){return this._data.get(this.KEY_OLO_PHONE_TOKEN)},set:function(e){this._data.set(this.KEY_OLO_PHONE_TOKEN,e)}},{key:"oloPaymentInitializer",get:function(){return this._data.get(this.KEY_OLO_PAYMENT_INITIALIZER)},set:function(e){this._data.set(this.KEY_OLO_PAYMENT_INITIALIZER,e)}},{key:"enableFeedback",value:function(){this._data.set(this.KEY_FEEDBACK,!0)}},{key:"disableFeedback",value:function(){this._data.set(this.KEY_FEEDBACK,!1)}},{key:"enabledFakeSolution",value:function(){this._data.set(this.KEY_FAKE_SOLUTIONS,!0)}},{key:"disableFakeSolution",value:function(){this._data.set(this.KEY_FAKE_SOLUTIONS,!1)}}]),e}();p._data=new Map,p.DEFAULT_HEADER="userAgent",p.DEFAULT_NULL="-",p.DEFAULT_BUILD="21.07.19.03.17.2",p.KEY_CHANNEL="data.channel",p.KEY_ADDRESS="data.address",p.KEY_COORDINATES="data.coordinates",p.KEY_EMAIL="data.email",p.KEY_NAME="data.name",p.KEY_PHONE="data.phone",p.KEY_ORDER_ID="data.order.id",p.KEY_STORE_ID="data.store.id",p.KEY_BASKET_ID="data.basket.id",p.KEY_CUSTOMER_ID="data.customer.id",p.KEY_TRANSACTION_ID="data.transaction.id",p.KEY_TAXES="data.taxes",p.KEY_DISCOUNT="data.discount",p.KEY_TOTAL="data.total",p.KEY_SETUP_GOOGLE="setup.google",p.KEY_DEBUG="enable.debug",p.KEY_FAKE_SOLUTIONS="enable.fake.solutions",p.KEY_PAYMENT="data.payment",p.KEY_PAYMENT_STATUS_GOOGLE="data.payment.status.google",p.KEY_GOOGLE_PHONE_TOKEN="data.google.phone.token",p.KEY_OLO_PHONE_TOKEN="data.olo.phone.token",p.KEY_OLO_PAYMENT_INITIALIZER="data.olo.payment.initializer",p.KEY_FEEDBACK_COUNT="data.feedback.counter",p.KEY_PAYMENT_OLO="status.payment.olo",p.KEY_PAYMENT_CHANNEL="status.payment.channel",p.KEY_ORDER_OLO="status.order.olo",p.KEY_ORDER_CHANNEL="status.order.channel",p.STORAGE_PHONE="storage.phone",p.KEY_FEEDBACK="enable.feedback",p.isGoogleSetup=function(){var e;return null!==(e=p._data.get(p.KEY_SETUP_GOOGLE))&&void 0!==e&&e},p.isPhoneSetup=function(){var e;return!h.isGoogle||!!(null===(e=window)||void 0===e?void 0:e.microapps)},p.isDebugEnabled=function(){var e;return null!==(e=h._data.get(p.KEY_DEBUG))&&void 0!==e&&e},p.isFeedbackEnabled=function(){var e;return null!==(e=p._data.get(p.KEY_FEEDBACK))&&void 0!==e&&e},p.isFakeSolutionEnabled=function(){var e;return null!==(e=p._data.get(p.KEY_FAKE_SOLUTIONS))&&void 0!==e&&e},p.feedbackCount=function(){return p._data.get(p.KEY_FEEDBACK_COUNT)||p._data.set(p.KEY_FEEDBACK_COUNT,0),p._data.set(p.KEY_FEEDBACK_COUNT,p._data.get(p.KEY_FEEDBACK_COUNT)+1),p._data.get(p.KEY_FEEDBACK_COUNT)},p.addFeedback=function(e){if(h.isDebugEnabled()||p.isFeedbackEnabled()){var t,n,a=document.createElement("p");"string"===typeof e?n=document.createTextNode("".concat(p.feedbackCount(),": ").concat(e)):e instanceof Error&&(n=document.createTextNode("".concat(p.feedbackCount(),": ").concat(e.stack)),a.style.borderRadius="0.3125rem",a.style.backgroundColor="#ff00001a"),a.appendChild(n),null===(t=document.getElementById("test-feedback"))||void 0===t||t.appendChild(a),console.log("[[ CM ]]",e)}};var h=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,null,[{key:"channel",get:function(){return this._data.has(this.KEY_CHANNEL)||this.BindUserAgent(),this._data.get(this.KEY_CHANNEL)}},{key:"address",get:function(){return this._data.get(this.KEY_ADDRESS)}},{key:"coordinates",get:function(){return this._data.get(this.KEY_COORDINATES)}},{key:"name",get:function(){return this._data.get(this.KEY_NAME)}},{key:"email",get:function(){return this._data.get(this.KEY_EMAIL)}},{key:"phone",get:function(){var e,t=null!==(e=localStorage.getItem(this.STORAGE_PHONE))&&void 0!==e?e:this._data.get(this.KEY_PHONE);return t&&localStorage.setItem(this.STORAGE_PHONE,t),t}},{key:"orderId",get:function(){return this.isFakeSolutionEnabled()?(this.addFeedback("Channel Manager is OVERRIDING order id with ".concat(u.n.Debug.Google.BasketId)),u.n.Debug.Google.OrderId):this._data.get(this.KEY_ORDER_ID)},set:function(e){this._data.set(this.KEY_ORDER_ID,e)}},{key:"storeId",get:function(){return this._data.get(this.KEY_STORE_ID)}},{key:"basketId",get:function(){return this.isFakeSolutionEnabled()?(this.addFeedback("Channel Manager is OVERRIDING basket id with ".concat(u.n.Debug.Google.BasketId)),u.n.Debug.Google.BasketId):this._data.get(this.KEY_BASKET_ID)}},{key:"customerId",get:function(){return this._data.get(this.KEY_CUSTOMER_ID)}},{key:"taxes",get:function(){if(!this._data.get(this.KEY_TAXES)){this._data.set(this.KEY_TAXES,{gst:0,cgst:0,sgst:0,igst:0,cess:0})}return this._data.get(this.KEY_TAXES)}},{key:"discount",get:function(){var e;return null!==(e=this._data.get(this.KEY_DISCOUNT))&&void 0!==e?e:0}},{key:"total",get:function(){var e;return null!==(e=this._data.get(this.KEY_TOTAL))&&void 0!==e?e:0}},{key:"isBrowser",get:function(){return this.channel===u.n.VIEWPORT_CHANNEL_BROWSER}},{key:"isGoogle",get:function(){return this.channel===u.n.VIEWPORT_CHANNEL_GOOGLE}},{key:"isPhonePe",get:function(){return this.channel===u.n.VIEWPORT_CHANNEL_PHONE_PE}},{key:"isPayTm",get:function(){return this.channel===u.n.VIEWPORT_CHANNEL_PAY_TM}},{key:"status",get:function(){return n.isGoogle?this.paymentStatusOlo:null}},{key:"enableGoogleDebug",value:function(){this._data.set(this.KEY_ADDRESS,u.n.Debug.Google.Address),this._data.set(this.KEY_COORDINATES,u.n.Debug.Google.Coordinates),this._data.set(this.KEY_NAME,u.n.Debug.Google.Name),this._data.set(this.KEY_EMAIL,u.n.Debug.Google.Email),this._data.set(this.KEY_PHONE,u.n.Debug.Google.Phone),this.enableDebug(),this.enableFeedback(),this.setForGoogle()}},{key:"enableDebug",value:function(){this._data.set(this.KEY_DEBUG,!0),document.body.classList.add(u.n.VIEWPORT_CLASSNAME_DEBUG)}},{key:"disableDebug",value:function(){this._data.set(this.KEY_DEBUG,!1),document.body.classList.remove(u.n.VIEWPORT_CLASSNAME_DEBUG)}},{key:"BindUserAgent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&(n.enableGoogleDebug(),this._data.delete(this.KEY_CHANNEL)),!this._data.get(this.KEY_CHANNEL)){var a,i,c,o,r,s,d,b,v;if(e)o="".concat(null!==(r=null===e||void 0===e?void 0:e[this.DEFAULT_HEADER])&&void 0!==r?r:null).toLowerCase();if(!l)null!==(s=o)&&void 0!==s||(o="".concat(null!==(d=null===(b=window)||void 0===b||null===(v=b.navigator)||void 0===v?void 0:v.userAgent)&&void 0!==d?d:null).toLowerCase());(null===(a=o)||void 0===a?void 0:a.includes(u.n.VIEWPORT_AGENT_GOOGLE.toLowerCase()))?this.setForGoogle():(null===(i=o)||void 0===i?void 0:i.includes(u.n.VIEWPORT_AGENT_PHONE_PE.toLowerCase()))?this.setForPhonePe():(null===(c=o)||void 0===c?void 0:c.includes(u.n.VIEWPORT_AGENT_PAY_TM.toLowerCase()))?this.setForPayTm():this.setForBrowser()}}},{key:"BindLocation",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isGoogle){e.next=7;break}return e.next=3,N.Coordinates();case 3:return e.next=5,N.Address();case 5:case 12:e.next=18;break;case 7:if(!n.isPhonePe){e.next=14;break}return e.next=10,x.Coordinates();case 10:return e.next=12,x.Address();case 14:return e.next=16,g.Coordinates();case 16:return e.next=18,g.Address();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"BindPhone",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isGoogle){e.next=3;break}return e.next=3,N.Phone();case 3:return e.abrupt("return",this.phone);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"BindUser",value:function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isGoogle){e.next=7;break}return e.next=3,N.User();case 3:return e.next=5,g.User();case 5:e.next=10;break;case 7:if(!n.isPhonePe){e.next=10;break}return e.next=10,x.User(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"BindPayment",value:function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.parseInitializer(t),!n.isGoogle){e.next=8;break}return this.addFeedback("Channel manager is about to call google manager - payment..."),e.next=5,N.Payment();case 5:this.addFeedback("Channel manager has finished calling google manager - payment..."),e.next=9;break;case 8:this.addFeedback("Channel manager has chosen to SKIP payment...");case 9:this.addFeedback("Looks like the await finished for bind payment");case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"BindOrder",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isGoogle){e.next=5;break}return e.next=3,N.Order();case 3:return e.next=5,g.Order();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(p);h.setForGoogle=function(){h._data.set(h.KEY_CHANNEL,u.n.VIEWPORT_CHANNEL_GOOGLE),document.body.classList.add(u.n.VIEWPORT_CLASSNAME_GOOGLE)},h.setForPhonePe=function(){h._data.set(h.KEY_CHANNEL,u.n.VIEWPORT_CHANNEL_PHONE_PE),document.body.classList.add(u.n.VIEWPORT_CLASSNAME_PHONE_PE)},h.setForPayTm=function(){h._data.set(h.KEY_CHANNEL,u.n.VIEWPORT_CHANNEL_PAY_TM),document.body.classList.add(u.n.VIEWPORT_CLASSNAME_PAY_TM)},h.setForBrowser=function(){h._data.set(h.KEY_CHANNEL,u.n.VIEWPORT_CHANNEL_BROWSER),document.body.classList.add(u.n.VIEWPORT_CLASSNAME_BROWSER)},h.parseInitializer=function(e){var t,n;h.oloPaymentInitializer=e,h.transactionId=null===e||void 0===e||null===(t=e.allowedPaymentMethods)||void 0===t||null===(n=t[0].parameters)||void 0===n?void 0:n.transactionId},h.bindGooglePaySpotJS=function(){if(!h.isGoogleSetup()){var e,t=document.createElement("script");t.src=u.n.Setting.Google.Source,document.body.appendChild(t),h.addFeedback("the google pay spot script has been added to the dom..."),h._data.set(h.KEY_SETUP_GOOGLE,!0);try{var n;(null===(n=window)||void 0===n?void 0:n.microapps)||(e=setInterval((function(){var t,n;h.addFeedback("Checking micro apps: "+((null===(t=window)||void 0===t?void 0:t.microapps)?"Pass":"Fail")),(null===(n=window)||void 0===n?void 0:n.microapps)&&(h.addFeedback("Interval cleared: ".concat(e)),clearInterval(e))}),u.n.Setting.Interval),h.addFeedback("Interval added: ".concat(e)))}catch(a){console.log("Exception in function bindGooglePaySpotJS.")}}};var g=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,null,[{key:"Coordinates",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o,r,s,d,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use coordinates from olo - ".concat(h.channel,"...")),!(null===(t=navigator)||void 0===t?void 0:t.geolocation)){e.next=19;break}return e.prev=2,r=function(e){return new Promise((function(t,n){return navigator.geolocation.getCurrentPosition(null!==t&&void 0!==t?t:null,null!==n&&void 0!==n?n:null,e)}))},s={enableHighAccuracy:u.n.Setting.Accuracy,timeout:u.n.Setting.Timeout,maximumAge:u.n.Setting.Expiration},e.next=7,r(s);case 7:d=e.sent,l={longitude:null!==(n=null===d||void 0===d||null===(a=d.coords)||void 0===a?void 0:a.longitude)&&void 0!==n?n:null,latitude:null!==(c=null===d||void 0===d||null===(o=d.coords)||void 0===o?void 0:o.latitude)&&void 0!==c?c:null},this._data.set(this.KEY_COORDINATES,l),this.addFeedback("Channel manager is saving coordinates from olo - ".concat(h.channel,"... ").concat(h.coordinates)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),this.addFeedback("Channel manager hit an exception coordinates from olo - ".concat(h.channel,"...")),this.addFeedback(e.t0);case 17:e.next=20;break;case 19:this.addFeedback("Channel manager has chosen to SKIP coordinates from olo - ".concat(h.channel,"..."));case 20:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"Address",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.coordinates){e.next=6;break}return t={lat:h.coordinates.latitude,lng:h.coordinates.longitude},e.next=4,Object(b.e)(t);case 4:n=e.sent,this._data.set(this.KEY_ADDRESS,n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"User",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.addFeedback("Channel manager has chosen to use user from olo - ".concat(h.channel,"...")),this.addFeedback("Channel manager is saving user name from olo - ".concat(h.channel,"... ").concat(h.name)),this.addFeedback("Channel manager is saving user email from olo - ".concat(h.channel,"... ").concat(h.email));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Order",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.addFeedback("Channel manager has chosen to use order from olo - ".concat(h.channel,"...")),this._data.set(this.KEY_ORDER_OLO,!0),this.addFeedback("Channel manager is saving order status olo - ".concat(h.channel,"... ").concat(this.orderStatusOlo));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(p),N=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,null,[{key:"Coordinates",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use coordinates from google - ".concat(h.channel,"...")),!(null===(t=window)||void 0===t?void 0:t.microapps)){e.next=15;break}return e.prev=2,e.t0=this._data,e.t1=this.KEY_COORDINATES,e.next=7,null===(n=window.microapps)||void 0===n?void 0:n.getCurrentLocation();case 7:e.t2=e.sent,e.t0.set.call(e.t0,e.t1,e.t2),e.next=15;break;case 11:e.prev=11,e.t3=e.catch(2),this.addFeedback("Channel manager hit an exception coordinates from google - ".concat(h.channel,"...")),this.addFeedback(e.t3);case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"Address",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.addFeedback("Channel manager has chosen to use address from google - ".concat(h.channel,"...")),e.next=3,g.Address();case 3:this.addFeedback("Channel manager is saving address from google - ".concat(h.channel,"... ").concat(h.address));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Phone",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use phone from google - ".concat(h.channel,"...")),!(null===(t=window)||void 0===t?void 0:t.microapps)){e.next=26;break}return e.prev=2,c={nonce:u.n.Setting.Google.Nonce,skipPrompt:!u.n.Setting.Google.Prompt},this.addFeedback("Channel manager is about to call google - phone api..."),this.addFeedback("Channel manager is sending phone request to google - ".concat(h.channel,"... ").concat(JSON.stringify(c))),e.next=8,null===(n=window.microapps)||void 0===n?void 0:n.getPhoneNumber(c);case 8:o=e.sent,r=JSON.parse(atob(o.split(".")[1])),s=null===r||void 0===r||null===(a=r.phone_number)||void 0===a?void 0:a.split(" ")[1],localStorage.setItem(this.STORAGE_PHONE,s),this.googlePhoneToken=o,this._data.set(this.KEY_PHONE,s),this.addFeedback("Channel manager is receiving phone request from google - ".concat(h.channel,"... ").concat(o)),this.addFeedback("Phone number ".concat(s,"...")),this.addFeedback("Phone number saved..."),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(2),this.addFeedback("Channel manager hit an exception phone from google - ".concat(h.channel,"...")),this.addFeedback(e.t0),h.isDebugEnabled()&&(this.googlePhoneToken=u.n.Debug.Google.Token.Phone,this.addFeedback("Channel manager is OVERRIDING phone for google - ".concat(h.channel,"... ").concat(this.googlePhoneToken)));case 24:e.next=27;break;case 26:this.addFeedback("Channel manager has chosen to SKIP phone from google - ".concat(h.channel,"..."));case 27:case"end":return e.stop()}}),e,this,[[2,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"User",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use user from google - ".concat(h.channel,"...")),!(null===(t=window)||void 0===t?void 0:t.microapps)){e.next=24;break}return e.prev=2,a={nonce:u.n.Setting.Google.Nonce,skipPrompt:!u.n.Setting.Google.Prompt},e.next=6,null===(n=window.microapps)||void 0===n?void 0:n.getIdentity(a);case 6:c=e.sent,o=JSON.parse(atob(c.split(".")[1])),r=null===o||void 0===o?void 0:o.name,s=null===o||void 0===o?void 0:o.email,this._data.set(this.KEY_NAME,r),this._data.set(this.KEY_EMAIL,s),this.addFeedback("Channel manager identity debug data ".concat(c,"...")),this.addFeedback("User name ".concat(r,"...")),this.addFeedback("User email ".concat(s,"...")),this.addFeedback("User name and email saved..."),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),this.addFeedback("Channel manager hit an exception user from google - ".concat(h.channel,"...")),this.addFeedback(e.t0);case 22:e.next=25;break;case 24:this.addFeedback("Channel manager has chosen to SKIP user from google - ".concat(h.channel,"..."));case 25:case"end":return e.stop()}}),e,this,[[2,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"Payment",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use payment from google - ".concat(h.channel,"...")),!(null===(t=window)||void 0===t?void 0:t.microapps)){e.next=24;break}return e.prev=2,this.addFeedback("Channel manager is sending request... ".concat(JSON.stringify(this.oloPaymentInitializer))),e.next=6,null===(n=window.microapps)||void 0===n?void 0:n.requestPayment(this.oloPaymentInitializer);case 6:a=e.sent,c=JSON.stringify(a),this.addFeedback("Channel manager received google payment response... ".concat(c)),this.paymentStatusGoogle=a,this.payment=c,this.addFeedback("Channel manager is saving payment status ".concat(h.channel,"... ").concat(this.paymentStatusGoogle)),this.addFeedback("Channel manager payment debug data ".concat(a,"...")),this.addFeedback("Channel manager has active payment data... ".concat(JSON.stringify(this.payment))),e.next=22;break;case 16:e.prev=16,e.t0=e.catch(2),this.addFeedback("Channel manager hit an exception payment from google - ".concat(h.channel,"...")),this.addFeedback(e.t0),this.payment=e.t0,h.isDebugEnabled()&&(o=u.n.Debug.Google.Payment.Response,this.paymentStatusGoogle=o,this.payment=JSON.stringify(o),this._data.set(this.KEY_PAYMENT_CHANNEL,!0),this.addFeedback("Channel manager is OVERRIDING payment for google - ".concat(h.channel,"... ").concat(this.paymentStatusChannel)));case 22:e.next=25;break;case 24:this.addFeedback("Channel manager has chosen to SKIP payment from google - ".concat(h.channel,"..."));case 25:case"end":return e.stop()}}),e,this,[[2,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"Order",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,c,o,r,s,d,l,u,b,v,j,O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addFeedback("Channel manager has chosen to use order from google - ".concat(h.channel,"...")),!(null===(t=window)||void 0===t?void 0:t.microapps)){e.next=23;break}return e.prev=2,v=document.querySelector('[alt="KFC LOGO"]'),j={title:"Transaction: ".concat(h.transactionId),subtitle:"Order: ".concat(h.orderId),imageUrl:"https://".concat(null===(n=window)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.host).concat(null===v||void 0===v?void 0:v.src),total:{currency:"INR",value:null!==(c=null===(o=this.oloPaymentInitializer)||void 0===o||null===(r=o.transactionInfo)||void 0===r?void 0:r.totalPrice)&&void 0!==c?c:0},status:{type:"COMPLETED"},payments:[{id:null!==(s=null===(d=this.oloPaymentInitializer)||void 0===d||null===(l=d.allowedPaymentMethods)||void 0===l||null===(u=l[0].parameters)||void 0===u?void 0:u.transactionReferenceId)&&void 0!==s?s:"ref-".concat((new Date).getTime())}],merchant:{id:"KFC"}},this.addFeedback("Channel manager is sending ".concat(h.channel," order request... ").concat(JSON.stringify(j))),e.next=8,null===(b=window.microapps)||void 0===b?void 0:b.createOrder(j);case 8:O=e.sent,this._data.set(this.KEY_ORDER_CHANNEL,!0),this.oloPaymentInitializer=null,this.addFeedback("Channel manager is receiving ".concat(h.channel," order request... ").concat(JSON.stringify(O))),this.addFeedback("Channel manager is saving order status ".concat(h.channel,"... ").concat(this.orderStatusChannel)),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(2),this.oloPaymentInitializer=null,this.addFeedback("Channel manager hit an exception from ".concat(h.channel," order request...")),this.addFeedback(e.t0),h.isDebugEnabled()&&(this._data.set(this.KEY_ORDER_CHANNEL,!0),this.addFeedback("Channel manager is OVERRIDING order status ".concat(h.channel,"... ").concat(this.orderStatusChannel)));case 21:e.next=24;break;case 23:this.addFeedback("Channel manager has chosen to SKIP from google - ".concat(h.channel,"..."));case 24:case"end":return e.stop()}}),e,this,[[2,15]])})));return function(){return e.apply(this,arguments)}}()}]),n}(p),x=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,null,[{key:"Coordinates",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.addFeedback("Channel manager has chosen to use coordinates from phonepe - ".concat(h.channel,"...")),e.next=3,Object(v.a)();case 3:if(!e.sent){e.next=8;break}return e.next=6,g.Coordinates();case 6:e.next=9;break;case 8:console.log("User did not provide location permission");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Address",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.addFeedback("Channel manager has chosen to use address from phonepe - ".concat(h.channel,"...")),e.next=3,g.Address();case 3:this.addFeedback("Channel manager is saving address from phonepe - ".concat(h.channel,"... ").concat(h.address));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"User",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,c,o,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}a=null===(n=j.a.getItem("access_token"))||void 0===n?void 0:n.secret,c=O.a.getFirstNameFromToken(a),o=O.a.getEmailFromToken(a),r=O.a.getPhoneNumberFromToken(a),this._data.set(this.KEY_NAME,null!==c&&void 0!==c?c:null),this._data.set(this.KEY_EMAIL,null!==o&&void 0!==o?o:null),this._data.set(this.KEY_PHONE,null!==r&&void 0!==r?r:null),e.next=11;break;case 10:return e.abrupt("return",Promise.resolve());case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(p),E=n(7),I=n(365),T=n.n(I),S={chrome:">=51",firefox:">=52",edge:">=14",safari:">=10"},C="min.supported.browser",A="is.browser.supported",y=new(function(){function e(){var t,n;Object(s.a)(this,e),this._data=new Map,this.browser=T.a.getParser(null===(t=window)||void 0===t||null===(n=t.navigator)||void 0===n?void 0:n.userAgent)}return Object(d.a)(e,[{key:"minSupportedBrowsers",get:function(){return this._data.get(C)},set:function(e){this._data.set(C,e)}},{key:"isBrowserSupported",get:function(){var e;return null!==(e=this._data.get(A))&&void 0!==e&&e},set:function(e){this._data.set(A,null!==e&&void 0!==e&&e)}},{key:"bind",value:function(e){var t;console.log("=============current user agent info: ",this.browser),console.log("=============current browser and version: ",this.browser.getBrowser()),e||(e=JSON.stringify(S));for(var n=JSON.parse(e),a=0,i=Object.entries(S);a<i.length;a++){var c=Object(E.a)(i[a],2),o=c[0],r=c[1];n["".concat(o)]||(n["".concat(o)]=r)}this.minSupportedBrowsers=n,console.log("=============minSupportedBrowsers: ",this.minSupportedBrowsers),this.isBrowserSupported=null===(t=this.browser.satisfies(this.minSupportedBrowsers))||void 0===t||t,console.log("=============satisfies? ",this.isBrowserSupported)}}]),e}());Object.freeze(y);var _=y},154:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return ae})),n.d(t,"c",(function(){return ce}));var a=n(7),i=n(2),c=n(6),o=n.n(c),r=n(14),s=n(28),d=n(35),l=n(32),u=n(128),b=n(29),v=n(53),j=n(5),O=n(81),m=n(353),f=n(136),p=n(19),h=n(27),g=n(69),N=n(110),x=n(49),E=n(407),I=n(8),T=n(15),S=n(30),C=n(80),A=n(26),y=n(3),_=n(144),D=n(143),R=n(367),w=n(70),k=n.n(w),L=n(278),P=n.n(L),M=n(94),F=n(118),H=n(45),B=n(66),U=n(10),G=n(1),Y=n.n(G),K=n(709),V=n(368),W=n.n(V),q=n(9),z=n(47),Q=(n(604),n(605),n(16)),J=n(404),X=n(77),Z=n(400),$=n.n(Z),ee=n(148),te=n(87),ne=n(0),ae=function(e,t){e&&Object(r.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.b.BindPhone();case 2:n={client_id:Object(b.a)(l.o),grant_type:Object(b.a)(l.p),scope:Object(b.a)(I.n.GOOGLE_SPOT_AUTH_SCOPE),token:T.b.googlePhoneToken,secureTokens:_.b},(null===T.b||void 0===T.b?void 0:T.b.googlePhoneToken)&&t(Object(f.f)(n));case 4:case"end":return e.stop()}}),e)})))()},ie=function(e){e(Object(f.b)({guestBody:{client_id:Object(b.a)(l.s),grant_type:Object(b.a)(l.t),scope:Object(b.a)(l.u)},secureTokens:_.b}))},ce=function(e,t,n){var a,i,c={grant_type:Object(b.a)(l.A),client_id:Object(b.a)(l.c),refresh_token:null===(a=C.a.getItem("refresh_token"))||void 0===a?void 0:a.secret},o={grant_type:Object(b.a)(l.A),client_id:Object(b.a)(l.s),refresh_token:null===(i=C.a.getItem("refresh_token"))||void 0===i?void 0:i.secret};e(n?Object(f.e)({refreshTokenBody:c,secureTokens:_.b,errorCallback:function(){Object(M.d)(null===t||void 0===t?void 0:t.id),setTimeout((function(){window.localStorage.clear(),window.location.replace(Object(b.a)(l.D))}),2e3)}}):Object(f.d)({refreshTokenBody:o,secureTokens:_.b,errorCallback:function(){setTimeout((function(){ie(e)}),2e3)}}))},oe=function(){},re=function(t){var n,c,u,f,N,_=t.isConfigAvailable,D=Object(G.useRef)(),w=Object(G.useRef)(null),L=Object(q.c)((function(e){return e.authReducer})),V=L.tokenSource,Z=L.expires_in,$=L.refresh_expires_in,ee=Object(q.c)((function(e){return e.profileReducer})),te=Object(q.c)((function(e){return e.cartReducer})),oe=Object(q.c)((function(e){return e.errorReducer})),re=Y.a.useState(Object(y.Hb)(window.innerWidth)),se=Object(a.a)(re,2),de=se[0],le=se[1],ue=Y.a.useState(!1),be=Object(a.a)(ue,2),ve=be[0],je=be[1],Oe=U.a.INITIAL_DISPOSITION_DATA,me=U.a.LANGUAGE_UPDATED,fe=U.a.SHOW_CART_ERROR_MODAL,pe=Object(q.c)(R.a).disposition,he=void 0===pe?{}:pe,ge=Object(G.useContext)(Q.a),Ne=ge.userOrderState,xe=ge.userOrderStateDispatch,Ee=Object(q.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=void 0===n?{}:n,c=t.analyticsProviders,o=(c=void 0===c?{}:c).web,r=void 0===o?{}:o,s=t.defaultAnalyticsProviders,d=(s=void 0===s?{}:s).web,l=void 0===d?{}:d,u=t.country;return Object(i.a)(Object(i.a)({},a),{},{analyticsProviders:r,defaultAnalyticsProviders:l,country:u})})),Ie=Ee.analyticsProviders,Te=Ee.defaultAnalyticsProviders,Se=Ee.defaultLanguage,Ce=Ee.country,Ae=Object(q.c)((function(e){return e.appStateReducer.userStatus})),ye=Object(q.c)((function(e){var t,n;return null!==(t=null===e||void 0===e||null===(n=e.appVersionReducer)||void 0===n?void 0:n.response)&&void 0!==t?t:null})),_e=Object(q.c)((function(e){return e.tenantReducer})).allowRemoteWipeOut,De=Object(q.c)((function(e){return e.cartReducer})),Re=De.userLastActiveTime,we=De.cartData,ke=De.cartDataError,Le=De.isBasketLoading,Pe=(we||{}).foodLines,Me=void 0===Pe?[]:Pe,Fe=Y.a.useState(P()(null===we||void 0===we?void 0:we.foodLines,(function(e,t){return e+(null===t||void 0===t?void 0:t.quantity)}),0)),He=Object(a.a)(Fe,2),Be=He[0],Ue=He[1],Ge=Object(q.c)((function(e){return null===e||void 0===e?void 0:e.tenantReducer})),Ye=Ge.tenantId,Ke=Ge.addHope,Ve=Ge.carryBag,We=Object(q.c)((function(e){return null===e||void 0===e?void 0:e.postOrderReducer})),qe=Object(q.c)((function(e){var t=e.i18nReducer,n=(t=void 0===t?{}:t).response,i=(n=void 0===n?{}:n).items;i=void 0===i?[]:i;var c=Object(a.a)(i,1)[0],o=(c=void 0===c?{}:c).sys,r=(o=void 0===o?{}:o).locale,s=c.fields;return{locale:r,i18Translations:(s=void 0===s?{}:s).data}})),ze=qe.locale,Qe=qe.i18Translations;sessionStorage.setItem("userId",null===ee||void 0===ee?void 0:ee.customerId);var Je=Object(q.b)(),Xe=function(){var e=Object(y.Hb)(window.innerWidth);le(e)};Object(G.useEffect)((function(){window.addEventListener("resize",Xe)}),[de]),Object(G.useLayoutEffect)((function(){if(_){var e={gtmId:Object(b.a)(l.r)};W.a.initialize(e)}}),[_]),Object(G.useEffect)((function(){if(_){var e=Object(b.a)(l.n);if(e){var t,n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e.replace("MAP_LANG",null!==(t=null===Se||void 0===Se?void 0:Se.key)&&void 0!==t?t:"en-US"),window.initMap=function(){console.log("Google map has been loaded successfully")},document.head.appendChild(n)}}}),[_,null===Se||void 0===Se?void 0:Se.key]),Object(G.useEffect)((function(){if(w.current=Be,Object(y.r)(Ke,Ve)){var e=Object(y.N)(Me,Ke,Ve),t=null===e||void 0===e?void 0:e.filter((function(e){var t;return!0!==(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.isHidden)}));Ue(P()(t,(function(e,t){return e+(null===t||void 0===t?void 0:t.quantity)}),0))}}),[Me]),Object(G.useEffect)((function(){!function(e,t){var n=JSON.parse(sessionStorage.getItem("reorderClick"));null!=t&&e>t&&!n&&Object(y.k)(e-t)}(Be,null===w||void 0===w?void 0:w.current)}),[Be]);Object(G.useEffect)((function(){if(!k()(Ie)&&!k()(Te)){var e=null===(t=Ie)||void 0===t?void 0:t.map((function(e){return e===(null===v.a||void 0===v.a?void 0:v.a.GTM)?{GTM:y.E}:null}));s.a.registerAnalyticsProviders(e),s.a.defaultAnalyticsProviders=Te}var t}),[Ie,Te]),Object(G.useEffect)((function(){var e,t,n=null===ke||void 0===ke||null===(e=ke.errors)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.includes("out of stock");xe({type:fe,value:{showCartErrorModal:n}})}),[ke]);var Ze=null===(n=C.a.getItem("access_token"))||void 0===n?void 0:n.secret,$e=function(){var e=x.a.getPhoneNumberFromToken(Ze),t=x.a.getCustomerIdFromToken(Ze),n=x.a.getFirstNameFromToken(Ze),a=x.a.getEmailFromToken(Ze);!function(e,t,n,a,c){var o=e.tokenSource,r=e.userParams,s=e.payload,d=e.cartReducer,u=function(){var e,i,c,o;(null===d||void 0===d||null===(e=d.cartData)||void 0===e?void 0:e.id)&&(null===d||void 0===d||null===(i=d.cartData)||void 0===i||null===(c=i.customer)||void 0===c?void 0:c.id)!==a&&t(Object(p.u)({tenantId:n,basketId:null===d||void 0===d||null===(o=d.cartData)||void 0===o?void 0:o.id,customerId:a}))};if(Object(y.Gb)(o)){var v;t(Object(O.b)(Object(i.a)(Object(i.a)({},r),{},{loggedIn:!0}))),(null===c||void 0===c?void 0:c.orderAccepted)&&Object.keys(null===c||void 0===c?void 0:c.orderAccepted).length&&t(Object(X.f)({tenantId:n,customerId:a,orderId:null===c||void 0===c||null===(v=c.orderAccepted)||void 0===v?void 0:v.id})),t(Object(g.d)(s,u,(function(){setTimeout((function(){t(Object(O.a)()),window.localStorage.clear(),sessionStorage.setItem("forcedSignOut",!0),window.location.replace(Object(b.a)(l.D))}))})))}else u()}({tokenSource:V,userParams:Ae,payload:{customerId:t,tenantId:Ye,phoneNumber:e,firstName:n,emailId:a},cartReducer:te},Je,Ye,t,We)};Object(G.useEffect)((function(){var e,t=(Ze&&x.a.getIATfromToken(Ze))+parseInt(Z,10)-Object(A.h)();if(t>0){var n=Object(b.a)(I.n.TOKEN_EXPIRY_GRACE_PERIOD),a=t*Number(n)*.01;e=setTimeout((function(){var e=Object(y.Gb)(V);je(e&&T.b.isGoogle),!T.b.isGoogle&&ce(Je,null===ee||void 0===ee?void 0:ee.basic,e)}),[1e3*(t-a)])}return function(){e&&clearTimeout(e)}}),[Ze,Je,Z,V,null===ee||void 0===ee?void 0:ee.basic]),Object(G.useEffect)((function(){Object(y.fc)(null===ee||void 0===ee?void 0:ee.customerId,null===ee||void 0===ee?void 0:ee.isNewCustomer,Ze)}),[null===ee||void 0===ee?void 0:ee.customerId,null===ee||void 0===ee?void 0:ee.isNewCustomer,Ze]);var et=null===(c=C.a.getItem("refresh_token"))||void 0===c?void 0:c.secret;Object(G.useEffect)((function(){var e,t;if($&&et){var n=x.a.getExpFromToken(et);console.log((new Date).toUTCString(),"******** actual refreshTokenExpireAt ",n);var a=n-Object(A.h)(),i=1e3*(a-60*Number(Object(b.a)(I.n.USER_RESET_GRACE_TIME_MINUTES)));if(console.log((new Date).toUTCString(),"************ userRefreshTimeSpan",i),console.log((new Date).toUTCString(),"************ Engaging Timer "),a>0){e=setTimeout((function(){Object(y.Gb)(V)?!T.b.isGoogle&&function(){var e;Object(M.d)(null===ee||void 0===ee||null===(e=ee.basic)||void 0===e?void 0:e.id),setTimeout((function(){console.log((new Date).toUTCString(),"************ Reset Member User "),window.localStorage.clear(),window.location.replace(Object(b.a)(l.D))}),2e3)}():setTimeout((function(){window.localStorage.clear(),console.log((new Date).toUTCString(),"************"," Guest Token Request"),window.location.assign("/")}),3e3)}),i);var c=1e3*(a-60*Number(Object(b.a)(I.n.USER_RESET_WARNING_GRACE_TIME_MINUTES)));console.log((new Date).toUTCString(),"************ userRefreshWarningToastTimeSpan",c),t=setTimeout((function(){z.b.dark(Object(ne.jsx)("div",{"data-testid":"user-refresh-warning-toast",className:"img-text-div",children:Object(ne.jsx)("span",{className:"text",children:Object(j.e)("userRefreshWarning")})}),{hideProgressBar:!0,position:z.b.POSITION.BOTTOM_CENTER,className:"user-refresh-warning-toast"})}),c)}}return function(){console.log((new Date).toUTCString(),"************ Cleaning Timers "),e&&clearTimeout(e),t&&clearTimeout(t)}}),[Ze,null===ee||void 0===ee||null===(u=ee.basic)||void 0===u?void 0:u.id,$,et,V]);var tt=localStorage.getItem("orderComplete");function nt(){return(nt=Object(r.a)(o.a.mark((function e(){var t,n,a,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(null!==Ne&&void 0!==Ne?Ne:{}).dispositionNew,t=Object(y.Ab)(t)?JSON.parse(localStorage.getItem("dispositionNew")):t,!Ae.localized){e.next=8;break}return i={storeInfo:null===(n=t)||void 0===n?void 0:n.store,dispositionType:Object(y.I)(null===(a=t)||void 0===a?void 0:a.type)},e.next=6,Object(y.f)(i.storeInfo,i.dispositionType,ee.customerId);case 6:c=e.sent,Ye&&Je(Object(p.f)({basketId:we.id},!0,{data:c,tenantId:Ye}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(G.useEffect)((function(){ae(ve,Je)}),[Je,ve]),Object(G.useEffect)((function(){if(_)if(!Ze&&k()(V))ie(Je);else if(!k()(V)&&!k()(Ye)){if(Object(d.m)(Ze),Object(y.Kb)(Ze,Z))$e(),je(!1),localStorage.removeItem("orderComplete");else if(!window.location.href.includes("refresh_request")){var e=Object(y.Gb)(V);je(e&&T.b.isGoogle),!T.b.isGoogle&&Object(y.cc)()}}}),[Ze,V,Z,Ye,_,tt]),Object(G.useEffect)((function(){Object(j.d)({})}),[Je]),Object(G.useEffect)((function(){Object.keys(he).length&&xe({type:Oe,value:{disposition:he}})}),[he]),Object(G.useEffect)((function(){var e="".concat(Ce,"_").concat(I.yb);!function(e,t,n,a){if(e)if(Object(y.Fb)(t)){var i=Object(y.Q)(Object(y.Q)(t)),c=Object(y.ib)(t);Object(j.a)(i,c)}else Object(y.A)(e,n,a)}(Se,e,Ae,Je)}),[Se,Ae,Je,Ce]),Object(G.useEffect)((function(){if(Qe){Object(y.ic)(ze,Qe),Object(j.a)(Qe,ze),Object(j.b)(ze);var e="".concat(Ce,"_").concat(I.yb),t=Object(y.Q)(e);Ce&&I.yb&&Object(y.ic)(e,ze);var n=Object(y.Q)(e);t&&t!==n&&xe({type:me,value:{languageUpdationHappened:ze}})}}),[Qe]),Object(G.useEffect)((function(){_e&&Je(Object(m.a)({object:Object(S.a)(),contentFull:{content_type:"appMetaData",include:"5"}}))}),[Je,_e]),Object(G.useEffect)((function(){var e=localStorage.getItem("webAppVersion");!e&&(null===ye||void 0===ye?void 0:ye.webAppVersion)?localStorage.setItem("webAppVersion",null===ye||void 0===ye?void 0:ye.webAppVersion):(null===ye||void 0===ye?void 0:ye.webAppVersion)>Number(e)&&setTimeout((function(){window.localStorage.clear(),window.location.reload()}),2e3)}),[ye]),Object(G.useEffect)((function(){D.current=Ae.loggedIn}),[Ae.loggedIn]),Object(G.useEffect)((function(){Ae.loggedIn&&!Le&&(null===we||void 0===we?void 0:we.id)&&Object(F.b)(Re)&&function(){nt.apply(this,arguments)}()}),[null===Ne||void 0===Ne?void 0:Ne.dispositionNew,Re,Ae]),Object(G.useEffect)((function(){var e,t,n=null===te||void 0===te||null===(e=te.cartData)||void 0===e||null===(t=e.discountLines)||void 0===t?void 0:t.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.name)!==H.a}));if(!k()(n)){var a,i,c,o,r,s=Object(B.b)(null===n||void 0===n?void 0:n[0]),d=!(null===(a=window)||void 0===a||null===(i=a.location)||void 0===i||null===(c=i.pathname)||void 0===c?void 0:c.includes("cart"));s&&d&&z.b.dark(Object(ne.jsx)("div",{"data-testid":"invalid-coupons-toast",className:"img-text-div",children:Object(ne.jsx)("span",{className:"text",children:s})}),{hideProgressBar:!0,position:z.b.POSITION.BOTTOM_CENTER}),Je(Object(p.m)({basketId:null===te||void 0===te||null===(o=te.cartData)||void 0===o?void 0:o.id,tenantId:Ye,couponCode:null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r.couponCode}))}}),[null===te||void 0===te||null===(f=te.cartData)||void 0===f?void 0:f.discountLines,null===te||void 0===te||null===(N=te.cartData)||void 0===N?void 0:N.id,Je,Ye]),Object(G.useEffect)((function(){var t,n;"development"===(null===(t=e)||void 0===t||null===(n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===n?void 0:n.NODE_ENV)&&(null===oe||void 0===oe?void 0:oe.errorCode)&&z.b.dark(Object(ne.jsx)("div",{"data-testid":"generic-error-toast",className:"img-text-div",children:Object(ne.jsx)("span",{className:"text",children:"".concat(Object(j.e)("somethingWentWrong")," (").concat(null===oe||void 0===oe?void 0:oe.errorCode,")")})}),{hideProgressBar:!0,position:z.b.POSITION.BOTTOM_CENTER,onClose:function(){return Je(Object(h.b)(void 0))}})}),[Je,null===oe||void 0===oe?void 0:oe.errorCode]);var at;return T.a.isBrowserSupported||k()(Qe)?Object(ne.jsxs)(E.a,{isPullable:de&&function(){var e,t;return!(null===Ne||void 0===Ne||null===(e=Ne.scheduleOrderData)||void 0===e?void 0:e.showScheduleOrder)&&!(null===Ne||void 0===Ne||null===(t=Ne.searchStoreData)||void 0===t?void 0:t.showSearchStore)}(),className:"pullToRefresh",onRefresh:function(){return window.location.reload(),!0},refreshingContent:null,pullingContent:null,pullDownThreshold:75,maxPullDownDistance:75,children:[Object(ne.jsx)(J.a,{}),Object(ne.jsx)(z.a,{limit:1})]}):Object(ne.jsxs)(K.a,{variant:"danger",className:"appNotAvailable",children:[null!==(at=Object(j.e)(I.wb))&&void 0!==at?at:"Unsupported Browser. Please use following browsers to use the app.",Object(ne.jsx)("br",{}),JSON.stringify(T.a.minSupportedBrowsers)]})};re.defaultProps={isConfigAvailable:!1};t.a=function(){var t,n,i=U.a.SET_FORCERELOAD,c=Object(G.useContext)(Q.a).userOrderStateDispatch,s=null!==(n=Object(q.c)((function(e){return{tenantReducer:e.tenantReducer,appConfigsReducer:e.appConfigsReducer}})))&&void 0!==n?n:{},v=s.tenantReducer,j=(v=void 0===v?{}:v).tenantId,O=s.appConfigsReducer,m=(O=void 0===O?{}:O).response,f=O.clientId,p=Y.a.useState(!1),h=Object(a.a)(p,2),g=h[0],x=h[1],E=Y.a.useState(!1),C=Object(a.a)(E,2),A=C[0],y=C[1],_=null!==(t=JSON.stringify(m))&&void 0!==t?t:"{}",R=Object(q.b)();return Object(G.useEffect)((function(){var t,n,a=null===(t=e)||void 0===t||null===(n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===n?void 0:n.REACT_APP_TENANT_CODE;R(Object(N.a)(a)),R(Object(ee.a)({tenantCode:a})),Object(D.d)()}),[R]),Object(G.useEffect)((function(){j&&!k()(JSON.parse(_))&&(u.a.setEnvConfigs({responseStr:_,tenantId:j,clientId:f}),console.log("AppConfig: isConfigAvailable? ".concat(u.a.isConfigAvailable)),T.a.bind(Object(b.a)(I.i)),function(t){var n,a,i,c;(null===(n=e)||void 0===n||null===(a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===a||null===(i=a.NODE_ENV)||void 0===i?void 0:i.toLowerCase())!==te.c.DEV&&"yes"===(null===t||void 0===t||null===(c=t.trim())||void 0===c?void 0:c.toLowerCase())&&(console.log=oe,console.error=oe,console.table=oe,console.warn=oe,console.debug=oe)}(Object(b.a)(te.d)),Object(d.n)(Object(b.a)(l.G),Object(b.a)(l.E),Object(b.a)(l.m),Object(b.a)(l.g),Object(b.a)(l.C),Object(b.a)(l.v),Object(b.a)(l.D)),x(u.a.isConfigAvailable),R(Object(N.b)({tenantId:j})))}),[R,_,f,j]),Object(G.useLayoutEffect)((function(){g&&Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.b)();case 2:t=e.sent,console.log("contentful has been initialized, space: ",null===t||void 0===t?void 0:t.name),y(!0);case 5:case"end":return e.stop()}}),e)})))()}),[g,c]),Object(G.useEffect)((function(){$.a.initialize("150938b5-2729-4abe-a2e6-ceaba2105928",{baseUrl:"sdk.fra-01.braze.eu",safariWebsitePushId:"web.com.cognizantorderserv.kfcindia",enableLogging:!0,manageServiceWorkerExternally:!0}),T.b.BindUserAgent(),c({type:i,value:{forceReload:!0}})}),[i,c]),A?Object(ne.jsx)(re,{isConfigAvailable:g}):Object(ne.jsx)(ne.Fragment,{})}}).call(this,n(140))},155:function(e,t,n){"use strict";t.a=n.p+"static/media/Icon_Add_to_Cart.58b87a9b.svg"},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return m}));var a=n(7),i=n(1),c=n(25),o=n(2),r=n(10),s=n(38),d=n(37),l=n(48),u=n(45),b=n(88),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dispositionStateData:{},searchStoreData:{},scheduleOrderData:{},selectedTile:{},confirmUpsizeName:"none",dispositionOld:{type:"",store:"",date:"",time:"",interval:"",deliveryAddress:""},dispositionNew:{type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",selectedTime:""},pdpScreenCommons:{expandType:"all",currentAccordian:"",modGroupIdsUpdated:[]},cartAlertData:{showCartAlert:!1},cartItems:{currentEditItem:{},itemLocations:[]},cartStateData:{showCartState:!1},deliveryAddress:"",showLanguageSelector:!0,languageUpdationHappened:"",addToCart:!1,productItemId:"",categoryId:"",oldProduct:{},isLocalized:!1,customizable:!1,catalogs:"",fromPdpPage:!1,ProductDetails:{},showCouponCopied:!1,showCartClearAlert:!1,modalToOpenOnConfirm:"",modalOpenFrom:"",confirmCallBack:null,currentStoreInfo:null,minipdpData:{itemId:"",fromFlag:"",foodLineId:""},cartEditClicked:!1,deeplinkSelectedStoreId:"",deepLinkStoreMode:!1,showCartErrorModal:!1,forceReload:!1,pdpDeepLinking:!1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.a.INITIAL_DISPOSITION_DATA,a=r.a.DISPOSITION_DATA,i=r.a.SEARCH_ORDER_DATA,v=r.a.SCHEDULE_ORDER_DATA,j=r.a.DISPOSITION_METHOD,O=r.a.SEARCH_ORDER_USER_ADDRESS,m=r.a.SCHEDULE_ORDER_TIME_DATA,f=r.a.SCHEDULE_ORDER_TIME_PRESERVE_DATE,p=r.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,h=r.a.SELECTED_TILE_DATA,g=r.a.SET_DISPOSITION,N=r.a.CART_STATES_DATA,x=r.a.CONFIRM_UPSIZE_ANALYTICS,E=r.a.ADD_TO_CART_CLICK,I=r.a.USER_LOCALIZED,T=r.a.LANGUAGE_SELECTOR,S=r.a.LANGUAGE_UPDATED,C=r.a.PLP_PDP_DETAILS,A=r.a.SHOW_CLEAR_CART_ALERT,y=r.a.CLEAR_CART_CONFIRM_CANCEL_MODAL,_=r.a.CURRENT_STORE_INFO,D=r.a.MINI_PDP_DATA,R=r.a.EDIT_CLICKED,w=r.a.TENDER_DATA,k=r.a.PAYMENET_FORM_PAYLOAD,L=r.a.SHOW_CART_ERROR_MODAL,P=r.a.SET_FORCERELOAD,M=s.a.CUSTM_EXPAND_TYPE,F=s.a.EXPAND_ACCORDIAN,H=s.a.MODGROUP_IDS_UPDATE,B=s.a.UPDATE_DEFAULT_MODGROUP,U=s.a.RESET_MODGROUP_IDS_UPDATE,G=s.a.SET_PDP_DEEPLINK_MODE,Y=d.a.CART_ALERT,K=d.a.SET_ADDED_LOCATION,V=b.a.DISPOSITION_ACTION.SET_QR_DEEPLINK_MODE;switch(t.type){case n:var W=Object(o.a)(Object(o.a)({},e.dispositionStateData),{},{contentData:Object(o.a)({},t.value)});return Object(o.a)(Object(o.a)({},e),{},{dispositionStateData:W});case a:var q=Object(o.a)(Object(o.a)({},e.dispositionStateData),{},{showDisposition:t.value.showDisposition});return Object(o.a)(Object(o.a)({},e),{},{dispositionStateData:q});case j:return Object(o.a)(Object(o.a)({},e),{},{dispositionStateData:Object(o.a)(Object(o.a)({},e.dispositionStateData),{},{dispositionType:t.value.dispositionType})});case i:var z=Object(o.a)(Object(o.a)({},e.searchStoreData),{},{showSearchStore:t.value.showSearchStore,searchedPlaceNonLocalized:t.value.searchedPlaceNonLocalized});return Object(o.a)(Object(o.a)({},e),{},{searchStoreData:z});case O:return Object(o.a)(Object(o.a)({},e),{},{searchStoreData:Object(o.a)(Object(o.a)({},e.searchStoreData),{},{userAddress:t.value.userAddress})});case v:var Q=Object(o.a)(Object(o.a)({},e.scheduleOrderData),{},{showScheduleOrder:t.value.showScheduleOrder,storeInfo:t.value.selectedStoreInfo,changeFlow:t.value.changeFlow,isAddressFlow:t.value.isAddressFlow,deliveryAddress:t.value.deliveryAddress?t.value.deliveryAddress:e.scheduleOrderData.deliveryAddress});return Object(o.a)(Object(o.a)({},e),{},{scheduleOrderData:Q});case h:return Object(o.a)(Object(o.a)({},e),{},{selectedTile:t.value.selectedData});case m:return Object(o.a)(Object(o.a)({},e),{},{scheduleOrderData:Object(o.a)(Object(o.a)({},e.scheduleOrderData),{},{selectedDateTimeInfo:t.value.selectedDateTime})});case f:return Object(o.a)(Object(o.a)({},e),{},{scheduleOrderData:Object(o.a)(Object(o.a)({},e.scheduleOrderData),{},{selectContentData:Object(o.a)(Object(o.a)({},e.scheduleOrderData.selectContentData),{},{savedDate:t.value.selectContentDate})})});case p:return Object(o.a)(Object(o.a)({},e),{},{scheduleOrderData:Object(o.a)(Object(o.a)({},e.scheduleOrderData),{},{selectContentData:Object(o.a)(Object(o.a)({},e.scheduleOrderData.selectContentData),{},{savedTime:t.value.selectContentTime})})});case M:return Object(o.a)(Object(o.a)({},e),{},{pdpScreenCommons:Object(o.a)(Object(o.a)({},e.pdpScreenCommons),{},{expandType:t.value})});case F:return Object(o.a)(Object(o.a)({},e),{},{pdpScreenCommons:Object(o.a)(Object(o.a)({},e.pdpScreenCommons),{},{currentAccordian:t.value})});case H:return Object(o.a)(Object(o.a)({},e),{},{pdpScreenCommons:Object(o.a)(Object(o.a)({},e.pdpScreenCommons),{},{modGroupIdsUpdated:[].concat(Object(c.a)(e.pdpScreenCommons.modGroupIdsUpdated),[t.value])})});case B:return Object(o.a)(Object(o.a)({},e),{},{pdpScreenCommons:Object(o.a)(Object(o.a)({},e.pdpScreenCommons),{},{modGroupIdsUpdated:t.value})});case U:return Object(o.a)(Object(o.a)({},e),{},{pdpScreenCommons:Object(o.a)(Object(o.a)({},e.pdpScreenCommons),{},{modGroupIdsUpdated:[]})});case N:return Object(o.a)(Object(o.a)({},e),{},{cartStateData:{showCartState:t.value.showCartModal}});case x:return Object(o.a)(Object(o.a)({},e),{},{confirmUpsizeName:t.value.confirmUpsizeName});case g:return Object(o.a)(Object(o.a)({},e),{},{dispositionOld:Object(o.a)({},t.value.oldvalue),dispositionNew:Object(o.a)({},t.value.newValue)});case Y:return Object(o.a)(Object(o.a)({},e),{},{cartAlertData:{showCartAlert:t.value.showCartAlert}});case K:return Object(o.a)(Object(o.a)({},e),{},{cartItems:{currentEditItem:t.value.editItem,itemLocations:[].concat(Object(c.a)(e.cartItems.itemLocations),[t.value.itemLocation])}});case E:return Object(o.a)(Object(o.a)({},e),{},{addToCart:t.value.addToCart,productItemId:t.value.productItemId,categoryId:t.value.categoryId,oldProduct:t.value.oldProduct,customizable:t.value.customizable,catalogs:t.value.catalogs,fromPdpPage:t.value.fromPdpPage});case C:return Object(o.a)(Object(o.a)({},e),{},{ProductDetails:t.value});case I:return Object(o.a)(Object(o.a)({},e),{},{isLocalized:t.value.isLocalized});case T:return Object(o.a)(Object(o.a)({},e),{},{showLanguageSelector:t.value.showLanguageSelector});case S:return Object(o.a)(Object(o.a)({},e),{},{languageUpdationHappened:t.value.languageUpdationHappened});case l.r:return Object(o.a)(Object(o.a)({},e),{},{showCouponCopied:!0});case l.f:return Object(o.a)(Object(o.a)({},e),{},{showCouponCopied:!1});case A:return Object(o.a)(Object(o.a)({},e),{},{showCartClearAlert:t.value.showCartClearAlert});case y:return Object(o.a)(Object(o.a)({},e),{},{modalToOpenOnConfirm:t.value.modalToOpenOnConfirm,modalOpenFrom:t.value.modalOpenFrom,confirmCallBack:t.value.confirmCallBack});case _:return Object(o.a)(Object(o.a)({},e),{},{currentStoreInfo:t.value});case D:return Object(o.a)(Object(o.a)({},e),{},{minipdpData:{itemId:t.value.id,fromFlag:t.value.flag,foodLineId:t.value.foodLineId}});case R:return Object(o.a)(Object(o.a)({},e),{},{cartEditClicked:t.value.cartEditClicked});case u.n:return Object(o.a)(Object(o.a)({},e),{},{couponErrorMessage:t.value.couponErrorMessage});case u.o:return Object(o.a)(Object(o.a)({},e),{},{expiryMessage:t.value.expiryMessage});case w:return Object(o.a)(Object(o.a)({},e),{},{tenderInfo:t.value.tenderInfo,isPaymentAdded:t.value.isPaymentAdded});case k:return Object(o.a)(Object(o.a)({},e),{},{paymentFormPayload:t.value.paymentFormPayload});case V:return Object(o.a)(Object(o.a)({},e),{},{deepLinkStoreMode:t.value.deepLinkStoreMode,deeplinkSelectedStoreId:t.value.deeplinkSelectedStoreId});case G:return Object(o.a)(Object(o.a)({},e),{},{pdpDeepLinking:t.value.pdpDeepLinking});case L:return Object(o.a)(Object(o.a)({},e),{},{showCartErrorModal:t.value.showCartErrorModal});case P:return Object(o.a)(Object(o.a)({},e),{},{forceReload:t.value.forceReload});default:return e}},j=n(0),O=Object(i.createContext)({userOrderState:{},userOrderStateDispatch:function(){}}),m=function(e){var t=e.children,n=Object(i.useReducer)(v,{dispositionStateData:{contentData:{}},searchStoreData:{contentData:{},userAddress:""},scheduleOrderData:{changeFlow:!1,contentData:{},storeInfo:{},selectedDateTimeInfo:{time:"",interval:"",date:""},selectContentData:{savedDate:"",savedTime:""}},selectedTile:{},confirmUpsizeName:"none",dispositionOld:{type:"",store:"",date:"",time:"",interval:"",deliveryAddress:""},dispositionNew:{type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",selectedTime:""},pdpScreenCommons:{expandType:"all",currentAccordian:"",modGroupIdsUpdated:[]},cartAlertData:{showCartAlert:!1},cartItems:{currentEditItem:{},itemLocations:[]},cartStateData:{showCartState:!1},deliveryAddress:"",showLanguageSelector:!1,languageUpdationHappened:"",addToCart:!1,productItemId:"",categoryId:"",oldProduct:{},isLocalized:!1,customizable:!1,catalogs:"",fromPdpPage:!1,showCouponCopied:!1,showCartClearAlert:!1,modalToOpenOnConfirm:"",modalOpenFrom:"",currentStoreInfo:null,minipdpData:{itemId:"",fromFlag:"",foodLineId:""},cartEditClicked:!1,couponErrorMessage:"",tenderInfo:{name:"",payload:{}},isPaymentAdded:!1,paymentFormPayload:{},showCartErrorModal:!1,forceReload:!1}),c=Object(a.a)(n,2),o=c[0],r=c[1];return Object(j.jsx)(O.Provider,{value:{userOrderState:o,userOrderStateDispatch:r},children:t})}},180:function(e,t,n){"use strict";var a=n(2),i=n(1),c=n(7),o=n(96),r=n(0),s=["srcFile","isContentfulImage","defaultPath","alt","containerRef"],d=function(e){var t=e.srcFile,n=e.isContentfulImage,d=void 0!==n&&n,l=e.defaultPath,u=void 0===l?"":l,b=e.alt,v=void 0===b?"":b,j=e.containerRef,O=Object(o.a)(e,s),m=Object(i.useState)(null),f=Object(c.a)(m,2),p=f[0],h=f[1],g=Object(i.useState)(!0),N=Object(c.a)(g,2),x=N[0],E=N[1];return Object(i.useEffect)((function(){d?(console.log("ImageCompItems: ".concat(j)),(null===j||void 0===j?void 0:j.clientWidth)>0&&h("".concat(t,"?w=").concat(j.clientWidth,"&fit=fill&fm=webp"))):h(t)}),[j,d,t]),p?Object(r.jsx)("img",Object(a.a)({onError:function(e){e.target.onerror=null,x&&(e.target.src=u),E(!1)},src:p,alt:v||""},O)):null},l=function(e,t){return Object(r.jsx)(d,Object(a.a)(Object(a.a)({},e),{},{containerRef:t}))};t.a=function(e){var t,n=Object(i.useRef)(null);return(null===e||void 0===e?void 0:e.isContentfulImage)?Object(r.jsx)("span",{ref:n,children:l(e,null===(t=n.current)||void 0===t?void 0:t.parentElement)}):l(e)}},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c}));t.d={CLOSED:"CLOSED",SEARCH_IN_CART:"SEARCH_IN_CART",CANCEL:"cancelButtonText",SUBMIT:"Submit",OCCASSOIN_HEADING:"occasionGiveName",OREDER_PLACEHOLDER:"nameThisOrder",YOUR_ORDER:"yourOrder",DELIVER_TO:"deliveryTo",PAYMENT:"payment",ORDER_FROM:"orderFrom",GET_DIRECTION:"getDirection",SUBTOTAL:"subTotal",GST:"GST",REST_HANDLING:"cartIncluTax",DISCOUNT:"DiscountText",GIFT_CARD:"giftCard",TOTAL:"total",COMPLETED:"completed",NO_ORDER_MSG:"noOrderFor12",REFUND_MSG:"refundMessage",HAVE_A_QUESTION:"haveAQuestion",CONNECT_WITH_SPECIALIST:"connectWithASpecialist",YOUR_PAST_ORDER:"yourPastOrder",LOOKING_FOR_OFFER:"lookingForSpecificOrder",ORDER_HISTORY_TAG:"orderHistory",REFUND_INIT:"refund-initiated",SCHEDULE:"scheduled",REORDER_TEXT:"reorderBtn",GOOD_EVE:"",MSG:"message",MY_FAV_MENU:"myFavorite",ADDRESS:"address",ACCOUNT_SETTING:"accoundSetting",SIGN_OUT:"signOut",REFUND_INIT_TEXT:"refundInitiated",ORDER:"order",TRACK_YOUR_ORDER:"trackYourOrder",AT:"at",GET_HELP:"getHelp",LOAD_MORE:"loadMore",VIEWED:"Viewed",OF:"of",ORDER_LOOKUP:"orderLookup",VIEW_MENU:"viewMenu",ADD_TO_OCCASION:"addToOccasion",VIEW_RECEIPT:"viewReceipt",SAVE:"save",EDIT_OCCASSION_DIALOG_TITLE:"Edit Occasion Name",OCCASSION_LABEL:"Occasion Name",SAME_OCCASSIONNAME_ERROR:"Occasion name already exists",EMPTY_OCCASSION_FIELD_ERROR:"Occasion name should not be empty",ADD_TO_CART_OCCASSION:"Add to Cart",STORE_CLOSED_BUTTON_TEXT:"storeClosedButtonText",ITEM_UNAVAILABLE:"Unavailable",VIEW_ORDER_HISTORY_BTN:"View Order History",MY_OCCASSION_TEXT:"My Occasions",MY_OCCASSION_UNAVAILABLE_TITLE:"You haven't created any occasions yet",DELETE_OCCASSION_TEXT:"Delete this Occassion",REORDER_OCCASSION:"Reorder",MY_FAVOURITE_MENU_TITLE_TEXT:"My Favorite Menu",MY_FAVOURITE_NO_ITEMS_TEXT:"You haven't favorited any items yet",MY_FAVOURITE_BROWSE_MENU:"Browse the menu",EDIT_ITEM_TEXT:"editItemText",MORNING:"morning",NOON:"noon",EVENING:"evening",ACCOUNT_FAV_PAGE:"Account - Favorite Menu",KFC_LOVER:"KFC LOVER",TODAY_AT:"todayAt",ADD_ITEM_TO_CART_TEXT:"addItemToCartText",LARGE_CARRY_BAG:"largeCarryBag",ADD_HOPE_TEXT:"addhope",NAME_EXIST:"nameExistMsg",OCCASION_NAME_VALIDATION:"OccasionNameValidation",UNFAVOURITE_ITEM_MESSAGE:"unFavoriteItemMessage",ACCOUNT_ORDERS:"Account - Order History",TRACK_ORDER:"trackOrder",CANCELLED:"Cancelled",DELIVERED:"Delivered",PICK_UP:"PICK UP"};var a={ACCOUNT_SETTINGS_TEXT:"accoundSetting",DELETE_ACCOUNT_TEXT:"deleteAccount",EDIT_PERSONAL_INFO:"editPersonalInfo",FIRST_NAME_TEXT:"firstNamePlaceholder",LAST_NAME_TEXT:"lastNamePlaceHolder",EMAIL_TEXT:"emailPlaceholder",PHONE_NUMBER_TEXT:"phonePlaceholder",CANCEL:"cancelButtonText",SAVE:"save",PERSONAL_INFO_TEXT:"personalInfo",EDIT:"edit",DELETE_ACCOUNT_MESSAGE:"areYouSureToDeleteAccountText",CONFIRM:"confirm",emailHelpText:"emailHelpText",phoneHelpText:"phoneHelpText",firstNameHelpText:"firstNameHelpText",lastNameHelpText:"lastNameHelpText"},i={COMMUNICATION_PREFERENCES_TEXT:"communicationPreferences",LEAVE:"leaveText",SAVE:"save"},c="https://"},212:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));var a=n(6),i=n.n(a),c=n(14),o=n(149),r=n(51),s=function(e){var t=e.find((function(e){return String(e.permission)===o.PhonePe.Constants.Permission.LOCATION}));return Boolean(t&&(null===t||void 0===t?void 0:t.permissionGranted))},d=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.PhonePe.PhonePe.build(o.PhonePe.Constants.Species.web);case 2:return t=e.sent,e.next=5,t.seekPermission([o.PhonePe.Constants.Permission.LOCATION]);case 5:return n=e.sent,e.abrupt("return",Boolean(n&&s(n)));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(e,t,n){console.log("reservationId::",e),console.log("fallbackURL::",t),o.PhonePe.PhonePe.build(o.PhonePe.Constants.Species.web).then((function(a){a.proceedToPay(e,t).then((function(e){console.log("Payment was successful = "+e),n(r.c.PHONEPE_SWITCH_CONSTANTS.SUCCESS)})).catch((function(e){console.log("Payment failed"+e),n(r.c.PHONEPE_SWITCH_CONSTANTS.FAILURE)}))}))}},22:function(e,t,n){"use strict";t.a={MIN_SEARCH_CHARACTER_LIMIT:2,CONFIRM_BUTTON_TEXT:"confirm",VIEW_MAP_BUTTON_TEXT:"viewMap",SUUGESTED_ITEMS_TEXT:"suggestedSearchTerms",ALLOWED_SUGGESTION_LIST:["locality","political","geocode","point_of_interest","establishment"],ALREADY_SERACHED_LOCATIONS:"seachedLocations",SUGGESTION_ACTIVE_COLOR:"#F8F7F5",SUGGESTION_ACTIVE_OPACITY:"0.9",COLOR_BLACK:"black",BRAND_BLACK:"#202124",COUNTRY_CODE:"IN",COUNTRY_CODE_INDIA:"IN",FULFILLED_TEXT:"fulfilled",TYPE_DELIVERY:"DELIVERY",TYPE_TAKE_WAY:"PICKUP",DINE_IN:"DINE IN",PICK_UP:"pickup",TAKE_AWAY:"Pick up",OK_STATUS:"OK",DELIVERY_TIME_LIMIT_MINUTES:30,STORE_CARD_LIMIT:5,SERVICE_CHANNEL:"web",TENANT_ID:"15895bb59f7b4bb588ee933f8cd5344a",TENATNT_SESSION_ID:"9b1deb434ff32h4jv23f4v2g3hj4",STORE_STATUS_OPEN:"OPEN",STORE_STATUS_CLOSED:"closed",OPENS_UNTIL:"openUntil",OPENS_TOMORROW:"openTomorrow",STORE_STATUS_CLOSED_CAPS:"CLOSED",EVERYDAY:"EVERYDAY",DATETITLE:"Date",TIMETITLE:"Time",PLACE_PIN:"placePinAtYourLocation",LOCATION_WARNING_MESSAGE:"addressSuggestionHeader",RETRY_TEXT:"retry",USE_THIS_ADDRESS_TEXT:"useAddress",LIST_TEXT:"list",NOTAVAILABLE:"NOT_AVAILABLE",SAVED_ADDRESS:"savedAddress",START_ORDER_TEXT:"startOrder",BROWSE_MENU:"browseMenu",NO_STORE_ERROR_TEXT_TAKEAWAY:"noStoreTextTakeaway",NO_STORE_ERROR_TEXT_DINEIN:"noStoreTextDineIn",TAKE_AWAY_SERVICE:"pickup",DINE_IN_SERVICE:"dine in",DELIVERY_SERVICE:"delivery",SEARCH_THIS_AREA:"searchThisArea",INDIA:"INDIA",TAKEAWAY_UNAVAILABLE_WITH_CTA:"takeAwayUnavalibleErrorTextWithCTA",TAKEAWAY_UNAVAILABLE:"takeAwayUnavalibleErrorText",CTA1_SEARCH_DIFF_ADDRESS:"searchDiffAddressText",DINEIN_UNAVAILABLE:"dineInUnavailableErrorText",DELIVERY_UNAVAILABLE:"deliveryUnavailableErrorText",DELIVERY_UNAVAILABLE_WITH_CTA:"deliveryUnavailableErrorTextWithCTA",CTA2_ORDER_TAKEAWAY:"orderTakeAwayBtnText",CTA2_VIEW_MAP_BUTTON_TEXT:"viewMapErrorButton",HHMM:"hh:mm",LT:"LT"}},222:function(e,t,n){"use strict";(function(e){var a=n(7),i=n(1),c=n(9),o=n(13),r=n(390),s=n(0),d=function(t){var n=t.isInProgress,d=Object(i.useRef)(null),l=Object(i.useState)(!1),u=Object(a.a)(l,2),b=u[0],v=u[1],j=Object(c.c)((function(t){var a;return null!==(a=function(t){var n,a,i,c,o,r,s,d,l,u,b,v,j,O,m,f,p,h,g,N,x,E,I,T,S,C,A,y,_,D,R,w,k,L,P,M,F,H,B,U,G,Y,K,V,W,q,z,Q,J,X,Z,$,ee;return"development"===(null===(n=e)||void 0===n||null===(a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===a?void 0:a.NODE_ENV)&&Object.values(t).forEach((function(e){Object.keys(e).filter((function(e){return/Loading$/.test(e)})).forEach((function(t){!0===e[t]&&console.log("".concat(t,": "),e[t])}))})),(null===(i=t.appConfigsReducer)||void 0===i?void 0:i.isLoading)||(null===(c=t.menuReducer)||void 0===c?void 0:c.isLoading)||(null===(o=t.menuReducer)||void 0===o?void 0:o.isItemDetailsLoading)||(null===(r=t.contentReducer)||void 0===r?void 0:r.isContentfulLoading)||(null===(s=t.profileReducer)||void 0===s?void 0:s.isLoading)||(null===(d=t.placesAutocompleteReducer)||void 0===d?void 0:d.isLoading)||(null===(l=t.placesAutocompleteReducer)||void 0===l?void 0:l.isPlacesReverseGeoLoading)||(null===(u=t.placesAutocompleteReducer)||void 0===u?void 0:u.isPlacesGeoLoading)||(null===(b=t.storesReducer)||void 0===b?void 0:b.isGoogleDistanceLoading)||(null===(v=t.storesReducer)||void 0===v?void 0:v.isStoreStatusLoading)||(null===(j=t.storesReducer)||void 0===j?void 0:j.isNearByStoresLoading)||(null===(O=t.storesReducer)||void 0===O?void 0:O.isStoreTimeSlotsLoading)||(null===(m=t.storesReducer)||void 0===m?void 0:m.isStoreDetailsLoading)||(null===(f=t.cartReducer)||void 0===f?void 0:f.isCouponLoading)||(null===(p=t.cartReducer)||void 0===p?void 0:p.getCouponLoading)||(null===(h=t.cartReducer)||void 0===h?void 0:h.isAddItemLoading)||(null===(g=t.cartReducer)||void 0===g?void 0:g.isRemoveItemLoading)||(null===(N=t.cartReducer)||void 0===N?void 0:N.isRemoveAllItemLoading)||(null===(x=t.cartReducer)||void 0===x?void 0:x.isUpdateQuantityLoading)||(null===(E=t.cartReducer)||void 0===E?void 0:E.isBasketDetailsLoading)||(null===(I=t.cartReducer)||void 0===I?void 0:I.isBasketLoading)||(null===(T=t.cartReducer)||void 0===T?void 0:T.isValidateBasketLoading)||(null===(S=t.giftCardPurchaseReducer)||void 0===S?void 0:S.isPurchaseLoading)||(null===(C=t.createBalanceReducer)||void 0===C?void 0:C.isGiftCardCheckLoading)||(null===(A=t.addHopeContentReducer)||void 0===A?void 0:A.isGetAddHopeContentLoading)||(null===(y=t.moreReducer)||void 0===y?void 0:y.isGetMoreContentLoading)||(null===(_=t.paymentsReducer)||void 0===_?void 0:_.isGetPaymentTendersLoading)||(null===(D=t.paymentsReducer)||void 0===D?void 0:D.isNetbankPaymentLoading)||(null===(R=t.paymentsReducer)||void 0===R?void 0:R.isGetNetBankLoading)||(null===(w=t.paymentsReducer)||void 0===w?void 0:w.isPaytmPaymentLoading)||(null===(k=t.paymentsReducer)||void 0===k?void 0:k.isPhonePeStatusLoading)||(null===(L=t.paymentsReducer)||void 0===L?void 0:L.isPhonePayLoading)||(null===(P=t.paymentsReducer)||void 0===P?void 0:P.isPaytmStatusLoading)||(null===(M=t.paymentsReducer)||void 0===M?void 0:M.isWalletsListLoading)||(null===(F=t.i18nReducer)||void 0===F?void 0:F.isI18Nloading)||(null===(H=t.privacyPolicyReducer)||void 0===H?void 0:H.isLoading)||(null===(B=t.termsOfUseReducer)||void 0===B?void 0:B.isLoading)||(null===(U=t.ourAdsReducer)||void 0===U?void 0:U.isLoading)||(null===(G=t.orderHistoryReducer)||void 0===G?void 0:G.orderHistoryLoading)||(null===(Y=t.orderHistoryReducer)||void 0===Y?void 0:Y.addFavouriteOrderLoading)||(null===(K=t.orderHistoryReducer)||void 0===K?void 0:K.deleteFavouriteOrderLoading)||(null===(V=t.paymentsGoogleSpotReducer)||void 0===V?void 0:V.isSpotLoading)||(null===(W=t.orderReducer)||void 0===W?void 0:W.isPlaceOrder)||(null===(q=t.LoaderReducer)||void 0===q?void 0:q.isLoading)||(null===(z=t.microAppPaymentReducer)||void 0===z?void 0:z.isPaytmPaymentLoading)||(null===(Q=t.microAppPaymentReducer)||void 0===Q?void 0:Q.isPaytmPayStatusLoading)||(null===(J=t.microAppPaymentReducer)||void 0===J?void 0:J.isPhonepePaymentLoading)||(null===(X=t.microAppPaymentReducer)||void 0===X?void 0:X.isPhonepePayStatusLoading)||(null===(Z=t.postOrderReducer)||void 0===Z?void 0:Z.orderAcceptedLoading)||(null===($=t.reorderReducer)||void 0===$?void 0:$.isReorderStoreStatusLoading)||(null===(ee=t.authReducer)||void 0===ee?void 0:ee.isLoading)}(t))&&void 0!==a?a:n}));return Object(i.useEffect)((function(){v(j),j?d.current=setInterval((function(){v(!1)}),25e3):clearTimeout(d.current)}),[j]),b?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"kfc-loader","data-testid":"kfc-loader-id",children:Object(s.jsx)(o.a,{className:"",srcFile:"".concat(r.a),alt:"Loader"})})}):null};d.defaultProps={isInProgress:!1},t.a=d}).call(this,n(140))},26:function(e,t,n){"use strict";n.d(t,"l",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return N})),n.d(t,"r",(function(){return x})),n.d(t,"s",(function(){return E})),n.d(t,"o",(function(){return I})),n.d(t,"q",(function(){return T})),n.d(t,"k",(function(){return S})),n.d(t,"j",(function(){return C})),n.d(t,"i",(function(){return A})),n.d(t,"m",(function(){return y})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return D})),n.d(t,"a",(function(){return R})),n.d(t,"f",(function(){return w})),n.d(t,"p",(function(){return k})),n.d(t,"n",(function(){return L}));var a=n(40),i=n.n(a),c=n(355),o=n.n(c),r=n(356),s=n.n(r),d=n(182),l=n.n(d),u=n(357),b=n.n(u),v=n(183),j=n.n(v),O=n(184),m=n.n(O);i.a.extend(b.a),i.a.extend(o.a),i.a.extend(s.a),i.a.extend(l.a),i.a.extend(j.a),i.a.extend(m.a);var f=function(e,t){return i.a.unix(e).format(t)},p=function(e,t){return i()(e).format(t)},h=function(e){return i()().format(e)},g=function(){return i()().unix()},N=function(){return i()(new Date)},x=function(e,t){return i()(e,t)},E=function(e,t,n){return i()(e,t).format(n)},I=function(){return i()().valueOf()},T=function(e){return i.a.unix(e)},S=function(e,t){return i()(e,t).unix()},C=function(e){return i.a.duration(i()().diff(i()(e),"ms")).asHours()},A=function(e,t){return i.a.duration(e,t)},y=function(e,t,n){return null===e||void 0===e?void 0:e.diff(t,n)},_=function(e,t,n){if("ASAP"===t)return!1;"-"===t&&(t=N());var a=i()(e,n),c=i()(t,n);return i()(a).isAfter(c)},D=function(e,t,n){return i()(e).isBetween(t,n)},R=function(e,t,n){return i()(e).add(t,n)},w=function(e,t){return e.format(t)},k=function(e){var t=T(e),n=N(),a=y(t,n,"hour"),i=n.add(a,"hours"),c=y(t,i,"minute"),o=i.add(c,"minutes"),r=y(t,o,"second");return!(a<0||c<0||o<0||r<0)},L=function(e){return i()(new Date).diff(T(e),"second")}},277:function(e,t){},3:function(e,t,n){"use strict";(function(e,a){n.d(t,"V",(function(){return Q})),n.d(t,"W",(function(){return J})),n.d(t,"jb",(function(){return X})),n.d(t,"dc",(function(){return Z})),n.d(t,"mb",(function(){return $})),n.d(t,"F",(function(){return ee})),n.d(t,"hb",(function(){return te})),n.d(t,"kb",(function(){return ne})),n.d(t,"fb",(function(){return ae})),n.d(t,"T",(function(){return ie})),n.d(t,"Hb",(function(){return ce})),n.d(t,"Eb",(function(){return oe})),n.d(t,"j",(function(){return re})),n.d(t,"Bb",(function(){return se})),n.d(t,"zb",(function(){return de})),n.d(t,"O",(function(){return le})),n.d(t,"M",(function(){return ue})),n.d(t,"P",(function(){return be})),n.d(t,"I",(function(){return ve})),n.d(t,"G",(function(){return je})),n.d(t,"H",(function(){return Oe})),n.d(t,"y",(function(){return me})),n.d(t,"Mb",(function(){return fe})),n.d(t,"Nb",(function(){return pe})),n.d(t,"gb",(function(){return he})),n.d(t,"S",(function(){return Ne})),n.d(t,"Cb",(function(){return xe})),n.d(t,"Ab",(function(){return Ee})),n.d(t,"f",(function(){return Ce})),n.d(t,"g",(function(){return De})),n.d(t,"Gb",(function(){return Re})),n.d(t,"kc",(function(){return we})),n.d(t,"Sb",(function(){return ke})),n.d(t,"Q",(function(){return Le})),n.d(t,"ib",(function(){return Pe})),n.d(t,"ic",(function(){return Me})),n.d(t,"Fb",(function(){return Fe})),n.d(t,"A",(function(){return He})),n.d(t,"k",(function(){return Be})),n.d(t,"gc",(function(){return Ge})),n.d(t,"Y",(function(){return Ye})),n.d(t,"Z",(function(){return Ve})),n.d(t,"cc",(function(){return qe})),n.d(t,"Kb",(function(){return ze})),n.d(t,"qc",(function(){return Je})),n.d(t,"d",(function(){return Xe})),n.d(t,"E",(function(){return Ze})),n.d(t,"jc",(function(){return $e})),n.d(t,"wb",(function(){return et})),n.d(t,"Rb",(function(){return tt})),n.d(t,"z",(function(){return nt})),n.d(t,"X",(function(){return at})),n.d(t,"vb",(function(){return it})),n.d(t,"qb",(function(){return ct})),n.d(t,"sb",(function(){return ot})),n.d(t,"bb",(function(){return rt})),n.d(t,"tb",(function(){return st})),n.d(t,"K",(function(){return dt})),n.d(t,"ub",(function(){return lt})),n.d(t,"rb",(function(){return ut})),n.d(t,"lb",(function(){return bt})),n.d(t,"r",(function(){return vt})),n.d(t,"e",(function(){return jt})),n.d(t,"s",(function(){return Ot})),n.d(t,"w",(function(){return mt})),n.d(t,"b",(function(){return ft})),n.d(t,"R",(function(){return pt})),n.d(t,"Db",(function(){return ht})),n.d(t,"Ob",(function(){return gt})),n.d(t,"o",(function(){return Nt})),n.d(t,"U",(function(){return xt})),n.d(t,"Qb",(function(){return Et})),n.d(t,"m",(function(){return It})),n.d(t,"ob",(function(){return Tt})),n.d(t,"p",(function(){return St})),n.d(t,"v",(function(){return Ct})),n.d(t,"Lb",(function(){return yt})),n.d(t,"oc",(function(){return Dt})),n.d(t,"pc",(function(){return wt})),n.d(t,"lc",(function(){return kt})),n.d(t,"mc",(function(){return Lt})),n.d(t,"xb",(function(){return Mt})),n.d(t,"yb",(function(){return Ft})),n.d(t,"Jb",(function(){return Ht})),n.d(t,"c",(function(){return Bt})),n.d(t,"Zb",(function(){return Ut})),n.d(t,"Wb",(function(){return Gt})),n.d(t,"Xb",(function(){return Yt})),n.d(t,"Yb",(function(){return Kt})),n.d(t,"bc",(function(){return Vt})),n.d(t,"ac",(function(){return Wt})),n.d(t,"Vb",(function(){return qt})),n.d(t,"N",(function(){return zt})),n.d(t,"q",(function(){return Jt})),n.d(t,"nb",(function(){return Xt})),n.d(t,"Ib",(function(){return Zt})),n.d(t,"u",(function(){return $t})),n.d(t,"i",(function(){return en})),n.d(t,"Ub",(function(){return tn})),n.d(t,"a",(function(){return nn})),n.d(t,"C",(function(){return an})),n.d(t,"Pb",(function(){return cn})),n.d(t,"l",(function(){return on})),n.d(t,"h",(function(){return rn})),n.d(t,"db",(function(){return sn})),n.d(t,"L",(function(){return dn})),n.d(t,"hc",(function(){return ln})),n.d(t,"nc",(function(){return un})),n.d(t,"J",(function(){return bn})),n.d(t,"Tb",(function(){return vn})),n.d(t,"cb",(function(){return jn})),n.d(t,"pb",(function(){return On})),n.d(t,"ec",(function(){return mn})),n.d(t,"D",(function(){return fn})),n.d(t,"t",(function(){return pn})),n.d(t,"eb",(function(){return hn})),n.d(t,"x",(function(){return gn})),n.d(t,"B",(function(){return Nn})),n.d(t,"ab",(function(){return xn})),n.d(t,"fc",(function(){return En})),n.d(t,"n",(function(){return In}));var i,c,o=n(6),r=n.n(o),s=n(14),d=n(36),l=n(25),u=n(2),b=n(71),v=n(28),j=n(33),O=n(32),m=n(29),f=n(8),p=n(5),h=n(358),g=n(185),N=n(49),x=n(15),E=n(44),I=n(120),T=n(20),S=n(21),C=n(10),A=n(113),y=n(47),_=n(37),D=n(43),R=n(30),w=n(80),k=n(26),L=n(13),P=n(364),M=n(155),F=n(19),H=n(143),B=n(0),U=D.a.PHONE_NUM,G=n(209),Y=[375,540,720,960,1140],K=["xs","sm","md","lg","xl"],V=I.a.MEMBER_SOURCE,W=I.a.REFRESH_SOURCE,q=C.a.CURRENT_STORE_INFO,z=C.a.SET_DISPOSITION,Q=function(e){var t,n=e[f.K]||[],a={},i=Object(b.a)(n);try{for(i.s();!(t=i.n()).done;){var c,o,r,s=t.value,d=Object(u.a)({},s.fields);delete d.title;var l=null===s||void 0===s||null===(c=s.sys)||void 0===c||null===(o=c.contentType)||void 0===o||null===(r=o.sys)||void 0===r?void 0:r.id;l===E.a.ORDERSERV?a[s.fields.name]=Object(u.a)({},d):a[l]=Object(u.a)({},d)}}catch(v){i.e(v)}finally{i.f()}return a},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={headerSection:[],subHeaderSection:[]};return t.headerSection=e&&e.fields&&e.fields.headerSection||[],t.subHeaderSection=e&&e.fields&&e.fields.subHeaderSection||[],t},X=function(e){return e&&e[0]&&e[0].fields?{disposition:e[0].fields.disposition}:{}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?e.toUpperCase():""},$=function(e){var t=Object(k.l)(e,"h:mm A");return console.log("displayTime",t),t},ee=function(e){return Object(k.l)(e,"MMM D,YYYY")},te=function(e){var t=((e||{}).privacyPolicyResp||{}).items,n=null===t||void 0===t?void 0:t.map((function(e){return null===e||void 0===e?void 0:e.fields}));return{headerData:{title:n[0].title,effectiveDate:Object(k.e)(n[0].effectiveDate,"MMMM D, YYYY")},description:n[0].description,questionList:n[0].body.map((function(e){return e.fields}))}},ne=function(e){var t,n,a,i,c,o=(e||{}).termsResponseData,r=(o=void 0===o?{}:o).items,s=null===r||void 0===r?void 0:r.map((function(e){return null===e||void 0===e?void 0:e.fields}));return{headerData:{title:null===(t=s[0])||void 0===t?void 0:t.title,description:null===(n=s[0])||void 0===n||null===(a=n.description)||void 0===a||null===(i=a.content[0])||void 0===i||null===(c=i.content[0])||void 0===c?void 0:c.value},questionList:s[0].body.map((function(e){return e.fields}))}},ae=function(e){var t=((e||{}).ourAdsResp||{}).items.map((function(e){return e.fields}));return{headerData:{title:t[0].title,effectiveDate:Object(k.e)(t[0].effectiveDate,"MMMM D, YYYY")},description:t[0].description,questionList:t[0].body.map((function(e){return e.fields}))}},ie=function(e){var t,n,a,i,c,o,r,s,d,l,u,b,v=((null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.giftCardResp)||void 0===n||null===(a=n.items[0])||void 0===a||null===(i=a.fields)||void 0===i?void 0:i.body)||[]).map((function(e){return e.fields}));return{headerData:{headline:null===(c=v[0])||void 0===c?void 0:c.headline,subHeadline:null===(o=v[0])||void 0===o?void 0:o.subHeadline},desktopImage:null===(r=v[1])||void 0===r?void 0:r.desktopImage.fields.file,mobileImage:null===(s=v[1])||void 0===s?void 0:s.mobileImage.fields.file,giftAmount:{title:null===(d=v[2])||void 0===d?void 0:d.shortText,list:null===(l=v[2])||void 0===l?void 0:l.listText},termsncondition:{data:null===(u=v[3])||void 0===u?void 0:u.longText,title:null===(b=v[3])||void 0===b?void 0:b.shortText}}},ce=function(e){return window&&e<1024||(window&&window.matchMedia("only screen &(max-width:1023px)")).matches},oe=function(){return(window&&window.matchMedia("".concat(f.O))).matches},re=function(e){return!e&&Object(B.jsx)(L.a,{className:"add-to-cart-Icon",srcFile:M.a})},se=function(e){var t=!1;return e&&Object.keys(e).length&&(t=!0),t},de=function(e){var t=Array.isArray(e);return t?0===e.length:t},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.fields&&e.fields.footerContent||[]},ue=function(e){var t=(e&&e.helpResponse&&e.helpResponse.Help&&e.helpResponse.Help.fields||[]).content,n=void 0===t?[]:t,a=n.filter((function(e){return e.fields.question})).map((function(e){return{question:e.fields.question,answer:e.fields.answer&&e.fields.answer.content[0].content[0].value}})),i=n.filter((function(e){return e.fields.buttonText&&"View All FAQs - Button"===e.fields.name})).map((function(e){return e.fields.buttonText})),c=n.filter((function(e){return e.fields.buttonText&&"FAQ - Call us"===e.fields.name})).map((function(e){return e.fields.buttonText})),o=n.filter((function(e){return e.fields.buttonText&&"Contact Us button"===e.fields.name})).map((function(e){return e.fields.buttonText})),r=n.filter((function(e){return e.fields.headline})).map((function(e){return e.fields.headline}));return{faqData:{faqContent:Object(l.a)(a),faqButtonText:i[0]},contactData:{headline:r[0],callButtonText:c[0],mailButtonText:o[0]}}},be=function(e){var t=e.ourFaqResp.items[0].fields,n=t.body.map((function(e){var t=e.sys;return"callToAction"===t.contentType.sys.id||"navigationLink"===t.contentType.sys.id||"logoicon"===t.contentType.sys.id||"faq"===t.contentType.sys.id?e:void 0}));return{FinalData:t.faqTopics.map((function(e){var t=e.fields.title;return{QuesAns:e.fields.topicContent.map((function(e){return e.fields})),Title:t}})),ButtonInfo:n}},ve=function(e){var t="";switch(null===e||void 0===e?void 0:e.toUpperCase()){case f.qb:t=f.q;break;case f.sb:case f.tb:t=f.db;break;case f.rb:t=f.u;break;default:console.error("Unknown disposition",e)}return t},je=function(e){var t="";switch(e.toLowerCase()){case f.db:t=f.mb;break;case f.u:t=f.v;break;case f.q:t=f.r}return t},Oe=function(e){var t="";switch(null===e||void 0===e?void 0:e.toUpperCase()){case f.z.PICKUP:t=f.A.PICKUP;break;case f.z.DINE_IN:t=f.A.DINE_IN;break;case f.z.DELIVERY:t=f.A.DELIVERY}return t},me=function(e){var t=Y.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t})),n=Y.indexOf(t);return K[n]},fe=function(e){var t;try{t=JSON.parse(e)}catch(n){t=e}return t},pe=function(e){return(null===e||void 0===e?void 0:e.length)&&e.reduce((function(e,t){var n=t.key,a=t.value;return Object(u.a)(Object(u.a)({},e),{},Object(d.a)({},n,"True"===a||"False"!==a&&fe(a)))}),{})},he=function(e,t){return(null===e||void 0===e?void 0:e.price)&&t?e.price/t:0},ge=function(e){return e&&e.length&&e[0]&&e[0].value||""},Ne=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=a.tenantId,r=a.authoredContent,s=(null===r||void 0===r||null===(e=r.appUpdate)||void 0===e||null===(t=e.minSupportedVersion)||void 0===t?void 0:t.imageVersion)||0,d=Le("image_version");if((!d||d<s)&&(d=s,Me("image_version",s)),!o)return"";var l=Object(m.a)(O.E),u=Object(m.a)(O.F),b=me(window.innerWidth),v=se(n)&&ge(n);if(i)return l+o+u+f.p;if(!i&&v){var j=c?"/images/categories/":u+b+"/";return l+o+j+v+".jpg?ver="+d}return""},xe=function(e,t){if(null===e)return!0;var n=!0,a="object"==typeof e.date?e.date:new Date(e.date),i="object"==typeof t.date?t.date:new Date(t.date);return e.time===t.time&&a.setHours(0,0,0,0)===i.setHours(0,0,0,0)||(n=!1),n},Ee=function(e){return!e||Object.values(e).every((function(e){return null===e||""===e}))},Ie=function(e){return"ASAP"===e.selectedTime},Te=function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a,i,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(n=window)||void 0===n?void 0:n.google)){e.next=11;break}return e.next=3,Object(A.geocodeByAddress)(t);case 3:return i=e.sent,e.next=6,Object(A.getLatLng)(i[0]);case 6:return c=e.sent,o=Object(g.a)(null===(a=i[0])||void 0===a?void 0:a.address_components),e.abrupt("return",Object(u.a)(Object(u.a)({},o),{},{location:{latitude:c.lat.toString(),longitude:c.lng.toString()}}));case 11:return e.abrupt("return",{});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(e,t){return e===f.q?Te(t):{}},Ce=function(){var e=Object(s.a)(r.a.mark((function e(t,n,a,i,c){var o,s,d,l,u,b,v,j,O;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||se(t)){e.next=2;break}return e.abrupt("return");case 2:return s=null===(o=w.a.getItem("access_token"))||void 0===o?void 0:o.secret,d=N.a.getCustomerIdFromToken(s),l=JSON.parse(localStorage.getItem("dispositionNew")),u=i||l,b=c||(null===l||void 0===l?void 0:l.deliveryAddress),v=Ie(u),j=Object(k.r)(Object(k.e)(null===u||void 0===u?void 0:u.date,"YYYY-MM-DD")+" "+(null===u||void 0===u?void 0:u.time),"YYYY-MM-DD h:mm A").unix(),O={storeId:t.id,service:n,channel:x.b.channel,requestedDateTime:{isForNow:v,futureDateTime:v?0:j},customerId:d,catalog:t.summary.menu.catalogs[0],lang:t.addresses[0].lang,source:ce(window.innerWidth)?f.lb:f.kb},e.next=12,Se(n,b);case 12:return O.deliveryAddress=e.sent,e.abrupt("return",O);case 14:case"end":return e.stop()}}),e)})));return function(t,n,a,i,c){return e.apply(this,arguments)}}(),Ae=function(e){return e.toString(16).padStart(2,"0")},ye=function(e){return e.toString(G.enc.Base64).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},_e=function(){return i=function(e){var t=new Uint8Array((e+1||40)/2);return window.crypto.getRandomValues(t),Array.from(t,Ae).join("")}(45),c=function(e){return c=ye(G.SHA256(e))}(i),{code_verifier:i,code_challenge:c}},De=function(){var e=window.location.origin+Object(m.a)(O.x),t=_e();localStorage.setItem("code_challenge",JSON.stringify(null===t||void 0===t?void 0:t.code_challenge)),localStorage.setItem("code_verifier",JSON.stringify(null===t||void 0===t?void 0:t.code_verifier)),localStorage.setItem("redirect_path_name",window.location.pathname);var n=JSON.parse(localStorage.getItem("code_challenge")),a="".concat(Object(m.a)(O.w),"scope=").concat(Object(m.a)(O.f),"&response_type=").concat(Object(m.a)(O.e),"&client_id=").concat(Object(m.a)(O.c),"&redirect_uri=").concat(e,"&state=").concat(Object(m.a)(O.y),"&code_challenge=").concat(n,"&code_challenge_method=").concat(Object(m.a)(O.d));window.location.assign(a)},Re=function(e){return[V,W].includes(e)},we=function(){var e=localStorage.getItem("redirect_path_name");return"/signout"===e?"/":e},ke=function(t){if(t&&t.token){var n=t.token.split(".")[1],a=e.from(n,"base64");return ft(a.toString())}},Le=function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):void 0},Pe=function(e){return localStorage.getItem(e)},Me=function(e,t){localStorage.setItem(e,JSON.stringify(t))},Fe=function(e){return e in localStorage},He=function(e,t,n){var a=e.key;n(Object(h.a)({object:Object(R.a)(),contentFull:{content_type:"i18nConfig",locale:a,include:"5"},userParams:t}))},Be=function(e){var t,n,a;y.b.dark(Object(B.jsxs)("div",{className:"toast-Container",children:[Object(B.jsx)("p",{children:e>1?f.vb:f.ub}),!(null===(t=window)||void 0===t||null===(n=t.location)||void 0===n||null===(a=n.pathname)||void 0===a?void 0:a.includes(f.h))&&Object(B.jsxs)("button",{className:"button whiteButton toast-button",onClick:Ue,children:[Object(B.jsxs)("span",{className:"text",children:[" ",Object(p.e)("viewCart")]}),Object(B.jsx)(L.a,{srcFile:P.a})]})]}),{hideProgressBar:!0,bodyClassName:"add-to-toast",className:"toast-addToCart",position:y.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){y.b.dismiss()}),3e3)},Ue=function(){y.b.dismiss(),window.open(f.gb.CART,f.hb)},Ge=function(){if(localStorage.getItem("seachedLocations")){var e=JSON.parse(localStorage.getItem("seachedLocations")),t=e[e.length-1];localStorage.setItem("searchStoreByAttribute",t)}},Ye=function(e,t){var n;return(null===t||void 0===t||null===(n=t.foodLines)||void 0===n?void 0:n.length)?Ke(e,t.foodLines):{}},Ke=function(e,t){for(var n=0,a="",i=0,c=0,o=0;o<(null===t||void 0===t?void 0:t.length);o++){var r,s;if(e===(null===(r=t[o])||void 0===r||null===(s=r.item)||void 0===s?void 0:s.id)){i++;var d=t[o];n+=d.quantity,a=d.id,c=d.amount}}return{count:n,matchedItemFoodLineId:a,entriesCount:i,itemUnitPrice:c}},Ve=function(e,t){var n;return(null===t||void 0===t||null===(n=t.foodLines)||void 0===n?void 0:n.length)?We(e,t.foodLines):{}},We=function(e,t){for(var n=0,a=0;a<(null===t||void 0===t?void 0:t.length);a++){var i;if(e===(null===(i=t[a])||void 0===i?void 0:i.id))n+=t[a].quantity}return{count:0===n?1:n}},qe=function(){if(!window.location.href.includes("code")){var e,t,n,a,i,c,o,r,s=(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.pathname)||void 0===n?void 0:n.includes(Object(m.a)(O.x)))?"/":null===(a=window)||void 0===a||null===(i=a.location)||void 0===i?void 0:i.pathname,d=(null===(c=window)||void 0===c||null===(o=c.location)||void 0===o||null===(r=o.search)||void 0===r?void 0:r.includes("restaurantid"))?window.location.search:"";localStorage.setItem("redirect_path_name",s+d),window.location.href=Object(m.a)(O.B)}},ze=function(e,t){var n=N.a.getIATfromToken(e),a=Math.round(Object(k.o)()/1e3);return n+parseInt(t,10)>a},Qe=function(){var e=Object(s.a)(r.a.mark((function e(){var t,n,a,i,c,o,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"NA",n=s.length>1&&void 0!==s[1]?s[1]:"NA",a=s.length>2&&void 0!==s[2]&&s[2],i=s.length>3&&void 0!==s[3]&&s[3],c=s.length>4&&void 0!==s[4]?s[4]:"NA",o=s.length>5&&void 0!==s[5]?s[5]:"NA",e.next=8,v.a.registerEvent(j.a.customDimension.name,{"%event%":"setAttributes","%collectionPoint%":t,"%disposition%":n,"%loggedIn%":a,"%postLocalisation%":i,"%storeID%":c,"%userID%":o,"%platform%":"'web'"},Ze);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(e){e.CollectionPoint&&Qe(e.CollectionPoint,e.DispositionType,e.loggedIn,e.localized,e.StoreID,e.loggedIn?e.UserId:"NA")},Xe=function(e){try{var t=atob(e);return JSON.parse(t)}catch(n){console.warn("invalid base64 encoded string")}},Ze=function(){return window.dataLayer=window.dataLayer||[]},$e=function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.registerEvent(null===(n=j.a.virtualPageView)||void 0===n?void 0:n.name,{"%event%":t.triggeredEvent,"%pageUrl%":t.path,"%pageTitle%":t.pageHeading},Ze);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(e){e.push({pathname:"/menu"})},tt=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;e({type:a,value:{modalOpenFrom:null===t||void 0===t?void 0:t.flag,modalToOpenOnConfirm:null===t||void 0===t?void 0:t.onConfirm,confirmCallBack:i}}),e({type:n,value:{showCartClearAlert:!0}})},nt=function(e){var t=e.contactUsResp;if(t&&t.items){var n,a,i,c,o,r,s,d,l,b,v,j,O,m=(t.items&&(null===t||void 0===t?void 0:t.items[0])||{}).fields,p=null===m||void 0===m||null===(n=m.body)||void 0===n?void 0:n.map((function(e){return e.fields})),h=p.filter((function(e){return e.linkText&&e.linkText.toUpperCase()===f.C})),g={headline:null===(a=p[1])||void 0===a?void 0:a.headline,subHeadline:null===(i=p[1])||void 0===i?void 0:i.subHeadline,callUsButtonData:Object(u.a)(Object(u.a)({},p[2]),{},{icon:null===(c=p[2])||void 0===c||null===(o=c.image)||void 0===o||null===(r=o.fields)||void 0===r||null===(s=r.file)||void 0===s?void 0:s.url}),faqButtonData:h[0]};return h.length?{headerData:g,bodyFormData:{headline:null===(d=p[4])||void 0===d?void 0:d.headline,topicOptions:[Object(u.a)(Object(u.a)({},p[5]),{},{contents:null===(l=p[7])||void 0===l||null===(b=l.content)||void 0===b?void 0:b.map((function(e){return e.fields}))}),Object(u.a)({},p[6])]}}:{headerData:g,bodyFormData:{headline:null===(v=p[3])||void 0===v?void 0:v.headline,topicOptions:[Object(u.a)(Object(u.a)({},p[4]),{},{contents:null===(j=p[6])||void 0===j||null===(O=j.content)||void 0===O?void 0:O.map((function(e){return e.fields}))}),Object(u.a)({},p[5])]}}}return null},at=function(e){var t,n,a,i,c,o,r="",s=e&&e.Help&&e.Help.fields||[];if(s.title===f.G){var d,l,u,b,v,j,O,m,p,h,g,N,x,E,I,T,S,C,A,y,_,D,R,w;r=s.title,t=(t=null===s||void 0===s?void 0:s.body.filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(f.G))})))?t[0][f.E][f.I]:"",n=(n=null===s||void 0===s||null===(d=s.body)||void 0===d?void 0:d.filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.name)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.name)||void 0===a?void 0:a.indexOf(f.W))})))?n[0][f.E][f.V]:"",a=null===s||void 0===s||null===(l=s.body)||void 0===l?void 0:l.filter((function(e){var t,n,a;return(null===(t=e.fields)||void 0===t?void 0:t.description)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.description)||void 0===a?void 0:a.indexOf(f.f))}));var k=vt(a,null===(u=a)||void 0===u?void 0:u.length);a.title=bt(k,a[0][f.E][f.nb],""),a.description=bt(k,a[0][f.E][f.s],""),a.contactNo=bt(k,a[0][f.E][f.k][0][f.E][f.cb],""),a.buttonText=bt(k,a[0][f.E][f.k][0][f.E][f.e],""),a.icon=bt(k?a[0][f.E][f.k][0][f.E][f.M][f.E][f.F][f.xb]:""),i=null===s||void 0===s?void 0:s.body.filter((function(e){var t,n,a;return(null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(f.j))}));var L=vt(i,null===(b=i)||void 0===b?void 0:b.length);i.title=bt(L,i[0][f.E][f.nb],""),i.description=bt(i,i[0][f.E][f.s],""),i.linkText=bt(L,i[0][f.E][f.k][0][f.E][f.Q],""),i.linkUrl=bt(L,i[0][f.E][f.k][0][f.E][f.N],""),i.mobileImage=bt(L,i[0][f.E][f.k][0][f.E][f.L][f.E][f.U][f.E][f.F][f.xb],""),i.desktopImage=bt(L,i[0][f.E][f.k][0][f.E][f.L][f.E][f.t][f.E][f.F][f.xb],""),function(e,t){if(null===t||void 0===t?void 0:t.length){var n=vt(e,null===e||void 0===e?void 0:e.length);t.title=bt(n,t[0][f.E][f.nb],""),t.description=bt(n?t[0][f.E][f.s]:"");var a=t?t[0][f.E][f.k].filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(f.D))})):"";t.topics=a?a[0][f.E][f.ob]:[];var i=t?t[0][f.E][f.k].filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(f.zb))})):"";t.btnText=i?i[0][f.E][f.Q]:"",t.linkUrl=i?i[0][f.E][f.N]:""}}(i,c=null===s||void 0===s?void 0:s.body.filter((function(e){var t,n,a;return(null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(f.C))}))),o=null===s||void 0===s||null===(v=s.body)||void 0===v?void 0:v.filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)&&-1!==(null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.indexOf(f.ib))}));var P=vt(o,null===(j=o)||void 0===j?void 0:j.length);return o.title=bt(P,null===(O=o)||void 0===O||null===(m=O[0])||void 0===m||null===(p=m[f.E])||void 0===p?void 0:p[f.nb],""),o.description=bt(P,null===(h=o)||void 0===h||null===(g=h[0])||void 0===g||null===(N=g[f.E])||void 0===N?void 0:N[f.s],""),o.linkUrl=bt(P,null===(x=o)||void 0===x||null===(E=x[0])||void 0===E||null===(I=E[f.E])||void 0===I||null===(T=I[f.k])||void 0===T||null===(S=T[0])||void 0===S||null===(C=S[f.E])||void 0===C?void 0:C[f.xb],""),o.btnText=bt(P,null===(A=o)||void 0===A||null===(y=A[0])||void 0===y||null===(_=y[f.E])||void 0===_||null===(D=_[f.k])||void 0===D||null===(R=D[0])||void 0===R||null===(w=R[f.E])||void 0===w?void 0:w[f.e],""),{bannerTitle:r,helpSectionHeadline:t,helpSectionNearestKFC:n,helpSectionCallDetails:a,helpSectionContactDetails:i,faqSectionDetails:c,surveyDetails:o}}return{}},it=function(e){return e||null},ct=function(e,t){return e||t},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e||{}},rt=function(e){return e&&e.length},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e||0},dt=function(e){return null===e?{}:e},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e||""},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e||[]},bt=function(e,t,n){return e?t:n},vt=function(e,t){return e&&t},jt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e&&t}),!0)},Ot=function(e,t){return e||t},mt=function(e,t,n){return e||t||n},ft=function(e){try{return JSON.parse(e)}catch(t){return null}},pt=function(e){if(se(e)){var t=e.addressLines,n=e.city,a=e.state,i=e.country,c=e.pinCode;return"".concat(t.join(" ")," ").concat(n," ").concat(a," ").concat(i," ").concat(c)}return null},ht=function(){var e=!1;return"true"===Object(m.a)(O.a)&&(e=!0),e},gt=function(e){var t=document.getElementById("billdeskScript");if(!t){var n=document.createElement("script");n.src=Object(m.a)(O.h)+"/cscv/bdci.payment.js",n.id="billdeskScript",document.body.appendChild(n),n.onload=function(){e&&e()}}t&&e&&e()},Nt=function(e){return 10===(null===e||void 0===e?void 0:e.length)?"".concat(e.slice(0,3),"-").concat(e.slice(3,6),"-").concat(e.slice(6,10)):e},xt=function(){var e=S.d.MORNING,t=S.d.NOON,n=S.d.EVENING,a=(new Date).getHours();return a<12?Object(p.e)(e):a>=12&&a<17?Object(p.e)(t):Object(p.e)(n)},Et=function(e){var t=null===e||void 0===e?void 0:e.filter((function(e){return!e.isHidden}));return null===t||void 0===t?void 0:t.length},It=function(e){return null===e||void 0===e?void 0:e.filter((function(e){return!e.isHidden}))},Tt=function(e,t,n,a){var i=0;return t.length>0&&t.forEach((function(e){e.modifiers&&e.modifiers.length>0&&e.modifiers.forEach((function(e){i+=e.unitPrice}))})),(e*a+i)*n/a},St=function(e,t,n,a){return At(e,t,n,a)},Ct=function(e,t,n,a){return At(e,t,n,a)},At=function(e,t,n,a){var i,c=_.a.CART_SUMMARY_CARD,o=(c=void 0===c?{}:c).SEARCH_IN_MENU;return a===(void 0===o?"":o)?(i=null===e||void 0===e?void 0:e[t])?{id:i.id,price:he(i.availability[0],n)}:{}:(i=null===e||void 0===e?void 0:e.find((function(e){return e.item.name===t})))?{id:i.id}:{}},yt=function(e){return null!==e&&e!={}&&e!=[]&&""!==e&&void 0!==e},_t=0,Dt=function(e,t,n){var a=Object(u.a)({},e),i=a.errorMessage;return a.value=t,t?10!==t.length||isNaN(t)||!/^\d*$/.test(t)?(a.error=!0,a.errorMessage=Object(p.e)("invalidPhoneNumberErrText"),n(!0)):(a.error=!1,a.errorMessage="",_t=0):(a.error=!0,a.errorMessage=Object(p.e)("phonenumberEmptyHelpText"),n(!0)),i!==a.errorMessage&&(_t=0),a.error&&0===_t&&(_t=1,bn("OrderLookup",a.errorMessage)),a},Rt=0,wt=function(e,t,n){var a=Object(u.a)({},e),i=a.errorMessage;return a.value=t,t?t.length<2||""===t.trim()?(a.error=!0,a.errorMessage=Object(p.e)("invalidOrderId")):(a.error=!1,a.errorMessage="",Rt=0):(a.error=!0,a.errorMessage=Object(p.e)("enterYourOrderNo"),n(!0)),i!==a.errorMessage&&(Rt=0),a.error&&0===Rt&&(Rt=1,bn("OrderLookup",a.errorMessage)),a},kt=function(e,t){y.b.dark(Object(B.jsx)("div",{"data-testid":"validate-toast",className:"img-text-div",children:Object(B.jsx)("span",{className:"text",children:e||t})}),{bodyClassName:"sign-in-toast",hideProgressBar:!0,position:y.b.POSITION.BOTTOM_CENTER})},Lt=function(e,t){y.b.dark(Object(B.jsxs)("div",{className:"img-text-div",children:[t," ",Object(B.jsx)("span",{className:"text",children:e})]}),{bodyClassName:"sign-in-toast",hideProgressBar:!0,position:y.b.POSITION.BOTTOM_CENTER})},Pt=function(e,t){var n,a,i=e.amount,c=t.currencyConversionFactor,o=t.currencySymbol,r=t.store,s=null!==(n=null===r||void 0===r||null===(a=r.summary)||void 0===a?void 0:a.menu)&&void 0!==n?n:{},d=s.maxOrderAmount,l=void 0===d?0:d,u=s.minOrderAmount,b=void 0===u?0:u,v="",j=_.a.MIN_ORDER_AMOUNT_MESSAGE,O=_.a.MAX_ORDER_AMOUNT_MESSAGE;return(null===i||void 0===i?void 0:i.errorCode)===f.b.MINIMUM_AMOUNT&&b?v="".concat(Object(p.e)(j)," ").concat(o).concat(b/c):(null===i||void 0===i?void 0:i.errorCode)===f.b.MAXIMUM_AMOUNT&&l&&(v="".concat(Object(p.e)(O)," ").concat(o).concat(l/c)),{amountStatus:null===i||void 0===i?void 0:i.status,amountMessage:i.message,errMsg:v}},Mt=function(e,t){if(!Object(T.isEmpty)(e)){var n=Object(T.get)(e,"overAll.status",!1),a=Object(T.get)(e,"overAll.message",Object(p.e)("somethingWentWrong"))||Object(p.e)("somethingWentWrong");if(n)kt(a);else{var i=a;if(Object(T.get)(e,["items","validationStatus","status"],!0))for(var c in e)if("amount"===c){var o=Pt(e,t),r=o.amountStatus,s=o.amountMessage,d=o.errMsg;if(!r){kt("".concat(s," ").concat(d),a);break}}else if("overAll"!==c){if(!Object(T.get)(e,[c,"status"],!0)){i=Object(T.get)(e,[c,"message"],a),kt(i,a);break}if(!Object(T.get)(e,[c,"validationStatus","status"],!0)){i=Object(T.get)(e,[c,"validationStatus","message"],a),kt(i,a);break}}}}},Ft=function(e){var t=!0;if(se(e)){var n,a=e.items;t=null===a||void 0===a||null===(n=a.validationStatus)||void 0===n?void 0:n.status}return t},Ht=function(){var e=navigator.userAgent.toLowerCase(),t=!1;try{t=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||window.safari.pushNotification).toString()}catch(n){console.log(n)}return t=t||-1!==e.indexOf("safari")&&-1===e.indexOf("chrome")&&-1!==e.indexOf("version/")},Bt=function(e,t){return(null===e||void 0===e?void 0:e.length)&&e.toString().trim().length>t},Ut=function(e){var t;null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:f.gb.HOME_PAGE})},Gt=function(e){var t;null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:f.gb.CART})},Yt=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:f.gb.CHECKOUT,ShowPaymentError:n})},Kt=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:f.gb.GIFT_CARD,ShowFailureError:n})},Vt=function(e){var t;null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:f.gb.PAYMENT_SUCCESS})},Wt=function(e){var t;null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:f.gb.PAYMENT_FAILURE})},qt=function(e){var t;null===e||void 0===e||null===(t=e.history)||void 0===t||t.push({pathname:f.gb.ACTIVE_ORDERS})},zt=function(e,t,n){var a=e;return e.length>0&&(a=e.filter((function(e){var a,i;return(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.name)!==t&&(null===(i=e.item)||void 0===i?void 0:i.name)!==n}))),a},Qt=function(e){return e?+e:"NA"},Jt=function(e,t,n,a,i){return e===t?Qt(a):e===n?Qt(i):"NA"},Xt=function(e,t){return e&&t.cartEditClicked&&t.minipdpData.itemId===e.id},Zt=function(e){var t=60*Number(Object(m.a)(f.n.QR_CODE_VALID_TIME_MINS));return Object(k.n)(e)<t},$t=function(){var e=Object(s.a)(r.a.mark((function e(t,n,a,i,c,o,s){var d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(i,c,o,s);case 2:return d=e.sent,n&&a?d.qrOrder={isQROrder:!0,qrScannedTime:a}:t(Object(F.j)("")),e.abrupt("return",d);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,i,c,o,r){return e.apply(this,arguments)}}(),en=function(){var e=Object(s.a)(r.a.mark((function e(t,n,a,i,c){var o,s,d,l,u,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=i.dispositionNew,d=Ee(d)?JSON.parse(localStorage.getItem("dispositionNew")):d,l={storeInfo:null===(o=d)||void 0===o?void 0:o.store,dispositionType:ve(null===(s=d)||void 0===s?void 0:s.type)},u=Zt(c),e.next=6,$t(t,u,c,l.storeInfo,l.dispositionType);case 6:b=e.sent,t(n({data:b,tenantId:a}));case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,i,c){return e.apply(this,arguments)}}(),tn=function(e,t){return t===U&&e.length<=10},nn=function(e){return Object(B.jsxs)("span",{children:[(null===e||void 0===e?void 0:e.addressLines[2])&&Object(B.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[2],", "]}),(null===e||void 0===e?void 0:e.addressLines[1])&&Object(B.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[1],", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(B.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[0],", "]}),(null===e||void 0===e?void 0:e.state)&&Object(B.jsxs)("span",{children:[null===e||void 0===e?void 0:e.state,", "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(B.jsxs)("span",{children:[null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(B.jsx)("span",{children:null===e||void 0===e?void 0:e.country})]})},an=function(e){var t="/"===e.charAt(0)&&e.substring(1),n="";return e.includes("menu")?n="PLP":e.includes("menu")||e.includes("pdp")?n="PDP":e.includes("account")||e.includes("cart")?n=t.charAt(0).toUpperCase()+t.slice(1):"/"===e&&(n="Home"),n},cn=function(e,t){var n=ut(JSON.parse(localStorage.getItem(t)));n.push(e.trim());var a,i=new Set(n),c=Object(b.a)(n);try{for(c.s();!(a=c.n()).done;){var o=a.value;i.has(o)&&i.delete(o),i.add(o)}}catch(r){c.e(r)}finally{c.f()}localStorage.setItem(t,JSON.stringify(Object(l.a)(new Set(Object(l.a)(i)))))},on=function(){document.querySelector("body").style.overflow="hidden"},rn=function(){document.querySelector("body").style.overflow="auto"},sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length>0?e.map((function(e){var t;return null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.map((function(e){var t;return null===e||void 0===e||null===(t=e.dname[0])||void 0===t?void 0:t.value})).join(", ")})).join(", "):[];return t},dn=function e(t,n,a,i){var c,o=null===(c=n.categoryMapById)||void 0===c?void 0:c[t.parentID];return o&&(null===o||void 0===o?void 0:o.parentID)!==i&&(a.push(o.name),e(o,n,a,i)),a.slice().reverse().join(" > ")},ln=function(e,t,n,a){var i=it(e);localStorage.setItem(f.l,JSON.stringify(i)),t({type:q,value:i}),t({type:z,value:{oldvalue:n,newValue:{type:a,store:i,date:"",time:"",interval:"",deliveryAddress:""}}}),localStorage.setItem(f.x,JSON.stringify(n)),localStorage.setItem(f.w,JSON.stringify({type:a,store:i,date:"",time:"",interval:"",deliveryAddress:""}))},un=function(e,t,n){return!n&&(null===e||void 0===e?void 0:e.length)>t?e.substring(0,t)+"...":e},bn=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.registerEvent(null===(a=j.a.embeddedErrorMessage)||void 0===a?void 0:a.name,{"%event%":"embeddedErrorMessage","%popupOrPageTitle%":t||"NA","%errorMessage%":n||"NA"},Ze);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),vn=function(e,t){bn("KFC Payment Failure",Object(p.e)(e)+" "+Object(p.e)(t))},jn=function(e,t,n,a,i,c){e&&(null===t||void 0===t?void 0:t.categorySelected)&&n.minipdpData.itemId===e.id&&a&&i(c({showProductListingModal:!0,categorySelected:null===t||void 0===t?void 0:t.categorySelected}))},On=function(){var e=Object(s.a)(r.a.mark((function e(){var t,n,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"NA",e.next=3,v.a.registerEvent(null===j.a||void 0===j.a||null===(t=j.a.transactionFailed)||void 0===t?void 0:t.name,{"%event%":"checkoutClick","%errorMessage%":n},Ze);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mn=function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText||""},fn=function(e){return e?N.a.getCustomerIdFromToken(e):""};function pn(e){var t,n=f.o,a=function(e,t,n){return null===e||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.day)===t}))}(e,n[(new Date).getDay()]);return 0===(null===(t=a)||void 0===t?void 0:t.length)&&(a=e.filter((function(e){return(null===e||void 0===e?void 0:e.day)===n[n.length-1]}))),a}function hn(e){var t="";if(1===(null===e||void 0===e?void 0:e.length))t=Object(T.get)(e,f.Ab,!1);else if((null===e||void 0===e?void 0:e.length)>1){t=(null===e||void 0===e?void 0:e.map((function(e){var t;return null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.from})).sort((function(e,t){return(null===e||void 0===e?void 0:e.split(":")[0])-(null===t||void 0===t?void 0:t.split(":")[0])})))[0]}return t}function gn(e){var t="";if(1===(null===e||void 0===e?void 0:e.length))t=Object(T.get)(e,f.Bb,!1);else if((null===e||void 0===e?void 0:e.length)>1){t=(null===e||void 0===e?void 0:e.map((function(e){var t;return null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.to})).sort((function(e,t){return(null===t||void 0===t?void 0:t.split(":")[0])-(null===e||void 0===e?void 0:e.split(":")[0])})))[0]}return t}var Nn=function(){var e,t,n,i;return(null===(e=a)||void 0===e||null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===t?void 0:t.REACT_APP_TENANT_CODE)&&Z(null===(n=a)||void 0===n||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE)},xn=function(e){return e||"NA"},En=function(e,t,n){vt(e,!0===t)&&Object(H.a)({loginMethod:"Phone",phoneNumber:N.a.getPhoneNumberFromToken(n),customerId:N.a.getCustomerIdFromToken(n),email:N.a.getEmailFromToken(n),firstName:N.a.getFirstNameFromToken(n),lastName:N.a.getFamilyNameFromToken(n)})},In=function(e){return null===e||void 0===e?void 0:e.filter((function(e){return null===f.d||void 0===f.d?void 0:f.d.some((function(t){return t!==(null===e||void 0===e?void 0:e.code)}))}))}}).call(this,n(243).Buffer,n(140))},30:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var a,i=n(359),c=n(29),o=n(32);function r(){var e,t,n=Object(c.a)(o.k),r=Object(c.a)(o.j),s=Object(c.a)(o.i);return null===(e=a=Object(i.createClient)({space:n,environment:r,accessToken:s,removeUnresolved:!0}))||void 0===e||null===(t=e.getSpace())||void 0===t?void 0:t.then((function(e){return!0,e}))}function s(){return a}},347:function(e,t,n){"use strict";var a=n(2),i={IN:{HEADER_ORDER_TRACKER_COMP:n.e(0).then(n.bind(null,744)),HEADER_ORDER_TRACKER_ITEM:n.e(1).then(n.bind(null,743))},AU:{HEADER_ORDER_TRACKER_COMP:n.e(0).then(n.bind(null,744)),HEADER_ORDER_TRACKER_ITEM:n.e(1).then(n.bind(null,743))}},c=n(3),o=n(1),r=n.n(o),s=n(0);t.a=function(e){var t=Object(o.useMemo)((function(){var t=i[Object(c.B)()][null===e||void 0===e?void 0:e.importPath];return(null===e||void 0===e?void 0:e.importPath)&&t&&r.a.lazy((function(){return t}))}),[null===e||void 0===e?void 0:e.importPath]);return(null===e||void 0===e?void 0:e.importPath)&&t?Object(s.jsx)(r.a.Suspense,{fallback:Object(s.jsx)("div",{}),children:Object(s.jsx)(t,Object(a.a)(Object(a.a)({},e),{},{"data-testid":"test_".concat(null===e||void 0===e?void 0:e.testId)}))}):null}},364:function(e,t,n){"use strict";t.a=n.p+"static/media/Single_Arrow_Icon.9f48c8b9.svg"},367:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(226),i=Object(a.a)((function(e){var t=e.marketConfigReducer,n=(t=void 0===t?{}:t).response;return(n=void 0===n?{}:n).headerData}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.header,n=(t=void 0===t?{}:t).fields,a=void 0===n?{}:n,i=e.disposition;return{fields:a,disposition:i}}))},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={INDULGENT_ADD_ON:{HEADER:"cartRecommendTitle",SLIDES_TO_SCROLL:1,SLIDES_TO_SHOW:3,ADD_TO_CART:"addToCart"},PRICECHANGENOTIFICATION:"priceChangeNotify",OUTOFSTOCKNOTIFICATION:"outOfStockNotify",CART_HEADER:"myCart",CART_SUMMARY_CARD:{QUANTITY_TEXT:"cartItem",QUANTITYS_TEXT:"cartItems",SUBTOTAL:"cartSubTotal",CARRY_BAG:"tickToAddLargeCarryBag",ADD_HOPE_HEADER:"tickToAddHope",ADD_HOPE_TEXT:"addHopeText",CHECKOUT:"cartCheckout",TAKEAWAY:"Pickup",RESTAURANT_HANDLING_CHARGE:"cartIncluTax",GST:"cartGst",DONATE:"donate",addHopeText:"addhope",largeCarryBagText:"largeCarryBag",SEARCH_IN_MENU:"SEARCH_IN_MENU",SEARCH_IN_CART:"SEARCH_IN_CART"},FROMCHECKOUT:"FROMCHECKOUT",CART_FAQ_HEADER:"cartfaqtitle",CART_FOOD_LIST_ITEM:{EDIT:"edit",REMOVE:"cartRemove",REMOVE_ALL:"cartRemoveAll",ADD_MORE_MENU:"cartAddMoreMenu",ADD_MORE_FOOD:"cartAddMoreFood",ITEM_QUANTITY:1,MODIFIER_QUANTITY:2,ACCORDION_MODIFIER_MAX_QUANTITY:1},OFFERS_COUPONS:{APPLY_OFFERS:"cartOffersDeals",VIEW_ALL:"cartViewAll"},QUANTITY_ACTION:{Increase:"plus",Decrease:"minus"},TOAST_NOTIFICATION:{ITEM_REMOVED:"cartRemoveLineItemConfirmationtext"},ALERT:{REMOVE_ALL_MSG:"cartRemoveAllConfirmationtext",REMOVE_ALL:"Remove All",CANCEL:"cancel"},EMPTY_CART:{PLACEHOLDER_TEXT:"yourCartEmpty",SUGGESTION_TEXT:"upSellTitle",START_ORDER:"startOrder"},RECOMENDATIONS:{HEADER:"upSellTitle",SLIDES_TO_SCROLL:1,SLIDES_TO_SHOW:4,ADD_TO_CART:"addToCart"},ANALYTICS_EVENTS:{EDIT:"editCartItem",REMOVE:"remove_from_cart",ADD_TO_CART:"add_to_cart"},CART_ALERT:"CART_ALERT",SET_ADDED_LOCATION:"SET_ADDED_LOCATION",CART_EXPIRE_TIME_HRS:24,ADD_TO_CART_CLICK:"ADD_TO_CART_CLICK",MIN_ORDER_AMOUNT_MESSAGE:"minOrderAmountMessage",MAX_ORDER_AMOUNT_MESSAGE:"maxOrderAmountMessage"}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={SLIDES_TO_SHOW:4,SLIDES_TO_SCROLL:1,FADE_CARD_INDEX:3,CUSTM_EXPAND_TYPE:"customExpandType",EXPAND_ACCORDIAN:"expandAccordianById",MODGROUP_IDS_UPDATE:"modGroupIdsUpdate",RESET_MODGROUP_IDS_UPDATE:"resetModGroupIdsUpdate",UPDATE_DEFAULT_MODGROUP:"UPDATE_DEFAULT_MODGROUP",IS_OUT_OF_STOCK:"OutOfStock",IS_IN_STOCK:"InStock",SET_PDP_DEEPLINK_MODE:"SET_PDP_DEEPLINK_MODE",SHORT:"short",LONG:"long",READ_MORE:"readMore",READ_LESS:"readLess",MAX_LENGTH_READ:35,YYYYMMDD:"YYYY-MM-DD",YYYYMMDD_hhmm_A:"YYYY-MM-DD hh:mm A",INDIA:"INDIA",UPSELL:"upsell",CROSSELL:"crossell",MAKE_IT_COMBO_HEADER:"makeItACombo",MAKE_IT_COMBO_SUBHEADER:"comboSubHeader",PDP:"PDP"}},39:function(e,t,n){"use strict";n.d(t,"p",(function(){return b})),n.d(t,"o",(function(){return v})),n.d(t,"l",(function(){return j})),n.d(t,"f",(function(){return O})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return N})),n.d(t,"k",(function(){return x})),n.d(t,"r",(function(){return I})),n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return C})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return y})),n.d(t,"s",(function(){return _})),n.d(t,"v",(function(){return D})),n.d(t,"q",(function(){return R})),n.d(t,"u",(function(){return w})),n.d(t,"w",(function(){return k})),n.d(t,"e",(function(){return M})),n.d(t,"t",(function(){return F}));var a=n(2),i=n(86),c=n(77),o=n(19),r=n(3),s=n(102),d=n(8),l=n(15),u=n(101),b=function(e){return E(e)===d.Y.STAGED_ACCEPTED},v=function(e){return E(e)===d.Y.PICKUP_DELIVERY_DINE_IN},j=function(e){return Object(r.dc)(null===e||void 0===e?void 0:e.service)===d.z.DELIVERY&&v(e)},O=function(e){return Object(r.dc)(null===e||void 0===e?void 0:e.service)===d.z.DELIVERY&&(j(e)||p(e)||h(e)||g(e))},m=function(e){return O(e)&&(null===e||void 0===e?void 0:e.deliveryPartner)},f=function(e){return O(e)&&!g(e)&&!N(e)},p=function(e){return E(e)===d.Y.DELIVERY_DISTA_CREATE_ASSIGN},h=function(e){return E(e)===d.Y.DELIVERY_DISTA},g=function(e){return E(e)===d.Y.DELIVERY_DISTA_DELIVERED},N=function(e){return E(e)===d.Y.CANCELLED},x=function(e){return h(e)||N(e)||g(e)},E=function(e){switch(Object(r.dc)(null===e||void 0===e?void 0:e.status)){case d.Z.STAGED:case d.Z.ACCEPTED:return l.b.shouldGoogleSpotIgnoreOloFailure?d.Y.PICKUP_DELIVERY_DINE_IN:d.Y.STAGED_ACCEPTED;case d.Z.SENT_TO_POS_COMPLETED:if(Object(r.dc)(null===e||void 0===e?void 0:e.service)===d.z.PICKUP||Object(r.dc)(null===e||void 0===e?void 0:e.service)===d.z.DINE_IN||Object(r.dc)(null===e||void 0===e?void 0:e.service)===d.z.DELIVERY)return d.Y.PICKUP_DELIVERY_DINE_IN;break;case d.Z.CREATED:case d.Z.ASSIGNED:return d.Y.DELIVERY_DISTA_CREATE_ASSIGN;case d.Z.PICKED_UP:case d.Z.OUT_FOR_DELIVERY:case d.Z.ARRIVED:return d.Y.DELIVERY_DISTA;case d.Z.DELIVERED:return d.Y.DELIVERY_DISTA_DELIVERED;case d.Z.CANCELLED:case d.Z.CANCEL:return Object(r.dc)(null===e||void 0===e?void 0:e.service)===d.z.DELIVERY?d.Y.CANCELLED:d.Y.FAILED;case d.Z.SENT_TO_POS_FAILED:case d.Z.PAYMENT_FAILED:return d.Y.FAILED}},I=function(e,t,n){if(null===e||void 0===e?void 0:e.orderAcceptedLoading)return Promise.resolve(!1);switch(E(e)){case d.Y.STAGED_ACCEPTED:return t(!0),Promise.resolve(!1);case d.Y.PICKUP_DELIVERY_DINE_IN:return t(!1),Promise.resolve(!0);case d.Y.DELIVERY_DISTA_CREATE_ASSIGN:case d.Y.DELIVERY_DISTA:case d.Y.DELIVERY_DISTA_DELIVERED:case d.Y.CANCELLED:return t(!1),Promise.resolve(!1);case d.Y.FAILED:return localStorage.setItem(d.ab.STATUS_TEXT,d.ab.FAILED),Object(r.ac)(n),Promise.resolve(!1)}},T=function(e,t,n,a,i,c,s,u,b){if(u){var v=c.userStatus,j=l.b.shouldGoogleSpotIgnoreOloFailure||Object(r.dc)(null===n||void 0===n?void 0:n.status)===d.Z.SENT_TO_POS_COMPLETED;Object(r.e)(j,!s,null===a||void 0===a?void 0:a.id,v.localized,null===t||void 0===t?void 0:t.tenantId)&&Object(r.i)(e,o.e,null===t||void 0===t?void 0:t.tenantId,i,b)}},S=function(e,t,n){t&&(n=setTimeout((function(){t(e),n&&clearTimeout(n)}),s.c))},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null,o={emailId:null===t||void 0===t?void 0:t.userEmail,phoneNo:null===t||void 0===t?void 0:t.userPhone,orderNo:null===t||void 0===t?void 0:t.posOrderId,tenantId:null===t||void 0===t?void 0:t.tenantId},r=n+1;e(Object(c.d)(o,(function(){return S(r,a,i)})))},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=null,o={orderId:null===t||void 0===t?void 0:t.orderId,tenantId:null===t||void 0===t?void 0:t.tenantId,customerId:null===t||void 0===t?void 0:t.customerId},r=n+1;e(Object(i.a)(o,(function(){return S(r,a,c)})))},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(null===t||void 0===t?void 0:t.isExternalTrackOrder)?C(e,t,n,a):A(e,t,n,a)},_=function(e,t,n,a,i,c){t&&(null===t||void 0===t?void 0:t.orderId)?0===n||b(a)&&n<s.a?y(e,t,n,i):b(a)&&n>=s.a&&(localStorage.setItem("paymentStatus",d.ab.FAILED),Object(r.ac)(c)):Object(r.Zb)(c)},D=function(e,t,n,i,c){i&&j(e)?Object(r.ac)(c):(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.status)!==(null===t||void 0===t?void 0:t.status)?n(Object(a.a)(Object(a.a)({},t),{},{status:null===e||void 0===e?void 0:e.status,orderAcceptedLoading:null===e||void 0===e?void 0:e.orderAcceptedLoading,deliveryPartner:null===e||void 0===e?void 0:e.deliveryPartner,deliveryDistaRetryCountFlag:(null===t||void 0===t?void 0:t.deliveryDistaRetryCountFlag)+1})):n(Object(a.a)(Object(a.a)({},t),{},{deliveryDistaRetryCountFlag:(null===t||void 0===t?void 0:t.deliveryDistaRetryCountFlag)+1}))},R=function(e,t,n){if(j(e)&&!t)var a=setTimeout((function(){a&&clearTimeout(a)}),s.d)},w=function(e,t,n,i){var c,o;return Object(a.a)(Object(a.a)({},k(e,t,!1,n)),{},{orderAcceptedLoading:(null===t||void 0===t?void 0:t.orderAcceptedLoading)||!1,deliveryPartner:null,deliveryDistaRetryCountFlag:0,operatingTime:null===i||void 0===i||null===(c=i.store)||void 0===c||null===(o=c.summary)||void 0===o?void 0:o.timings})},k=function(e,t){var n,a,i,c,o,r,s,d,l,u,b,v=arguments.length>2&&void 0!==arguments[2]&&arguments[2],j=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},O=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},m={orderId:(null===t||void 0===t?void 0:t.id)||(null===j||void 0===j?void 0:j.id),customerId:(null===t||void 0===t||null===(n=t.customer)||void 0===n?void 0:n.id)||(null===j||void 0===j||null===(a=j.customer)||void 0===a?void 0:a.id),tenantId:e,service:(null===t||void 0===t?void 0:t.service)||(null===j||void 0===j?void 0:j.service),status:(null===t||void 0===t?void 0:t.status)||(null===j||void 0===j?void 0:j.status),orderTime:(null===t||void 0===t?void 0:t.fulfillmentDateTime)||(null===j||void 0===j?void 0:j.fulfillmentDateTime),deliveryPartner:(null===t||void 0===t?void 0:t.deliveryPartner)||(null===j||void 0===j?void 0:j.deliveryPartner),posOrderId:(null===t||void 0===t?void 0:t.posOrderId)||(null===j||void 0===j?void 0:j.posOrderId),userEmail:(null===t||void 0===t||null===(i=t.customer)||void 0===i?void 0:i.email)||(null===j||void 0===j||null===(c=j.customer)||void 0===c?void 0:c.email),userPhone:(null===t||void 0===t||null===(o=t.customer)||void 0===o?void 0:o.phoneNumber)||(null===t||void 0===t||null===(r=t.customer)||void 0===r?void 0:r.phone)||(null===j||void 0===j||null===(s=j.customer)||void 0===s?void 0:s.phoneNumber),postOrderDetails:t,isExternalTrackOrder:v};O&&(null===O||void 0===O||null===(d=O.storesWithStatus)||void 0===d?void 0:d.length)&&(m.operatingTime=null===O||void 0===O||null===(l=O.storesWithStatus)||void 0===l||null===(u=l[0])||void 0===u||null===(b=u.summary)||void 0===b?void 0:b.timings);return m},L=function(e){return e&&(null===e||void 0===e?void 0:e.pastOrderResponse)&&(null===e||void 0===e?void 0:e.pastOrderResponse.length)&&(null===e||void 0===e?void 0:e.pastOrderResponse[0].id)?null===e||void 0===e?void 0:e.pastOrderResponse[0]:null},P=function(e){var t;return e&&(null===e||void 0===e?void 0:e.orderAccepted)&&Object.keys(null===e||void 0===e?void 0:e.orderAccepted).length&&(null===e||void 0===e||null===(t=e.orderAccepted)||void 0===t?void 0:t.id)?null===e||void 0===e?void 0:e.orderAccepted:null},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=P(e);return null===i&&(i=L(t),a&&null===i&&(i=n&&Object.keys(null===n||void 0===n?void 0:n.postOrderDetails).length?null===n||void 0===n?void 0:n.postOrderDetails:{})),i||{}},F=function(e){!function(e){e(Object(u.g)())}(e),localStorage.getItem(d.R.PAYMENT_STATUS)!==d.ab.FAILED&&(function(e){e(Object(i.b)())}(e),function(e){e(Object(c.e)())}(e)),function(e){e(Object(c.a)({value:[]}))}(e),localStorage.removeItem(d.R.ORDER_TRACKING)}},390:function(e,t,n){"use strict";t.a=n.p+"static/media/KFC_Loader_Gif.66979359.gif"},401:function(e,t,n){"use strict";t.a=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,710)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),c(e),o(e)}))}},404:function(e,t,n){"use strict";var a=n(2),i=n(1),c=n.n(i),o=n(73),r=n(56),s=n(60),d=n(91),l=n(90),u=n(0),b=function(){window.location.replace("/"),window.localStorage.clear()},v=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).componentDidCatch=function(e,t){a.setState({error:e,errorInfo:t})},a.state={error:null,errorInfo:null},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.error,n=e.errorInfo;return t&&n?Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{style:{display:"block",marginLeft:"auto",marginRight:"auto",width:"50%",height:"400px"},src:""}),Object(u.jsx)("h2",{children:"Oops! Something Went Wrong ........"}),Object(u.jsx)("button",{onClick:b,children:"Go to HomePage"}),Object(u.jsxs)("details",{children:[this.state.error&&this.state.error.toString(),Object(u.jsx)("br",{}),this.state.errorInfo.componentStack]})]}):this.props.children}}]),n}(i.Component),j=n(7),O=n(20),m=n.n(O),f=n(44),p=n(55),h=n(68),g=n(369),N=n(9),x=n(3),E=n(16),I=n(30),T=n(8),S=n(13),C=n.p+"static/media/Instagram.bed6a289.svg",A=n.p+"static/media/Facebook.65b455ab.svg",y=n.p+"static/media/Twitter.4f7b6302.svg",_=n.p+"static/media/GoogleMapLocation.c86d640b.svg",D=n.p+"static/media/apple.e0ec3a41.svg",R=n.p+"static/media/GoogleplayIcon.24d9cb95.svg",w={contentData:{bodyContent:{kfcLogo:{src:"",alt:""},categories:[{categoryHeaderText:"KFC Food",subCategories:[{name:"Menu",linkTo:"",targetType:"self"},{name:"Catering",linkTo:"",targetType:"self"},{name:"Neutrition",linkTo:"",targetType:"self"},{name:"Order Lookup",linkTo:"",targetType:"self"},{name:"Gift Card",linkTo:"",targetType:"self"}]},{categoryHeaderText:"Support",subCategories:[{name:"Help",linkTo:"",targetType:"self"},{name:"FAQs",linkTo:"",targetType:"self"},{name:"Contact Us",linkTo:"",targetType:"self"}]},{categoryHeaderText:"Legal",subCategories:[{name:"Privacy Policy",linkTo:"",targetType:"self"},{name:"Terms of Use",linkTo:"",targetType:"self"},{name:"Our Ads",linkTo:"",targetType:"self"},{name:"Do Not Sell My Personal Installation",linkTo:"",targetType:"self"}]}],kfcStoreSearch:{name:"findKfc",linkTo:"",url:_,alt:""},downloadAppButtons:[{name:"Apple Store",linkTo:"",url:D},{name:"Google Play",linkTo:"",url:R}]},footerContent:{languageDropdown:{name:"Eng",linkTo:"",url:"",type:"Language Selector",options:["Eng","Fr","De"]},copyrightContentData:{name:"Copyright \xa9 KFC Corporation 2020 All Rights Reserved"},socialMediaContent:[{name:"Instagram",linkTo:"",url:C,alt:""},{name:"Facebook",linkTo:"",url:A,alt:""},{name:"Twitter",linkTo:"",url:y,alt:""}]}}},k=n(96),L=n(41),P=["href","children","targetWindow","additionalChild","className","name","onClickHandler","type"],M=function(e){var t=e.href,n=void 0===t?"":t,i=e.children,o=e.targetWindow,r=e.additionalChild,s=void 0===r?null:r,d=e.className,l=void 0===d?"":d,b=e.name,v=void 0===b?"":b,j=e.onClickHandler,O=void 0===j?null:j,m=e.type,f=void 0===m?"internal":m,p=Object(k.a)(e,P);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)(L.c,Object(a.a)(Object(a.a)({to:function(){var e=n||!0;return"external"===f&&(e={pathname:n}),e}(),target:o},p),{},{className:l||"link",onClick:function(){O&&O({name:v,linkTo:n,type:f})},onKeyPress:function(e){var t=T.Cb.KEY_CHAR_CODE,a=t.SPACE,i=t.ENTER;!O||e.charCode!==a&&e.charCode!==i||O({name:v,linkTo:n})},children:[i,s]}))})},F=n(43),H=F.a.PRIVACY_POLICY,B=F.a.OUR_ADS,U=F.a.INSTAGRAM,G=F.a.TWITTER,Y=F.a.FACEBOOK,K=F.a.FAQ,V=F.a.GETHELP,W=F.a.TERMS_OF_USE,q=F.a.GIFT_CARD,z=F.a.ORDER_LOOKUP_NAME,Q=F.a.CONTACT_US,J=F.a.KFC_FEEDBACK,X=F.a.EXTERNAl,Z=Object(o.i)((function(e){var t=e.linkTo,n=void 0===t?"":t,a=e.name,i=e.dataTestId,c=void 0===i?"":i,o=e.onClickHandler,r=e.internalurl,s=void 0===r?"":r,d=e.externalurl,l=void 0===d?"":d,b="",v="",j=";";switch(a){case U:case Y:case G:b="",v="_blank",j="external"}switch(e.children){case H:b="/privacyPolicy";break;case B:b="/ourAds";break;case W:b="/terms-of-use";break;case V:b="/help";break;case q:b="/giftcards";break;case z:b="";break;case K:b="/faq";break;case Q:b="/contactus";break;case J:s?(b=s,j="internal"):l&&(b=l,v="_blank",j="external");break;default:s?(b=s,j="internal"):l?(b=l,v="_blank",j="external"):b=n}return Object(u.jsx)("li",{children:Object(u.jsx)(M,{className:"support-links-menu",href:b,name:a,targetWindow:v,onClickHandler:function(t){if(t.name!==U&&t.name!==Y&&t.name!==G&&(t.name!==J||t.type!==X))return e.children===W||e.children===K||e.children===q?window.scrollTo(0,0):o(t),!1},tabIndex:"0","data-testid":c,type:j,children:e.children})})})),$=function(e){var t=e.categoryHeaderText,n=e.subCategories,i=void 0===n?[]:n,o=e.className,r=void 0===o?"":o,s=e.onClickHandler,d=F.a.FOOTER_LINKS,l=void 0===d?"":d,b=F.a.SOCIAL_ICONS,v=void 0===b?"":b;return Object(u.jsxs)(c.a.Fragment,{children:[r===l&&Object(u.jsxs)("div",{className:"ul-title",children:[Object(u.jsx)("span",{role:"heading","aria-level":"2",className:"header-text-footer",children:t}),Object(u.jsx)("ul",{className:r,children:Object(u.jsx)(u.Fragment,{children:function(e,t){return e.map((function(e,n){return Object(u.jsx)(Z,Object(a.a)(Object(a.a)({onClickHandler:s,dataTestId:"listItems-component-".concat(e.name),className:t},e),{},{children:e.name}),n)}))}(i,r)})})]}),r===v&&Object(u.jsx)(Z,Object(a.a)(Object(a.a)({"data-testid":"listItems-component",onClickHandler:s,className:r},e),{},{children:Object(u.jsx)(S.a,{srcFile:e.url,alt:"".concat(e.name)})}))]})},ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAICAYAAADN5B7xAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACfSURBVHgBhY6xDQIhFIZBob8RjoLeEbAgARpXcAQ30FF0Aq8DQ3FxA12A2tIBSPCRWNy9u8v9CXk8+L68RwhEKdWQlRhjVK1ba+2Jc34XQjxSSp852Dl3hnKVUr43pZQOmi9jrNda7+ZgYC5wbt77jv7HtZTSHq5NznkfY3xhOIRwrG90sONIgjUPGB4JSGprj+GJMJQAfmJ4MVVa+vsBbdRQgsrQ68QAAAAASUVORK5CYII=",te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACoSURBVHgBjZCxDcIwEEXtpKHMCBSWRckIprNcZQVGYAIyAiOwApXdISqGsIuwgSew+YcUKVgx5Eunb/+7p7PMWEVa622t1y6Fxpg97Cml3HjvH38hAnLOdxw7lALISrD9AZxQO1Rfgs0SAD9aay/wA+4jfED//LWpBJxzV8pDCFEIceOc9/ONvAbMRT8JkGbIhyalFHGJNYCEfJyeivnXJ1RKdWyFprk3ggNl+9Y5I9IAAAAASUVORK5CYII=",ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABOSURBVHgB5YzBEQAQDARTghKUoCOtpFMlKCHO+BmJ8GRn7mFkl+hTRCRiBcvHd3gkrMogb8QOz59qwBStgEtUAuwWlYBfXASYboAY6D0aqFylbGxi/YkAAAAASUVORK5CYII=",ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABTSURBVHgBlc9dDQAgCARgIhjBCEYygg2MagQj4D3o5h8ot93mkO8BIiHM7MkSgIBWNFvBSLaAhBYVbiD2mRfhDUx/J9SACKdBfNy77uHh6CNjrwE2uauFNqWuDQAAAABJRU5ErkJggg==",ie=n.p+"static/media/AccordianDownBlack.25fe3425.svg",ce=n.p+"static/media/AccordianUPBlack.97852a94.svg",oe=function(e){var t=e.header,n=e.subHeader,a=e.onClickHandler,c=e.isDarkMode,o=void 0!==c&&c,r=e.isBlackArrow,s=void 0!==r&&r,d=e.cssClass,l=void 0===d?"":d,b=e.open,v=Object(i.useState)(!1),O=Object(j.a)(v,2),m=O[0],f=O[1],p=function(e){f(!m),a&&a(e)};Object(i.useEffect)((function(){b&&f(!m)}),[b]);return Object(u.jsxs)("div",{className:"global-accordian-container ".concat(l),"data-testId":"global-accordian",onKeyPress:function(e){var t=T.Cb.KEY_CHAR_CODE.ENTER;e.charCode===t&&(f(!m),a&&a(e))},children:[Object(u.jsxs)("button",{"aria-expanded":"false",className:"global-accordian-header-container",children:[Object(u.jsx)("span",{className:"global-accordian-header",onClick:p,children:t}),o?Object(u.jsx)("img",{src:m?ae:ne,alt:"",onClick:p,className:"global-accordian-arrow","data-testId":"acordian-handle-dark"}):s?Object(u.jsx)("img",{src:m?ce:ie,alt:"",onClick:p,className:"global-accordian-arrow","data-testId":"acordian-handle-dark"}):Object(u.jsx)("img",{src:m?te:ee,alt:"",onClick:p,className:"global-accordian-arrow","data-testId":"acordian-handle"})]}),n&&!m?Object(u.jsx)("ul",{className:"global-accordion-subheader cart-food-modifier",children:n.map((function(e,t){return Object(u.jsxs)("li",{children:[e,t===n.length-1?Object(u.jsx)("span",{children:"..."}):null]})}))}):null,m&&Object(u.jsx)("div",{className:"global-accordian-content",children:e.children})]})},re=["ariaLable","className","onClickHandler","name"],se=function(e){e.ariaLable;var t=e.className,n=void 0===t?"":t,i=e.onClickHandler,c=e.name,o=Object(k.a)(e,re);return Object(u.jsx)(L.b,Object(a.a)(Object(a.a)({to:{},"data-testid":"navItems",className:"navigation-link ".concat(n," nav-item"),onClick:function(){i(c)},onKeyPress:function(e){var t=T.Cb.KEY_CHAR_CODE,n=t.SPACE,a=t.ENTER;e.charCode!==n&&e.charCode!==a||i(c)}},o),{},{children:Object(u.jsx)("button",{className:"header-item-buttons d-flex",tabIndex:"-1",children:e.children})}))},de=function(e){var t=e.tabIndex,n=e.ariaLable,a=e.className,i=e.options,c=e.onChange,o=e.testid,r=void 0===o?"":o,s=e.selectedValue;return Object(u.jsx)("select",{className:a,tabIndex:t,"aria-label":n,onChange:c,onKeyPress:function(e){var t=T.Cb.KEY_CHAR_CODE,n=t.SPACE,a=t.ENTER;!c||e.charCode!==n&&e.charCode!==a||c()},"data-testid":r,children:null===i||void 0===i?void 0:i.map((function(e){return Object(u.jsx)("option",{value:e,selected:s===e,children:e},e)}))})},le=n(6),ue=n.n(le),be=n(14),ve=n(71),je=n(28),Oe=function(e){return e.map((function(e){return Object(a.a)(Object(a.a)({},me(e.fields)),{},{name:e.fields.title})}))||[]},me=function(e){var t=e.url,n=e.desktopImage,a=(void 0===n?{}:n).fields.file,i=(void 0===a?{}:a).url;return{linkTo:t,url:void 0===i?"":i}},fe=function(e){return e.map((function(e){var t=e.fields,n=t.externalurl,i=t.icon,c={linkTo:n,url:pe((void 0===i?{}:i).fields).url};return Object(a.a)(Object(a.a)({},c),{},{name:e.fields.title})}))||[]},pe=function(e){var t=e.desktopImage;return t&&he(t)||{}},he=function(e){var t=e.fields&&e.fields.file||{},n=t.url,a=void 0===n?"":n,i=t.altText;return{url:a,altText:void 0===i?"":i}},ge=function(e){var t=[],n=e.category,a=e.links;return(void 0===a?[]:a).map((function(e){t.push(Ne(e.fields))})),{categoryHeaderText:n,subCategories:t}},Ne=function(e){var t=e.linkText,n=e.internalurl,a=e.externalurl;return{name:t,linkTo:e.url||e.internalurl,internalurl:n,externalurl:a}},xe=function(e){var t=e.externalurl,n=e.icon;return{linkTo:t,url:pe((void 0===n?{}:n).fields).url}},Ee=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"footerLinks",navigationLink:t.footerItemSelected}),e.next=4,je.a.registerEvent(void 0,{data:n[0]},x.E);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=n.p+"static/media/KFCbucket.82cffdd8.svg",Te=function(e){var t,n=e.buttonContent,a=void 0===n?[]:n;return Object(u.jsx)(c.a.Fragment,{children:(t=a,t.map((function(e,t){return Object(u.jsx)(M,{href:e.linkTo,targetWindow:"_blank",type:"external",children:Object(u.jsx)(S.a,{srcFile:e.url,alt:"".concat(e.name)},t)})})))})},Se=n(5),Ce=function(e){var t,n=e.contentData,c=void 0===n?[]:n,r=e.clickHandler,s=void 0===r?null:r,d=e.isMobile,l=void 0!==d&&d,b=e.tenantReducerData,v=e.navigateHandler,m=void 0===v?null:v,f=function(e){var t,n=F.a.FOOTER_LOGO,i=F.a.FOOTER_SECTION,c=F.a.FIND_A_KFC_SECTION,o=F.a.APP_LINKS,r=F.a.SOCIAL_SECTION,s=F.a.COPYRIGHT,d={kfcLogo:{},categories:[],kfcStoreSearch:{},downloadAppButtons:[]},l={languageDropdown:{},copyrightContentData:{},socialMediaContent:[]},u=Object(ve.a)(e);try{for(u.s();!(t=u.n()).done;){var b=t.value,v=Object(O.get)(b,"sys.contentType.sys.id"),j=Object(O.get)(b,"fields.category");if(v===n){var m=pe(b.fields),f=m.url,p=m.altText;d.kfcLogo={src:f,alt:p}}else if(j===c){var h=b.fields.links[0].fields.linkText.split(" "),g=h[0]+" "+h[1].toLowerCase()+" "+h[2];d.kfcStoreSearch=Object(a.a)(Object(a.a)({},xe(b.fields.links[0].fields)),{},{name:g})}else if(j===o)d.downloadAppButtons=Oe(b.fields.links);else if(j===r)l.socialMediaContent=fe(b.fields.links);else if(j===s){var N,x,E=(null===b||void 0===b||null===(N=b.fields)||void 0===N||null===(x=N.links[0])||void 0===x?void 0:x.fields).headline;l.copyrightContentData={name:E}}else v===i&&d.categories.push(ge(b.fields))}}catch(I){u.e(I)}finally{u.f()}return{bodyContent:d,footerContent:l}}(c)||{},p=f.bodyContent,h=void 0===p?{}:p,g=f.footerContent,I=void 0===g?{}:g,C=Object(o.g)(),A=Object(N.c)((function(e){return e.appStateReducer.userStatus})),y=F.a.INDIA,_=h.categories,D=void 0===_?[]:_,R=h.kfcLogo,k=void 0===R?{}:R,L=h.kfcStoreSearch,P=void 0===L?{}:L,H=h.downloadAppButtons,B=void 0===H?{}:H,U=I.copyrightContentData,G=void 0===U?{}:U,Y=I.languageDropdown,K=I.socialMediaContent,V=void 0===K?{}:K,W=Object(i.useContext)(E.a).userOrderState.languageUpdationHappened,q=void 0===W?"":W,z=Object(N.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),Q=z.defaultLanguage,J=z.allowedLanguages,X=z.COUNTRY,ee=Object(i.useState)(),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)([]),ce=Object(j.a)(ie,2),re=ce[0],le=ce[1];Object(i.useEffect)((function(){0!==D.length&&le(D)}),[]),Object(i.useEffect)((function(){var e=J.find((function(e){return e.key===Object(x.Q)("".concat(X,"_").concat(T.yb))}));X&&ae((e||{}).value||(Q||{}).value)}),[X,q]),t=b&&b.basic&&function(e,t){var n=e;n.options=[];var a=(t||{allowedLanguages:[{value:""}]}).allowedLanguages;if(a.length){var i,c=Object(ve.a)(a);try{for(c.s();!(i=c.n()).done;){var o=i.value;n.options.push(o.value)}}catch(r){c.e(r)}finally{c.f()}return n}return{}}(w.contentData.footerContent.languageDropdown,b.basic)||{};var ue=function(e){var t=e.target.parentElement.parentElement;t.classList.contains("footer-accordian-open")?t.classList.remove("footer-accordian-open"):t.classList.add("footer-accordian-open")},be=function(){return V.map((function(e,t){return Object(u.jsx)($,Object(a.a)({className:"social-icons","data-testid":"footerItemSocial-component",onClickHandler:s},e),t)}))},je=function(){return Object(u.jsx)("div",{className:"column lang-div",children:Object(x.Bb)(t)&&Object(u.jsxs)(se,{tabIndex:"0",onClickHandler:s,name:t.type||t.name||"cart",children:[Object(u.jsx)(de,{tabIndex:"-1",options:J.map((function(e){var t;return null===e||void 0===e||null===(t=e.short_value)||void 0===t?void 0:t.toUpperCase()})),className:"language-select",selectedValue:ne}),Object(u.jsx)("span",{className:"dropdown-img-footer"})]})})},me=Object(u.jsxs)("footer",{className:"site-footer ".concat(!(null===A||void 0===A?void 0:A.localized)&&C.pathname.startsWith("/")&&(null===b||void 0===b?void 0:b.country)===y?"nonlocalized-footer":"localized-footer"),"data-testid":"mobileFooter-component",children:[Object(u.jsx)("div",{className:"row mobile-header-logo",children:Object(u.jsx)("div",{className:"header-logo",onClick:m,children:Object(u.jsx)(S.a,{srcFile:Object(x.qb)(k.src,Ie),alt:Object(x.qb)(k.alt,"KFC LOGO"),className:"kfc-footer-logo"})})}),Object(u.jsx)("div",{className:"row-mobile",children:re.map((function(e){return Object(u.jsx)(oe,{header:e.categoryHeaderText,isDarkMode:!0,onClickHandler:ue,children:Object(u.jsx)("ul",{className:"footer-mobile-list",tabIndex:"0",children:e.subCategories.map((function(e,t){return Object(u.jsx)(Z,Object(a.a)(Object(a.a)({"data-testid":"listItems-component",onClickHandler:s},e),{},{children:e.name}),t)}))})})}))}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"row-mobile",children:Object(u.jsxs)("div",{className:"findstore-mobile",children:[Object(u.jsx)(S.a,{srcFile:P.url,alt:""}),Object(u.jsx)(M,{href:P.linkTo,name:P.name,onClickHandler:s,targetWindow:"_blank",tabIndex:"0",type:"external",children:Object(Se.e)(P.name)})]})}),Object(u.jsx)("hr",{class:"mobile-horizontal"}),Object(u.jsxs)("div",{className:"row-mobile app-store","data-testid":"app-store",children:[Object(u.jsx)("div",{className:"flex",children:Object(Se.e)("downloadApp")}),Object(u.jsx)("div",{className:"flex social-btns","data-testid":"social-btns",children:Object(u.jsx)(Te,{buttonContent:B})})]}),Object(u.jsxs)("div",{className:"row row-mobile mobile-language my-2",children:[je(),Object(u.jsx)("div",{className:"column social-div",children:Object(u.jsx)("ul",{className:"social-icons",children:be()})})]}),Object(u.jsx)("div",{className:"row row-mobile row-copyright ".concat(C.pathname.includes("pdp")&&l?"pdp-row-copyright":""),children:Object(u.jsx)("div",{className:"column copyright-mobile",children:Object(u.jsx)("p",{className:"copyright-text",children:G.name})})})]}),he=Object(u.jsxs)("footer",{className:"site-footer","data-testid":"desktopFooter-component",children:[Object(u.jsxs)("div",{className:"row row-one aa",children:[Object(u.jsx)(M,{className:"header-logo","data-testid":"desktopFooter-component-navigate-handler",onClickHandler:m,children:Object(u.jsx)(S.a,{srcFile:Object(x.qb)(k.src,Ie),alt:Object(x.qb)(k.alt,"KFC LOGO"),className:"kfc-footer-logo"})}),Object(u.jsx)("div",{className:"category-items",children:re.map((function(e,t){return Object(u.jsx)($,Object(a.a)({className:"footer-links",onClickHandler:s},e),t)}))}),Object(u.jsxs)("div",{className:"findstore",children:[Object(u.jsx)(S.a,{srcFile:P.url,alt:""}),Object(u.jsx)(M,{href:P.linkTo,onClickHandler:s,name:P.name,targetWindow:"_blank",tabIndex:"0",type:"external",children:Object(Se.e)(P.name)})]}),Object(u.jsx)("div",{className:"flex social-btns","data-testid":"social-btns",children:Object(u.jsx)(Te,{buttonContent:B})})]}),Object(u.jsxs)("div",{className:"row row-two",children:[je(),Object(u.jsx)("div",{className:"column",children:Object(u.jsx)("p",{className:"copyright-text",children:G.name})}),Object(u.jsx)("div",{className:"column social-div",children:Object(u.jsx)("ul",{className:"social-icons",children:be()})})]})]});return Object(x.lb)(l,me,he)},Ae=n(10),ye=n(26),_e=n.p+"static/media/PopupCloseBtn.ee8133ae.svg",De=n.p+"static/media/GoBackIcon.10c30781.svg",Re=n(36),we=n(33),ke="upSellTitle",Le="view",Pe="kfcMenu",Me={TIMER:"timer",CURRENCY:"\u20b9",SERVES:"  ",VEG:"veg",NON_VEG:"nonveg",EXCLUSIVE_DEAL:"exclusiveDeal",NEW:"new",TOP_SELLER:"topSeller"},Fe={LARGE:"large",MEDIUM:"medium",SMALL:"small",CAROUSAL:"carousal"},He="web",Be="editSelectionsBtnText",Ue="editSelections",Ge="selectQuantity",Ye="clearAll",Ke="clearSearch",Ve="yourSearch",We="turnedNoResult",qe="backToMenu",ze="we Found",Qe="Sorry",Je="is currently closed.",Xe="results",Ze="INDIA",$e=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.upsizeSelectedPwa.name,{"%event%":"upsizeSelected","%upsizeProduct%":(null===t||void 0===t?void 0:t.name)||"NA","%size%":(null===t||void 0===t?void 0:t.size)||"NA","%upsizeSelectedFrom%":n||"NA"},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),et=function(){var e=Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.makeItACombo.name,{"%event%":"makeItACombo"},x.E);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.purchaseOrder.name,{data:{event:"purchase",ecommerce:t||{}}},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.viewOfferDetailsPwa.name,{"%event%":"viewOfferDetails","%offerName%":t.offerTitle},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.signUpClick.name,{"%event%":"signUpClick","%orderValue%":t.orderValue},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.popupView.name,{"%event%":"popupView","%popupTitle%":t.popupTitle},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.findAkfc.name,{"%event%":t},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a[t].name,{data:{event:t,ecommerce:Object(Re.a)({},t,{items:n})}},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),rt=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.viewItemList.name,{data:{event:"view_item",ecommerce:{view_item:{items:t||[]}}}},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.signUpStart.name,{data:{event:"signUpStart"}},x.E);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=n(213),lt=n.n(dt),ut=function(e){var t=e.ariaLabel,n=void 0===t?"Back":t,a=e.clickHandler,i=e.closeBtnRefCallback,c=e.alt,o=void 0===c?"Close OFFERS & DEALS dialog":c,r=e.className,s=void 0===r?"custom-modal-close":r,d=e.imageSrc,l=void 0===d?"":d,b=e.dataTestId;return Object(u.jsx)("button",{type:"button",className:s,"data-dismiss":"modal","aria-label":n,onClick:a,ref:i,"data-testid":b,children:Object(u.jsx)(S.a,{srcFile:l,alt:o})})},bt=function(e){var t=e.classNames,n=e.show,a=e.autoFocus,c=e.modalTitleId,o=e.modalTitle,r=void 0===o?null:o,s=e.children,d=e.closeBtnRefCallback,l=e.showCloseBtn,b=void 0!==l&&l,v=e.showBackBtn,j=void 0!==v&&v,O=e.closeButtonHandler,m=e.backButtonHandler,f=e.ariaLabel,p=e.modalTitleRequired,h=void 0===p||p,g=e.backBtnClassName,N=void 0===g?"custom-modal-back":g,x=e.backBtnAlt,E=void 0===x?"back":x,I=e.closeDataTestId,T=void 0===I?"":I,S=e.backDataTestId,C=void 0===S?"":S,A=Ae.a.AUTO,y=Ae.a.HIDDEN;return Object(i.useEffect)((function(){return document.querySelector("body").style.overflow=y,function(){document.querySelector("body").style.overflow=A}})),Object(i.useEffect)((function(){r&&it({popupTitle:r})}),[r]),Object(u.jsx)(lt.a,{children:Object(u.jsx)("div",{show:n.toString(),className:"shared-modal-container ".concat(t),autoFocus:a||!1,"data-testid":c,children:Object(u.jsxs)("div",{className:"modal-content",tabIndex:"-1","aria-labelledby":c,role:"dialog",children:[Object(u.jsxs)("div",{className:"modal-header",children:[j&&m&&Object(u.jsx)(ut,{ariaLabel:"Go back to Start Your Order dialog",clickHandler:m,className:N,imageSrc:De,alt:E,dataTestId:C}),h&&Object(u.jsx)("h2",{className:"header-title",id:c,children:r}),b&&O&&Object(u.jsx)(ut,{ariaLabel:f,clickHandler:O,closeBtnRefCallback:d,imageSrc:_e,dataTestId:T})]}),Object(u.jsx)("div",{className:"modal-body",children:s})]})})})},vt=function(e){return Object(u.jsx)(bt,Object(a.a)({},e))},jt=function(e){return Object(u.jsx)(vt,Object(a.a)({onExitedCallback:e.onModalExitedCallback},e))},Ot=n(11),mt=n(77),ft=n.p+"static/media/Call.1ad33a6d.svg",pt=n.p+"static/media/Direction.84bc1b15.svg",ht=n.p+"static/media/RedMarker.e7c38d6b.svg",gt=n.p+"static/media/BlackMarker.b3f28275.svg",Nt=function(e){var t=e.isOpen,n=e.handleClose,c=e.OrderReducerData,o=Object(i.useState)(Object(x.Hb)(window.innerWidth)),r=Object(j.a)(o,2),s=r[0],d=r[1],l=window.google;Object(i.useEffect)((function(){return window.addEventListener("resize",b),function(){window.removeEventListener("resize",b)}}));var b=function(){d(Object(x.Hb)(window.innerWidth))},v=s?{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:t,classNames:"LookUpmap-modal",showCloseBtn:!0,closeButtonHandler:n,autoFocus:!0}:{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:t,classNames:"LookUpmap-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:n,autoFocus:!0};function O(){var e,t,n,a,i=new l.maps.DirectionsService,o=new l.maps.DirectionsRenderer,r=new l.maps.Map(document.getElementById("maps"),{zoom:16,center:{lat:Number(null===c||void 0===c||null===(e=c.store)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude),lng:Number(null===c||void 0===c||null===(n=c.store)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.longitude)}});o.setMap(r),function(e,t){var n,a,i,o,r,s,d,u,b,v,j,O,m={lat:Number(null===c||void 0===c||null===(n=c.store)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.latitude),lng:Number(null===c||void 0===c||null===(i=c.store)||void 0===i||null===(o=i.location)||void 0===o?void 0:o.longitude)},f=new l.maps.Map(document.getElementById("maps"),{zoom:16,center:m});e.route({origin:{lat:Number(null===c||void 0===c||null===(r=c.store)||void 0===r||null===(s=r.location)||void 0===s?void 0:s.latitude),lng:Number(null===c||void 0===c||null===(d=c.store)||void 0===d||null===(u=d.location)||void 0===u?void 0:u.longitude)},destination:{lat:Number(null===c||void 0===c||null===(b=c.store)||void 0===b||null===(v=b.location)||void 0===v?void 0:v.latitude),lng:Number(null===c||void 0===c||null===(j=c.store)||void 0===j||null===(O=j.location)||void 0===O?void 0:O.longitude)},travelMode:l.maps.TravelMode.DRIVING},(function(e,n){if("OK"===n){t.setDirections(e);var a=e.routes[0].legs[0];new l.maps.Marker({position:a.end_location,map:f,visible:!0,icon:gt,title:"Delivery-Location"})}else new l.maps.Map(document.getElementById("maps"),{zoom:6,center:{lat:20.5937,lng:78.9629}})}))}(i,o)}return Object(i.useEffect)((function(){null!==(null===c||void 0===c?void 0:c.deliveryAddress)&&null!==(null===c||void 0===c?void 0:c.store)&&Object(x.dc)(null===c||void 0===c?void 0:c.service)===Object(x.dc)(T.q)?O():Object(x.dc)(null===c||void 0===c?void 0:c.service)!==Object(x.dc)(T.db)&&Object(x.dc)(null===c||void 0===c?void 0:c.service)!==Object(x.dc)(T.u)||null===(null===c||void 0===c?void 0:c.store)||function(){var e,t,n,a,i={lat:Number(null===c||void 0===c||null===(e=c.store)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude),lng:Number(null===c||void 0===c||null===(n=c.store)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.longitude)},o=new l.maps.Map(document.getElementById("maps"),{zoom:16,center:i});new l.maps.Marker({position:i,map:o,visible:!0,icon:ht,title:"KFC Store"})}()})),Object(u.jsx)("div",{children:t&&Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},v),{},{children:Object(u.jsx)("div",{children:Object(u.jsx)("div",{id:"maps"})})}))})};Nt.defaultProps={isOpen:!1,closeModal:null};var xt=Nt,Et=["placeholder","labelClassName","inputClassName","helperTextClassName","containerClassName","inputTestId","labelTestId","onKeyPressHandler","error","helperText","ariaLabel","ariaRequired","autoComplete"],It=function(e){var t=e.placeholder,n=void 0===t?"":t,i=e.labelClassName,c=void 0===i?"":i,o=e.inputClassName,r=void 0===o?"":o,s=e.helperTextClassName,d=void 0===s?"":s,l=e.containerClassName,b=void 0===l?"":l,v=e.inputTestId,j=void 0===v?"":v,O=e.labelTestId,m=void 0===O?"":O,f=e.onKeyPressHandler,p=void 0===f?null:f,h=e.error,g=void 0!==h&&h,N=e.helperText,x=void 0===N?"":N,E=(e.ariaLabel,e.ariaRequired),I=void 0===E?"":E,T=e.autoComplete,S=void 0===T?"":T,C=Object(k.a)(e,Et);return Object(u.jsxs)("div",{className:"field material-input ".concat(b),children:[g&&Object(u.jsx)("span",{className:d,role:"alert",children:x}),Object(u.jsx)("input",Object(a.a)({className:r,id:"mt-input-".concat(n),name:"mt-input-".concat(n),placeholder:n,onKeyPress:p,"data-testid":j,"aria-required":I,autocomplete:S},C)),Object(u.jsx)("label",{"data-testid":m,className:c,for:"mt-input-".concat(n),children:n})]})},Tt=n(133),St=n(19),Ct=n(67),At=n.p+"static/media/Ellipse.f24b73f4.svg",yt=n(126),_t=n(45),Dt=["onKeyPressHandler","value","ref"],Rt=function(e){var t=e.onKeyPressHandler,n=void 0===t?null:t,i=e.value,c=void 0===i?"":i,o=(e.ref,Object(k.a)(e,Dt));return Object(u.jsx)("input",Object(a.a)({value:c,onChange:function(e){return e.preventDefault()},onKeyPress:n},o))},wt=n(66),kt=n(410),Lt=n(29),Pt=n.p+"static/media/TimerIcon.9e559d6e.svg",Mt=n.p+"static/media/Time_ClockDark.bcd6727f.svg",Ft=function(e){var t=e.endTime,n=void 0===t?new Date:t,a=Object(i.useState)(Object(wt.d)(n)),c=Object(j.a)(a,2),o=c[0],r=c[1];return Object(i.useEffect)((function(){var e;return Object(wt.g)(n)?e=setTimeout((function(){r(Object(wt.d)(n))}),1e3):r("00HR : 00M : 00S"),function(){clearTimeout(e)}})),Object(u.jsx)("span",{"data-testid":"timer","aria-live":"polite",children:o})},Ht=n(32),Bt=function(e){var t=e.data,n=e.cardType,a=e.id,o=e.tenantId,r=e.applyCoupon,s=Object(i.useState)(!1),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(x.y)(window.innerWidth),O=function(e){return Object(u.jsx)(u.Fragment,{children:(null===e||void 0===e?void 0:e.showTimer)?Object(wt.g)(null===e||void 0===e?void 0:e.endTime)&&Object(u.jsx)("p",{"data-testid":"coupon-header-block",className:"coupon-time",children:Object(u.jsxs)("span",{"data-testid":"coupon-time-block",className:"coupon-time-block",children:[Object(u.jsx)("img",{className:"coupon-time-icon",src:Pt,alt:""}),Object(u.jsx)(Ft,{endTime:null===e||void 0===e?void 0:e.endTime})]})}):Object(u.jsxs)("p",{"data-testid":"coupon-header-block",className:"mr-btm-0",children:[(null===e||void 0===e?void 0:e.header)&&Object(u.jsx)("span",{className:"ml-rgt coupon-time",children:null===e||void 0===e?void 0:e.header}),Object(u.jsxs)("span",{className:"coupon-expiry-details",children:[Object(u.jsx)("img",{alt:"",src:Mt}),Object(u.jsxs)("span",{children:[Object(u.jsx)("span",{className:"capitalize",children:"Expires\xa0"})," on ",Object(wt.f)(null===e||void 0===e?void 0:e.endTime)]})]})]})})};return Object(u.jsx)(c.a.Fragment,{children:"image-text"===n?function(e,n){var a;return Object(u.jsxs)("section",{"data-testid":"coupon-container",className:"coupon-card-container",children:[Object(u.jsxs)("section",{className:"coupon-card-content text-image",children:[Object(u.jsx)("section",{className:"coupon-image-content",children:Object(u.jsx)(S.a,{className:"coupon-image",srcFile:"".concat(Object(Lt.a)(Ht.E)).concat(o,"/images/offers/").concat(v,"/").concat(null===e||void 0===e?void 0:e.imageSrc,".jpg"),alt:"",defaultPath:"".concat(Object(Lt.a)(Ht.E)).concat(o).concat(_t.f)})}),Object(u.jsxs)("section",{className:"coupon-text-content image-text",children:[O(t),Object(u.jsx)("h4",{role:"text","data-testid":"coupon-heading-block",className:"coupon-heading margin-bottom-5",children:Object(x.ec)(null===e||void 0===e?void 0:e.heading)}),Object(u.jsx)("h5",{role:"text","data-testid":"coupon-desc-block",className:"coupon-desc margin-bottom-5",children:Object(x.ec)(null===e||void 0===e?void 0:e.description)}),Object(u.jsxs)("h5",{role:"text","data-testid":"coupon-terms-btn",onClick:function(){return b(!l)},className:"coupon-terms",children:[Object(Se.e)(_t.q),Object(u.jsx)("img",{src:De,alt:"",className:l?"terms-arrow inverted":"terms-arrow"})]})]}),Object(u.jsx)("section",{className:"coupon-button-container",children:Object(u.jsx)(Ot.a,{"data-testid":"apply-button",disabled:null===e||void 0===e?void 0:e.isApplied,onClick:function(t){return r(t,null===e||void 0===e?void 0:e.discountCode)},className:"button whiteButton blackBorder","aria-label":Object(Se.e)(_t.m)+" "+(null===e||void 0===e?void 0:e.heading),children:Object(u.jsx)("span",{className:"btn-text",children:(null===t||void 0===t?void 0:t.isApplied)?Object(Se.e)(_t.l):Object(Se.e)(_t.m)})})})]}),Object(u.jsx)("section",{"data-testid":"terms-list-block",className:l?"terms-list show":"terms-list",children:Object(u.jsx)("ul",{className:"main-terms-list",children:null===e||void 0===e||null===(a=e.termsAndConditions)||void 0===a?void 0:a.map((function(e){return Object(u.jsx)("li",{children:null===e||void 0===e?void 0:e.message},null===e||void 0===e?void 0:e.message)}))})})]},n)}(t,a):function(e,t){var n;return Object(u.jsxs)("div",{"data-testid":"coupon-container",className:"coupon-card-container text-only",children:[Object(u.jsxs)("div",{className:"coupon-card-content text-only",children:[Object(u.jsxs)("div",{className:l?"coupon-text-content coupon-text-only show":"coupon-text-content coupon-text-only",children:[O(e),Object(u.jsx)("h4",{"data-testid":"coupon-heading-block",className:"coupon-heading",children:Object(x.ec)(null===e||void 0===e?void 0:e.heading)}),Object(u.jsx)("h5",{"data-testid":"coupon-desc-block",className:"coupon-desc",children:Object(x.ec)(null===e||void 0===e?void 0:e.description)}),Object(u.jsxs)("h5",{"data-testid":"coupon-terms-btn",onClick:function(){return b(!l)},className:"coupon-terms",children:[Object(Se.e)(_t.q),Object(u.jsx)("img",{src:De,alt:"",className:l?"terms-arrow inverted":"terms-arrow"})]})]}),Object(u.jsx)("div",{className:"coupon-button-container",children:Object(u.jsx)(Ot.a,{"data-testid":"apply-button",disabled:null===e||void 0===e?void 0:e.isApplied,onClick:function(t){return r(t,null===e||void 0===e?void 0:e.discountCode)},className:"button whiteButton blackBorder","aria-label":Object(Se.e)(_t.m)+" "+(null===e||void 0===e?void 0:e.heading),children:Object(u.jsx)("span",{className:"btn-text",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Se.e)(_t.l):Object(Se.e)(_t.m)})})})]}),Object(u.jsx)("div",{"data-testid":"terms-list-block",className:l?"terms-list show":"terms-list",children:Object(u.jsx)("ul",{className:"main-terms-list",children:null===e||void 0===e||null===(n=e.termsAndConditions)||void 0===n?void 0:n.map((function(e){return Object(u.jsx)("li",{children:null===e||void 0===e?void 0:e.message},null===e||void 0===e?void 0:e.message)}))})})]},t)}(t,a)})};Bt.defaultProps={data:{},cardType:"text",tenantId:"",id:Object(kt.a)(),applyCoupon:function(){}};var Ut=Bt,Gt=function(e){var t=e.contentData,n=e.tenantId,a=e.applyCoupon,o=Object(i.useState)(null),r=Object(j.a)(o,2),s=r[0],d=r[1],l=Object(i.useState)(null),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(x.y)(window.innerWidth),f=function(e){d(e===s?null:e),O(null)},p=function(e,t){e.stopPropagation(),O(t===v?null:t)},h=function(e){return Object(u.jsx)(u.Fragment,{children:(null===e||void 0===e?void 0:e.showTimer)?Object(wt.g)(null===e||void 0===e?void 0:e.endTime)&&Object(u.jsx)("p",{className:"coupon-time",children:Object(u.jsxs)("span",{"data-testid":"coupon-time-block",className:"coupon-time-block",children:[Object(u.jsx)("img",{className:"coupon-time-icon",src:Pt}),Object(u.jsx)(Ft,{endTime:null===e||void 0===e?void 0:e.endTime})]})}):Object(u.jsxs)("p",{className:"mr-btm-0",children:[(null===e||void 0===e?void 0:e.header)&&Object(u.jsx)("span",{className:"ml-rgt coupon-time",children:null===e||void 0===e?void 0:e.header}),Object(u.jsxs)("span",{className:"coupon-expiry-details",children:[Object(u.jsx)("img",{alt:"time_clock",src:Mt}),Object(u.jsxs)("span",{children:[Object(u.jsx)("span",{className:"capitalize",children:"Expires\xa0"})," on ",Object(wt.f)(null===e||void 0===e?void 0:e.endTime)]})]})]})})};return Object(u.jsx)(c.a.Fragment,{children:t.map((function(e,t){return"image-text"===e.cardType?function(e,t){var i;return Object(u.jsxs)("div",{"data-testid":"coupon-text-component",onClick:function(){return f(t)},className:"coupon-card-container",children:[Object(u.jsxs)("div",{className:"coupon-card-content",children:[Object(u.jsxs)("div",{className:"coupon-mobile-content",children:[Object(u.jsxs)("div",{className:"coupon-mobile-image-text",children:[Object(u.jsx)("div",{className:"coupon-image-content",children:Object(u.jsx)(S.a,{className:"coupon-image",srcFile:"".concat(Object(Lt.a)(Ht.E)).concat(n,"/images/offers/").concat(m,"/").concat(null===e||void 0===e?void 0:e.imageSrc,".jpg"),alt:"No-Image",defaultPath:"".concat(Object(Lt.a)(Ht.E)).concat(n).concat(_t.f)})}),Object(u.jsxs)("div",{className:"coupon-text-content with-image",children:[h(e),Object(u.jsx)("h4",{"data-testid":"coupon-heading-block",className:"coupon-heading",children:Object(x.ec)(null===e||void 0===e?void 0:e.heading)})]})]}),Object(u.jsx)("div",{"data-testid":"coupon-accordian-content",className:s===t?"coupon-text-content coupon-below-image show":"coupon-text-content coupon-below-image",children:Object(u.jsxs)("div",{className:"coupon-accordion-content show",children:[Object(u.jsx)("h5",{"data-testid":"coupon-desc-block",className:"coupon-desc",children:Object(x.ec)(null===e||void 0===e?void 0:e.description)}),Object(u.jsx)(Ot.a,{"data-testid":"apply-button",onClick:function(t){return a(t,null===e||void 0===e?void 0:e.discountCode)},disabled:null===e||void 0===e?void 0:e.isApplied,className:"button whiteButton coupon-button blackBorder",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Se.e)(_t.l):Object(Se.e)(_t.m)}),Object(u.jsxs)("h5",{"data-testid":"coupon-terms-block",onClick:function(e){return p(e,t)},className:"coupon-terms",children:[Object(Se.e)(_t.q),Object(u.jsx)("img",{src:De,className:v===t?"terms-arrow inverted":"terms-arrow"})]})]})})]}),Object(u.jsx)("div",{"data-testid":"accordian-toggle-button",className:"coupon-accordian-button",children:Object(u.jsx)("img",{src:De,className:s===t?"coupon-accordian-arrow inverted":"coupon-accordian-arrow"})})]}),Object(u.jsx)("div",{"data-testid":"terms-list-block",className:v===t?"terms-list show":"terms-list",children:Object(u.jsx)("ul",{className:"main-terms-list",children:null===e||void 0===e||null===(i=e.termsAndConditions)||void 0===i?void 0:i.map((function(e){return Object(u.jsx)("li",{children:null===e||void 0===e?void 0:e.message},null===e||void 0===e?void 0:e.message)}))})})]},t)}(e,t):function(e,t){var n;return Object(u.jsxs)("div",{"data-testid":"coupon-text-component",onClick:function(){return f(t)},className:"coupon-card-container",children:[Object(u.jsxs)("div",{className:"coupon-card-content",children:[Object(u.jsxs)("div",{className:s===t?"coupon-text-content coupon-text-only show":"coupon-text-content coupon-text-only",children:[Object(u.jsxs)("div",{className:"coupon-text-limiter",children:[h(e),Object(u.jsx)("h4",{"data-testid":"coupon-heading-block",className:"coupon-heading",children:Object(x.ec)(null===e||void 0===e?void 0:e.heading)})]}),Object(u.jsxs)("div",{className:s===t?"coupon-accordion-content show":"coupon-accordion-content","data-testid":"coupon-accordian-content",children:[Object(u.jsx)("h5",{className:"coupon-desc","data-testid":"coupon-desc-block",children:Object(x.ec)(null===e||void 0===e?void 0:e.description)}),Object(u.jsx)(Ot.a,{className:"button whiteButton coupon-button blackBorder",disabled:null===e||void 0===e?void 0:e.isApplied,onClick:function(t){return a(t,null===e||void 0===e?void 0:e.discountCode)},"data-testid":"apply-button",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Se.e)(_t.l):Object(Se.e)(_t.m)}),Object(u.jsxs)("h5",{className:"coupon-terms","data-testid":"coupon-terms-block",onClick:function(e){return p(e,t)},children:[Object(Se.e)(_t.q),Object(u.jsx)("img",{className:v===t?"terms-arrow inverted":"terms-arrow",src:De})]})]})]}),Object(u.jsx)("div",{className:"coupon-accordian-button","data-testid":"accordian-toggle-button",children:Object(u.jsx)("img",{className:s===t?"coupon-accordian-arrow inverted":"coupon-accordian-arrow",src:De})})]}),Object(u.jsx)("div",{className:v===t?"terms-list show":"terms-list","data-testid":"terms-list-block",children:Object(u.jsx)("ul",{"data-testid":"mainterms-list",className:"main-terms-list",children:null===e||void 0===e||null===(n=e.termsAndConditions)||void 0===n?void 0:n.map((function(e){return Object(u.jsx)("li",{id:"terms-list",children:null===e||void 0===e?void 0:e.message},null===e||void 0===e?void 0:e.message)}))})})]},t)}(e,t)}))})};Gt.defaultProps={contentData:[],tenantId:"",applyCoupon:null};var Yt=Gt,Kt=function(e){var t=e.isMobile,n=e.couponsData,a=e.tenantId,i=e.applyCoupon,o=Object(wt.i)(n);return Object(u.jsx)(c.a.Fragment,{children:t?Object(u.jsx)(Yt,{contentData:o,applyCoupon:i,tenantId:a}):o.map((function(e,t){return Object(u.jsx)(Ut,{data:e,tenantId:a,cardType:null===e||void 0===e?void 0:e.cardType,id:t,applyCoupon:i},t)}))})};Kt.defaultProps={isMobile:!1,couponsData:[],tenantId:"",applyCoupon:null};var Vt=Kt,Wt=n(47),qt=function(){var e=Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.guestContactDetails.name,{"%event%":"guestContactDetails"},x.E);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),zt=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.addContactInfo.name,{data:{event:"add_contact_info",ecommerce:{checkout_cart:{items:t}}}},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.beginCheckoutPwa.name,{data:{event:"begin_checkout",ecommerce:{checkout_cart:{items:t}}}},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.paymentInfoClick.name,{data:{event:"add_payment_info",paymentType:t,ecommerce:{checkout_cart:{items:n}}}},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Xt=function(){var e=Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.checkoutClick.name,{data:{event:"checkoutClick"}},x.E);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Zt=n(51),$t=n.p+"static/media/Error.c9ff5c1b.svg",en={contentData:{scheduleOrderHeaderText:"scheduleOrder",changeScheduleOrderHeaderText:"changeYourOrderTitle",scheduleOrderModalContent:{formContent:{orderTypeTitle:"orderType",restaurantTitle:"YourKFCLocation",yourLocationTitle:"yourLocation",editTitle:"edit",scheduleDateTitle:"scheduleForYourOrder",dateTitle:"date",timeTitle:"time",buttonText:"confirm",dateOptions:["Today","23/03/2021","24/03/2021"],timeOptions:[9.3,10,10.3,11]}},DELIVERY_NA_WARNING_MESSAGE:"noStoresWithDeliveryHeader",DELIVERY_PICKUP_NA_MESSAGE:"deliverystoresWithoutAnyServiceHeader",SWITCH_TO_TAKEAWAY:"switchToTakeaway",errorMessageInactive:"errorMessageInactive",errorMessageClosed:"errorMessageClosed"},timingsSampleData:{operatingHours:[{day:"EVERYDAY",availableHours:{from:"10:00",to:"23:00"}}],asap:{isAvailable:!0,promiseTime:0},scheduled:{date:"2021-05-05",periods:[{startEndTime:{from:"11:30",to:"23:00"},interval:15}],unavailibilities:[]},futureDates:["2021-05-06"]}},tn=n(86),nn=Ae.a.ANALYTICS_LOCALISATION_SIGNIN,an=f.a.PAYMENT_FAILED_MESSAGE,cn=f.a.PAYMENT_PRE_VALIDATION_FAILED_MESSAGE,on=en.contentData,rn=on.scheduleOrderHeaderText,sn=on.changeScheduleOrderHeaderText,dn=function(e){return e?"formElement-error":"formElement"},ln=function(e,t){e&&t()},un=function(e){return e?"text-danger":" "},bn=function(e){return e?" mobile":""},vn=function(e){return e?"":" px-rt-5px"},jn=function(e){var t=e.date,n=e.time,a=Zt.c.ASAP,i="";if(t&&n){var c=Object(ye.e)(t,"YYYYMMDD")===Object(ye.c)("YYYYMMDD")?Object(Se.e)("today"):Object(Se.e)("tomorrow"),o=n;i=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("label",{children:c}),Object(u.jsx)("span",{children:o})]})}return"ASAP"===n&&(i=Object(u.jsx)("label",{children:Object(Se.e)(a)})),i},On=function(e){var t,n=Zt.c.CHECKOUT_TITLES,a=Zt.c.IS_DELIVERY,i=Zt.c.IS_TAKEAWAY,c=Zt.c.IS_DINEIN;return Object(x.dc)(e)===a&&(t=n.DELIVERY_INFO),Object(x.dc)(e)===i&&(t=n.TAKEAWAY_INFO),Object(x.dc)(e)===c&&(t=n.DINEIN_INFO),t},mn=function(e){var t,n=Zt.c.CHECKOUT_TITLES,a=Zt.c.IS_DELIVERY,i=Zt.c.IS_TAKEAWAY,c=Zt.c.IS_DINEIN;return Object(x.dc)(e)===a&&(t=n.DELIVERY_OPTIONS),Object(x.dc)(e)===i&&(t=n.TAKEAWAY_OPTIONS),Object(x.dc)(e)===c&&(t=n.DINEIN_OPTIONS),t},fn=function(e,t){var n,i=Object(a.a)({},e);return i.value=t,!t||t.length<2?(i.error=!0,i.errorMessage=Object(Se.e)("emptyFullNameErrMsg")):(n=t,!Zt.b.test(n)||t.length>26?(i.error=!0,i.errorMessage=Object(Se.e)("invalidFullNameErrMsg")):(i.error=!1,i.errorMessage="")),i},pn=function(e,t){var n,i=Object(a.a)({},e);return i.value=t,t?(n=t,Zt.a.test(null===n||void 0===n?void 0:n.toLowerCase())?(i.error=!1,i.errorMessage=""):(i.error=!0,i.errorMessage=Object(Se.e)("invalidEmailErrMsg"))):(i.error=!0,i.errorMessage=Object(Se.e)("emptyEmailErrMsg")),i},hn=function(e,t,n,a){var i;if(null===e||void 0===e||null===(i=e.foodLines)||void 0===i?void 0:i.length){var c=[];null===e||void 0===e||e.foodLines.forEach((function(e,t){var i,o,r,s,d=(e.amount/n).toFixed(2),l=null!==(i=null===a||void 0===a?void 0:a[null===(o=e.item)||void 0===o?void 0:o.id])&&void 0!==i?i:{},u=l.categoryId,b=void 0===u?"NA":u,v=l.categoryName,j=void 0===v?"NA":v;c.push({item_name:(null===(r=e.item)||void 0===r?void 0:r.dname[0].value)||"NA",item_id:(null===(s=e.item)||void 0===s?void 0:s.id)||"NA",price:parseFloat(d)||"NA",item_category:j,item_list_name:j,item_list_id:b,index:t+1,quantity:e.quantity||"NA"})})),"AddContactInfoClick"===t&&zt(c),"BeginCheckoutClick"===t&&Qt(c)}},gn=function(e,t,n,i){var c=Zt.c.IS_DELIVERY,o=Zt.c.IS_TAKEAWAY,r=Object(a.a)({},e);return r.value=t,Object(x.dc)(n)===c?(r.error=!1,r.errorMessage=""):t||Object(x.dc)(n)!==o||"handittome"!==i?t.length<2&&Object(x.dc)(n)===o&&"handittome"===i?(r.error=!0,r.errorMessage=Object(Se.e)("invalidVehicalInformation")):(r.error=!1,r.errorMessage=""):(r.error=!0,r.errorMessage=Object(Se.e)("pleaseEnterYourVehicalInformation")),r},Nn=function(e,t,n,a){var i,c=[];null===e||void 0===e||null===(i=e.foodLines)||void 0===i||i.forEach((function(e,n){var i,o,r,s,d=null!==(i=null===a||void 0===a?void 0:a[null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.id])&&void 0!==i?i:{},l=d.categoryId,u=void 0===l?"NA":l,b=d.categoryName,v=void 0===b?"NA":b;c.push({item_name:(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.name)||"NA",item_id:(null===e||void 0===e||null===(s=e.item)||void 0===s?void 0:s.id)||"NA",price:Number(((null===e||void 0===e?void 0:e.unitPrice)/t).toFixed(2))||0,item_category:v,item_list_name:v,item_list_id:u,index:n+1,quantity:(null===e||void 0===e?void 0:e.quantity)||0})})),Jt(null===n||void 0===n?void 0:n.name,c)},xn=function(e){var t,n,a,i,c,o=(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.response)?null===e||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.response)||void 0===a?void 0:a.data:null===e||void 0===e?void 0:e.response,r="";return(null===o||void 0===o?void 0:o.errors)&&(null===o||void 0===o?void 0:o.errors.length)>0?r=Array.isArray(null===o||void 0===o?void 0:o.errors)?null===o||void 0===o?void 0:o.errors[0]:null===o||void 0===o?void 0:o.errors:(null===o||void 0===o?void 0:o.errorMessages)&&(r=Array.isArray(null===o||void 0===o?void 0:o.errorMessages)?null===o||void 0===o?void 0:o.errorMessages[0]:null===o||void 0===o?void 0:o.errorMessages),r=(null===(i=r)||void 0===i?void 0:i.message)?null===(c=r)||void 0===c?void 0:c.message:r},En=function(e,t,n){var a="";return n?a=Object(Se.e)(cn):t?a=Object(Se.e)(an):e&&(null===e||void 0===e?void 0:e.error)&&(a=xn(e)),""!==a&&Object(u.jsxs)("div",{className:"row row-cols-12 mt-10px payment-failed-error-box",children:[Object(u.jsx)(S.a,{srcFile:$t,className:"mt-3px mr-5px"}),Object(u.jsx)("div",{className:"ml-10px",children:a})]})},In=function(e,t){"PICKUP"===e&&(t="leaveatmydoor"===t?"in-store":"KFC to your Car");var n=sessionStorage.getItem("setAttributePayload");n&&((n=JSON.parse(n)).CollectionPoint=t,Object(x.qc)(n))},Tn=function(e,t){var n=Zt.c.IS_TAKEAWAY,a=Zt.c.IS_CURBSIDE;return t!==n||Array.isArray(e)&&e.length>0&&Boolean(e.find((function(e){return e.collectionPointName===a})))},Sn=function(e,t){t&&(null===t||void 0===t?void 0:t.error)&&(null===t||void 0===t?void 0:t.response)&&(e(Object(mt.e)()),e(Object(mt.a)({value:[]}))),e(Object(tn.b)()),localStorage.setItem(T.R.ORDER_TRACKING,null)},Cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t&&Object(x.J)(e,n)},An=function(e){var t=e.isOpen,n=e.handleClose,c=e.bucketId,o=Object(N.c)((function(e){return e.tenantReducer})),r=Object(i.useContext)(E.a).userOrderStateDispatch,s=o.tenantId,d=void 0===s?"":s,l=o.componentOptions,b=void 0===l?{}:l,v=Object(i.useState)(Object(x.Hb)(window.innerWidth)),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(""),h=Object(j.a)(p,2),g=h[0],I=h[1],C=Object(i.useState)(""),A=Object(j.a)(C,2),y=A[0],_=A[1],D=Object(i.useState)(!1),R=Object(j.a)(D,2),w=R[0],k=R[1],L=Object(N.b)(),P=Object(N.c)((function(e){return e.cartReducer})),M=Object(N.c)((function(e){return e.appStateReducer})).userStatus,F=(void 0===M?{}:M).loggedIn,H=void 0!==F&&F,B=P.applicableCoupons,U=P.couponError,G=P.cartData,Y=void 0===G?{}:G,K=P.isCouponLoading,V=void 0===K||K,W=Y.discountLines,q=void 0===W?[]:W,z=Object(x.n)(B);Object(i.useEffect)((function(){L(Object(St.g)({basketId:c,tenantId:d}))}),[]),Object(i.useEffect)((function(){!function(e,t){t&&"NA"!==t&&Object(x.J)(e,t)}(Object(Se.e)(_t.j),y)}),[y]),Object(i.useEffect)((function(){return window.addEventListener("resize",J),function(){window.removeEventListener("resize",J)}}));var Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.stopPropagation();var n=document.getElementById("coupon-top-div");null===n||void 0===n||n.scrollIntoView(!0),r({type:_t.n,value:{couponErrorMessage:""}}),L(Object(St.b)({basketId:c,tenantId:d},{couponCode:t||g}));var a=t||g;I(a)};Object(i.useEffect)((function(){var e,t,a,i,o,s,l=q.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.name)===_t.a}));(null===l||void 0===l?void 0:l.length)>(null===b||void 0===b||null===(e=b.coupons)||void 0===e?void 0:e.noOfCoupopnAllowed)&&L(Object(St.m)({basketId:c,tenantId:d,couponCode:null===(t=l[0])||void 0===t?void 0:t.couponCode}));!g||V||w?w&&(r({type:_t.n,value:{couponErrorMessage:""}}),k(!1)):U&&(null===U||void 0===U?void 0:U.errorCode)?_(U.errors[0]):(null===q||void 0===q?void 0:q.length)&&(null===(a=q[(null===q||void 0===q?void 0:q.length)-1])||void 0===a||null===(i=a.status)||void 0===i?void 0:i.name)===_t.a?(n("true"),Wt.b.dark(Object(u.jsxs)("div",{className:"img-text-div",children:[Object(u.jsx)(S.a,{srcFile:yt.a})," ",Object(u.jsx)("span",{className:"text",children:Object(Se.e)(_t.p)})]}),{className:"coupon-toast-position",bodyClassName:"success-coupon-toast",hideProgressBar:!0,position:Wt.b.POSITION.BOTTOM_CENTER}),localStorage.setItem("expiryMessage",Object(Se.e)(_t.c)),setTimeout((function(){Wt.b.dismiss()}),3e3)):(null===q||void 0===q?void 0:q.length)&&(null===(o=q[(null===q||void 0===q?void 0:q.length)-1])||void 0===o||null===(s=o.status)||void 0===s?void 0:s.name)===_t.g&&(_(Object(wt.b)(q[(null===q||void 0===q?void 0:q.length)-1])),k(!0))}),[U,q]);var J=function(){f(Object(x.Hb)(window.innerWidth))},X=function(){I(""),_("")},Z=m?{id:"CouponsModalPopup",role:"dialog",modalTitleId:"CouponsModalPopup",show:t,classNames:"coupons-module-modal",showCloseBtn:!0,closeButtonHandler:n,modalTitle:Object(Se.e)(_t.j),autoFocus:!0,closeDataTestId:"coupon-close",backDataTestId:"coupon-back"}:{id:"CouponsModalPopup",role:"dialog",modalTitleId:"CouponsModalPopup",show:t,classNames:"coupons-module-modal",showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:n,backButtonHandler:n,modalTitle:Object(Se.e)(_t.j),autoFocus:!0,closeDataTestId:"coupon-close",backDataTestId:"coupon-back"},$=Object(Ct.a)({"coupon-text-box":!0,"error-msg":y});return Object(u.jsxs)(jt,Object(a.a)(Object(a.a)({},Z),{},{"data-testid":"modal-coupon-landing-page",children:[Object(u.jsx)("div",{className:"coupon-top-box coupon-border",id:"coupon-top-div",children:Object(u.jsxs)("div",{className:"coupon-top-content",children:[Object(u.jsxs)("div",{className:"coupon-discount-col-1",children:[Object(u.jsx)("h3",{"data-testid":"coupon-content-header",className:"coupon-content-header",children:Object(Se.e)(_t.i)}),Object(u.jsx)("p",{"data-testid":"coupon-content-desc",className:"coupon-content-desc",children:Object(Se.e)(_t.h)})]}),Object(u.jsxs)("div",{className:"coupon-discount-col-2",children:[Object(u.jsx)("label",{"data-testid":"coupon-input-label",className:"coupon-input-label",htmlFor:"modal-coupon-input",children:Object(Se.e)(_t.d)}),Object(u.jsxs)("div",{className:"flex-input-section",children:[Object(u.jsx)(Rt,{id:"modal-coupon-input",value:g,className:$,placeholder:"Enter code","data-testid":"modal-coupon-input-field",onChange:function(e){I(e.target.value),_("")}}),g.length>0&&Object(u.jsx)("button",{"data-testid":"coupon-cross-icon",className:"discount-button-img",onClick:function(){return X()},onKeyPress:function(){return X()},"aria-label":"Clear Discount Code"})]}),y&&Object(u.jsxs)("div",{role:"alert",children:[Object(u.jsx)("img",{className:"",src:At,alt:"invalid"})," ",Object(u.jsx)("span",{"data-testid":"coupon-err-msg",className:"error-msg error-container-coupon",children:y})]})]}),Object(u.jsx)("div",{className:"coupon-discount-col-3",children:Object(u.jsx)(Ot.a,{"aria-label":Object(Se.e)(_t.b),id:"btn-apply-view","data-testid":"coupon-apply-btn",className:"button whiteButton blackBorder coupon-button",disabled:!(null===g||void 0===g?void 0:g.length),onClick:function(e){return Q(e,"")},children:Object(Se.e)(_t.b)})})]})}),Object(u.jsxs)("div",{className:"coupon-mid-box",children:[Object(u.jsx)("h3",{"data-testid":"modal-mid-header",className:"modal-mid-header",children:Object(Se.e)(_t.k)}),!H&&Object(u.jsx)("span",{onClick:function(){Object(x.g)()},"data-id":T.n.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"modal-mid-desc",tabIndex:"0",className:"modal-mid-desc",children:Object(Se.e)(_t.t)})]}),Object(u.jsx)(Vt,{"data-testid":"coupons-list",isMobile:m,applyCoupon:Q,tenantId:d,couponsData:z})]}))};An.defaultProps={isOpen:!1,closeModal:null};var yn=An,_n=n.p+"static/media/Offers_Coupon_Icon.72b94c41.svg",Dn=n(37),Rn=function(e){var t=e.bucketId,n=void 0===t?"":t,a=Object(i.useState)(!1),c=Object(j.a)(a,2),o=c[0],r=c[1],s=Dn.a.OFFERS_COUPONS,d=s.APPLY_OFFERS,l=s.VIEW_ALL,b=function(e){r(!1)};return Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&b()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]),Object(u.jsxs)("div",{className:"cart-offers-container","data-testid":"cart-offers-coupon",children:[Object(u.jsxs)("div",{className:"cart-offers-link",children:[Object(u.jsx)("img",{src:_n,alt:"",className:"cart-offers-icon"}),Object(u.jsx)("span",{className:"cart-offers-text",children:Object(Se.e)(d)})]}),Object(u.jsx)(Ot.a,{onClickHandler:function(){return r(!0)},ariaLable:"View all offers",className:"button whiteButton blackBorder cart-offers-view-all","data-testid":"offers-toggle-btn",children:Object(Se.e)(l)}),o&&Object(u.jsx)(yn,{"data-testid":"coupon-modal",bucketId:n,isOpen:o,handleClose:b})]})},wn=n.p+"static/media/Circle-close-button.bc38cc9f.svg",kn=function(e,t){var n=t.currencySymbol,a=t.currencyConversionFactor;return n&&a&&e?"".concat(n).concat((e/a).toFixed(2)):"NA"},Ln=function(e){var t=e.cartReducer,n=void 0===t?{}:t,a=e.tenantReducer,c=void 0===a?{}:a,o=e.userParams,r=void 0===o?{}:o,s=e.type,d=c.tenantId,l=c.addHope,b=c.carryBag,v=c.currencyConversionFactor,O=n.cartData,m=void 0===O?{}:O,f=null===m||void 0===m?void 0:m.id,p=Object(x.rb)(null===m||void 0===m?void 0:m.foodLines),h=Object(i.useState)(0),g=Object(j.a)(h,2),E=g[0],I=g[1],T=null===m||void 0===m?void 0:m.subtotal,S=null===m||void 0===m?void 0:m.inclusiveTaxTotal,C=(null===m||void 0===m?void 0:m.additionalChargeLines)||[],A=(null===m||void 0===m?void 0:m.discountLines)||[],y=Object(N.b)(),_=Zt.c.IS_TAKEAWAY,D=Zt.c.CHECKOUT_SUMMARY,R=Zt.c.SEARCH_IN_CART,w=Zt.c.largeCarryBagText,k=Zt.c.addHopeText,L=D.QUANTITY_TEXT,P=D.SUBTOTAL,M=D.GST,F=D.ADDITIONAL_TAX,H=D.QUANTITYS_TEXT,B=Object(i.useState)(""),U=Object(j.a)(B,2),G=U[0],Y=U[1],K=Object(i.useState)(""),V=Object(j.a)(K,2),W=V[0],q=V[1],z=Object(i.useState)(0),Q=Object(j.a)(z,2),J=Q[0],X=Q[1],Z=Object(i.useState)(0),$=Object(j.a)(Z,2),ee=$[0],te=$[1];return Object(i.useEffect)((function(){if(Object(x.r)(l,b)){var e=p.length?Object(x.p)(p,l,v,R):{},t=Object(x.ub)(null===e||void 0===e?void 0:e.id);if(Y(t),t){var n=p.find((function(e){return e.id===t}));X(kn(n.amount,c))}var a=p.length?Object(x.v)(p,b,v,R):{},i=Object(x.ub)(null===a||void 0===a?void 0:a.id);if(q(i),i){var o=p.find((function(e){return e.id===i}));te(kn(o.amount,c))}var r=Object(x.N)(p,l,b);I(null===r||void 0===r?void 0:r.reduce((function(e,t){return+e+ +(null===t||void 0===t?void 0:t.quantity)}),0))}}),[p,l,b]),Object(u.jsxs)("div",{className:"checkout-summary d-flex flex-column",id:"checkout-summary","data-testid":"checkout-summary-test",children:[Object(u.jsxs)("h2",{className:"checkout-summary-item-count",children:[E," ",Object(x.lb)(1===E,Object(Se.e)(L),Object(Se.e)(H))]}),r.loggedIn&&Object(u.jsx)("div",{className:"checkout-summary-coupons",children:Object(u.jsx)(Rn,{bucketId:f})}),Object(u.jsxs)("div",{className:"checkout-summary-content",children:[Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item",children:[Object(u.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(Se.e)(P)}),Object(u.jsx)("div",{className:"checkout-summary-content-item-value",children:kn(T,c)})]}),Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item",children:[Object(u.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(Se.e)(M)}),Object(u.jsx)("div",{className:"checkout-summary-content-item-value",children:kn(S,c)})]}),!!C.length&&C.map((function(e,t){return Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item",children:[Object(u.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(Se.e)(F)}),Object(u.jsx)("div",{className:"checkout-summary-content-item-value",children:kn(e.amount,c)})]},t)})),!!A.length&&A.map((function(e,t){return Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item",children:[Object(u.jsxs)("div",{className:"checkout-summary-content-item-name d-flex",children:[Object(u.jsxs)("span",{className:"checkout-discount-code",children:["Discount (",e.couponCode,")"]}),Object(u.jsx)("span",{className:"checkout-discount-clear-icon","data-testid":"remove-coupon-handler-".concat(null===e||void 0===e?void 0:e.couponCode),onClick:function(){return t=null===e||void 0===e?void 0:e.couponCode,void y(Object(St.m)({basketId:f,tenantId:d,couponCode:t}));var t},children:Object(u.jsx)("img",{src:wn})})]}),Object(u.jsxs)("div",{className:"checkout-summary-content-item-value",children:["- ",kn(e.amount,c)]})]},t)})),Object(x.dc)(s)===_&&W&&Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item","data-testid":"checkout-carry-bag-text",children:[Object(u.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(Se.e)(w)}),Object(u.jsx)("div",{className:"checkout-summary-content-item-value",children:ee})]}),Boolean(G)&&Object(u.jsxs)("div",{className:"flexBetweens checkout-summary-content-item","data-testid":"checkout-add-hope-text",children:[Object(u.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(Se.e)(k)}),Object(u.jsx)("div",{className:"checkout-summary-content-item-value",children:J})]})]})]})},Pn=n.p+"static/media/Takeaway_Completed.10e792fc.svg",Mn=n.p+"static/media/Confirmed.67609d6f.svg",Fn={SAVE_ORDER_NAME_ERROR:"OccasionNameValidation",CURRENT_ORDER:"currentOrder",PROCESSING:"processing",PROCESSING_YOUR:"processingYour",ORDER_READY_IN_JUST:"orderReadyInJust",SECOND:"aSecondText",CONFIRMING_YOUR_ORDER:"confirmYourOrder",READY_IN_JUST_A_SECOND:"readyInJustASecond",YOUR_ORDER:"yourOrder",ORDER:"order#",COMPLETED:"completed",DELIVER_TO:"deliveryTo",PAYMENT:"payment",ORDER_FROM:"orderFrom",GET_DIRECTION:"getDirection",SUB_TOTAL:"subTotal",DISCOUNT:"discount",TOTAL:"total",ORDERS:"order",YOUR_SET:"YOU\u2019RE ALL SET",DELEIVERED_AROUND:" will be delivered around",PICKUP_AROUND:"willBeReadyForPickup",READY_FOR_PICKUP:"readyForPickup",NAME_ORDER_NUMBER:"GIVE US YOUR NAME OR ORDER NUMBER",WHEN_YOURE_HERE:"WHEN YOU\u2019RE HERE.",SAVE_YOUR_ORDERS_AND_CHECKOUT_FASTER:"SAVE YOUR ORDERS AND CHECKOUT FASTER",SAVED_TO_FAVORITE_MENU:"Saved this order in My Favorite Menu.",CREATE_AND_ACCOUNT_SAVE_ORDERS:"CREATE AN ACCOUNT TO SAVE YOUR ORDERS AND",CHECKOUT_FASTER:"CHECKOUT FASTER",SAVE_THIS_Order:"Save This Order",ORDER_FROM_CAPS:"ORDER FROM",VIEW_MORE:"View More Details",BACK_TO_CART:"backToCart",THAT_AINT_RIGHT:"thatNotRight",FAILED_MSG:"unsuccessfulPayment",FEEDBACK_EMAIL:"FeedbackEmail",PHONE_NUMBER:"phoneNumber",BACK_TO_CART_MSG:"GoBackToCart",ORDER_ACCEPTED:"orderAccepted",SIGN_UP:"signAndSaveOrder",RESTAURANT_HANDLING_CHARGE:"cartIncluTax",READY_FOR_DINEIN:"readyForDineIn",DINEIN_AROUND:"dineInText",PICKUP:"PICKUP",DELIVERY:"DELIVERY",ONLY_IMAGE:"Only image",DELIVERY_FEE:"deliveryFee",DISCOUNT_TEXT:"DiscountText",THANKYOU:"saveOrderThankYou",WE_SAVED:"weSaved",GIVE_A_NAME:"giveAName",SCHEDULE_ORDER:"savedOrderScheduleOrder",ORDER_DETAIL:"orderDetails",SCHEDULED:"scheduled",GST:"cartGst",largeCarryBagText:"largeCarryBag",addHopeText:"addhope",SEARCH_IN_CART:"SEARCH_IN_CART",HH_MM:"hh mm",HH_MM_A:"hh:mma",TOTAL_GST_INCLUDED:"gstIncluded",REORDER_FAVOURITES:"reorderFavourites",CREATE_KFC_ACCOUNT:"createKfcAccount"},Hn=Fn.ORDERS,Bn=void 0===Hn?"":Hn,Un=Fn.READY_FOR_PICKUP,Gn=void 0===Un?"":Un,Yn=Fn.DELEIVERED_AROUND,Kn=void 0===Yn?"":Yn,Vn=Fn.PICKUP_AROUND,Wn=void 0===Vn?"":Vn,qn=Fn.ORDER_ACCEPTED,zn=void 0===qn?"":qn,Qn=Fn.READY_FOR_DINEIN,Jn=void 0===Qn?"":Qn,Xn=Fn.DINEIN_AROUND,Zn=void 0===Xn?"":Xn,$n=Fn.PICKUP,ea=void 0===$n?"":$n,ta=function(e){e(!0)},na=function(e,t){e(t)},aa=function(e,t,n){return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:Pn,alt:"success"}),Object(u.jsx)("div",{className:"allSet",children:Object(x.dc)(n)===ea?Object(Se.e)(Gn):Object(Se.e)(Jn)}),Object(u.jsxs)("div",{className:"idAndTime",children:[Object(Se.e)(Bn)," ",Object(u.jsxs)("span",{className:"red",children:["#",null===(null===e||void 0===e?void 0:e.posOrderId)?null===e||void 0===e?void 0:e.id:null===e||void 0===e?void 0:e.posOrderId," "]}),Object(x.dc)(n)===ea?Object(Se.e)(Wn):Object(Se.e)(Zn),Object(u.jsx)("div",{className:"red",children:t})]})]})},ia=function(e,t){var n;return null===(n=e/t)||void 0===n?void 0:n.toFixed(2)},ca=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.quantity)}),0)},oa=function(e,t,n){var a=ca(e);return Object(u.jsx)(oe,{header:a+" ITEM"+(a>1?"S":""),className:"billDropDown",children:null===e||void 0===e?void 0:e.map((function(e,a){var i,c,o;return Object(u.jsxs)("div",{className:"billDescription",children:[Object(u.jsxs)("div",{id:"foodItemContainer",children:[Object(u.jsx)("span",{className:"number",children:null===e||void 0===e?void 0:e.quantity}),Object(u.jsxs)("span",{id:"foodNameChild",className:"foodName",children:[" ",null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.name]})]}),Object(u.jsxs)("div",{className:"ItemPrice foodName",children:[t,null===ia||void 0===ia?void 0:ia.call(undefined,(null===e||void 0===e||null===(c=e.item)||void 0===c?void 0:c.quantity)*(null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.unitPrice),n)," "]})]},a)}))})},ra=function(e,t,n,a,i,c,o){var r,s,d=i||{},l=d.setAddHopeDataExistsId,u=d.setAddHopeDataPrice,b=c||{},v=b.setCarryBagDataExistsId,j=b.setCarryBagDataPrice,O={addHopeDataExistsId:"",carryBagDataExistsId:"",addHopeDataPrice:"",carryBagDataPrice:""},m=o.currencyConversionFactor,f=(null===e||void 0===e||null===(r=e.foodLines)||void 0===r?void 0:r.length)?Object(x.p)(null===e||void 0===e?void 0:e.foodLines,t,m,a):{};if(O.addHopeDataExistsId=Object(x.ub)(null===f||void 0===f?void 0:f.id),i&&l(null===O||void 0===O?void 0:O.addHopeDataExistsId),null===O||void 0===O?void 0:O.addHopeDataExistsId){var p,h=null===e||void 0===e||null===(p=e.foodLines)||void 0===p?void 0:p.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===O||void 0===O?void 0:O.addHopeDataExistsId)}));O.addHopeDataPrice=kn(null===h||void 0===h?void 0:h.amount,o),i&&u(null===O||void 0===O?void 0:O.addHopeDataPrice)}var g=(null===e||void 0===e||null===(s=e.foodLines)||void 0===s?void 0:s.length)?Object(x.v)(null===e||void 0===e?void 0:e.foodLines,n,m,a):{};if(O.carryBagDataExistsId=Object(x.ub)(null===g||void 0===g?void 0:g.id),c&&v(null===O||void 0===O?void 0:O.carryBagDataExistsId),null===O||void 0===O?void 0:O.carryBagDataExistsId){var N=null===e||void 0===e?void 0:e.foodLines.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===O||void 0===O?void 0:O.carryBagDataExistsId)}));O.carryBagDataPrice=kn(null===N||void 0===N?void 0:N.amount,o),c&&j(null===O||void 0===O?void 0:O.carryBagDataPrice)}return O},sa=0,da=function(e,t,n){var i,c=Object(a.a)({},e),o=c.errorMessage;return c.value=t,t?(i=t,F.a.EMAIL_REGEX.test(i)?(sa=0,c.error=!1,c.errorMessage=""):(c.error=!0,c.errorMessage=Object(Se.e)("invalidYourEmailErrText"),n(!0))):(c.error=!0,c.errorMessage=Object(Se.e)("yourEmailHelpText"),n(!0)),o!==c.errorMessage&&(sa=0),c.error&&0===sa&&(sa=1,Object(x.J)("OrderLookup",c.errorMessage)),c},la=function(e,t,n,a){var i,c;return(null===e||void 0===e||null===(i=e.discountLines)||void 0===i?void 0:i.length)>0&&Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsxs)("span",{className:"fonts",children:[Object(Se.e)(a)," (",null===e||void 0===e||null===(c=e.discountLines[0])||void 0===c?void 0:c.couponCode,")"]}),Object(u.jsxs)("span",{className:"amount",children:[" ","- ",t,n]})]})},ua=function(e){var t,n,c,o=e.isOpen,r=void 0!==o&&o,s=e.handleClose,d=Object(N.b)(),l=Object(N.c)((function(e){return e.tenantReducer})),b=l.tenantId,v=l.currencySymbol,O=l.currencyConversionFactor,m=l.addHope,f=l.carryBag,p=Object(i.useState)(Object(x.Hb)(window.innerWidth)),h=Object(j.a)(p,2),g=h[0],E=h[1],T=Object(i.useState)(""),S=Object(j.a)(T,2),C=S[0],A=S[1],y=Object(i.useState)(0),_=Object(j.a)(y,2),D=_[0],R=_[1],w=Object(i.useState)([]),k=Object(j.a)(w,2),L=k[0],P=k[1],M=Object(i.useState)([]),H=Object(j.a)(M,2),B=H[0],U=H[1],G=Object(i.useState)(0),Y=Object(j.a)(G,2),K=Y[0],V=Y[1],W=Object(i.useState)(""),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)(""),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(i.useState)(!1),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)(!1),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=Object(i.useState)(!1),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(i.useState)({}),ve=Object(j.a)(be,2),je=ve[0],Oe=ve[1],me=Object(i.useState)(!0),fe=Object(j.a)(me,2),pe=fe[0],he=fe[1],ge=Object(i.useState)(""),Ne=Object(j.a)(ge,2),xe=Ne[0],Ee=Ne[1],Ie=Object(i.useState)(""),Te=Object(j.a)(Ie,2),Ce=Te[0],Ae=Te[1],_e=Object(i.useState)(""),De=Object(j.a)(_e,2),Re=De[0],we=De[1],ke=Object(i.useState)(0),Le=Object(j.a)(ke,2),Pe=Le[0],Me=Le[1],Fe=Object(i.useState)(0),He=Object(j.a)(Fe,2),Be=He[0],Ue=He[1],Ge=Object(i.useState)([]),Ye=Object(j.a)(Ge,2),Ke=Ye[0],Ve=Ye[1],We=Object(i.useState)({value:"",errorMessage:"",error:!1}),qe=Object(j.a)(We,2),ze=qe[0],Qe=qe[1],Je=Object(i.useState)({value:"",errorMessage:"",error:!1}),Xe=Object(j.a)(Je,2),Ze=Xe[0],$e=Xe[1],et=Object(i.useState)({value:"",errorMessage:"",error:!1}),tt=Object(j.a)(et,2),nt=tt[0],at=tt[1],it=F.a.PHONE_NUM,ct=F.a.ORDER_NUMBER,ot=F.a.CANCEL,rt=F.a.SUBMIT,st=F.a.ORDERHASH,dt=F.a.YOUR_ORDER,lt=F.a.DELIVER_TO,ut=F.a.ORDER_FROM,bt=F.a.GET_DIRECTION,vt=F.a.DISCOUNT,ht=F.a.TOTAL,gt=F.a.COMPLETED,Nt=F.a.SUB_TOTAL,Et=F.a.PAYMENT,St=F.a.ORDER_LOOKUP,Ct=F.a.EMAIL_ADDRESS,At=F.a.DELIVERY,yt=F.a.SEARCH_IN_CART,_t=F.a.largeCarryBagText,Dt=F.a.addHopeText;Object(i.useEffect)((function(){return window.addEventListener("resize",Rt),function(){window.removeEventListener("resize",Rt)}}),[g]);var Rt=function(){E(Object(x.Hb)(window.innerWidth))};Object(i.useEffect)((function(){d(Object(Tt.a)({object:Object(I.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]),Object(i.useEffect)((function(){""===ze.value||ze.error||""===Ze.value||Ze.error||""===nt.value||nt.error||he(!1)})),Object(i.useEffect)((function(){""===nt.value.trim()&&he(!0)}),[null===nt||void 0===nt?void 0:nt.value]);var wt=Object(N.c)((function(e){return e.paymentsContentReducer})).tendersContent.items,kt=function(e){return(e/O).toFixed(2)};Object(i.useEffect)((function(){return d(Object(mt.a)({emailId:ze.value,phoneNo:Ze.value,orderNo:nt.value}))}),[]);var Lt=Object(N.c)((function(e){return e.orderReducer})).pastOrderResponse,Pt=void 0===Lt?[{}]:Lt,Mt=Pt[0];Object(i.useEffect)((function(){Object(x.r)(null===wt||void 0===wt?void 0:wt.length,null===Mt||void 0===Mt?void 0:Mt.paymentReferences)&&wt.map((function(e){e.fields.title===Mt.paymentReferences[0].paymentType&&Oe(e)}))}),[Mt]),Object(i.useEffect)((function(){if(null===Mt||void 0===Mt?void 0:Mt.id){ae(!1),ue(!0);var e=Mt.fulfillmentDateTime,t=Object(ye.e)(Object(ye.q)(e),"ll"),n=Object(ye.e)(Object(ye.q)(e),"h:mm A");if(A(t+" at "+n),P(Mt.taxLines),U(Mt.additionalChargeLines),V(kt(Mt.discountTotal)),$(function(e){e.substr(0,e.indexOf(" "));var t=e.substr(e.indexOf(" ")+1);return t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6)}(Mt.store.phoneNumber)),R(kt(Mt.subTotal)),Q(kt(Mt.total)),Ee(Mt.service),Object(x.r)(m,f)){!function(e,t,n,a,i,c,o){var r=i.setAddHopeDataExistsId,s=i.setAddHopeDataPrice,d=c.setCarryBagDataExistsId,l=c.setCarryBagDataPrice,u=o.currencyConversionFactor,b=e.foodLines.length?Object(x.p)(e.foodLines,t,u,a):{},v=Object(x.ub)(null===b||void 0===b?void 0:b.id);if(r(v),v){var j=e.foodLines.find((function(e){return e.id===v}));s(kn(j.amount,o))}var O=e.foodLines.length?Object(x.v)(e.foodLines,n,u,a):{},m=Object(x.ub)(null===O||void 0===O?void 0:O.id);if(d(m),m){var f=e.foodLines.find((function(e){return e.id===m}));l(kn(f.amount,o))}}(Mt,m,f,yt,{setAddHopeDataExistsId:we,setAddHopeDataPrice:Me},{setCarryBagDataExistsId:Ae,setCarryBagDataPrice:Ue},l);var a=function(e,t,n){return e.filter((function(e){var a,i;return(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.name)!==t&&(null===(i=e.item)||void 0===i?void 0:i.name)!==n}))}(Mt.foodLines,m,f);Ve(a)}}else Mt||(ue(!1),ae(!0),Object(x.J)("OrderLookup",Object(Se.e)("invaidInputs")),he(!0))}),[Pt]);var Ft=g?{id:"OrderlookUpPopup",role:"dialog",modalTitleId:"OrderlookUpPopup",show:r,classNames:Object(x.lb)(le,"lookup-order-modal","Base-modal"),showCloseBtn:!0,closeButtonHandler:s,autoFocus:!0,modalTitle:Object(Se.e)(St),closeDataTestId:"close-quick-reorder-modal"}:{id:"OrderlookUpPopup",role:"dialog",modalTitleId:"OrderlookUpPopup",show:r,classNames:Object(x.lb)(le,"lookup-order-modal","Base-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:s,modalTitle:"ORDER LOOKUP",autoFocus:!0,closeDataTestId:"close-quick-reorder-modal"};var Ht=function(e,t){ae(!1);var n=e.target.value;if(Object(x.Ub)(n,t)){var i=n.replace(/\+|-/gi,"");$e(Object(a.a)({},Object(x.oc)(Ze,i,he)))}t===Ct&&Qe(Object(a.a)({},da(ze,n,he))),t===ct&&at(Object(a.a)({},Object(x.pc)(nt,n,he)))},Bt=Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:"GST"}),Object(u.jsxs)("span",{className:"amount",children:[v,kt(null===Mt||void 0===Mt?void 0:Mt.inclusiveTaxTotal)," "]})]}),Ut=B.map((function(e,t){return Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsxs)("span",{className:"fonts",children:[" ",e.chargeType]}),Object(u.jsxs)("span",{className:"amount",children:[v,kt.call(this,e.amount)," "]})]},t)})),Gt=Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"InputArea",children:[Object(u.jsx)("h3",{className:"InputHeading",children:"Enter your order Number"}),Object(u.jsxs)("div",{className:"inputLookUpNumbox",children:[!g&&Object(u.jsx)("p",{className:"lookup-mandatory-note",children:Object(Se.e)("mandatorynote")}),Object(u.jsx)(It,{"data-testid":"user-phoneNum",type:"number",autoComplete:"on",value:Ze.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(Se.e)(it),onChange:function(e){return Ht(e,it)},helperText:Ze.errorMessage,error:Ze.error}),Object(u.jsx)(It,{"data-testid":"user-orderId",autoComplete:"off",value:nt.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(Se.e)(ct),onChange:function(e){return Ht(e,ct)},helperText:nt.errorMessage,error:nt.error}),Object(u.jsx)(It,{"data-testid":"user-email",autoComplete:"on",value:ze.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(Se.e)(Ct),onChange:function(e){return Ht(e,Ct)},helperText:ze.errorMessage,error:ze.error})]}),ne&&Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:"exMark",children:"!"}),Object(u.jsx)("span",{className:"errorMessage",children:Object(Se.e)("invaidInputs")})]})]}),Object(u.jsxs)("div",{className:"buttonItems",children:[Object(u.jsx)(Ot.a,{"data-testid":"cancel-button",ariaLable:"cancel",className:"button whiteButton blackBorder closebtn-cls",onClick:function(e){return Kt()},children:ot}),Object(u.jsx)(Ot.a,{"data-testid":"submit-button",ariaLable:"submit",className:"button blackButton blackBorder save-button",onClick:function(e){return Yt(e)},disabled:pe,children:rt})]})]}),Yt=function(e){""!==Object(x.r)(ze.value,Object(x.r)(Ze.value,nt.value))&&d(Object(mt.d)({emailId:ze.value,phoneNo:Ze.value,orderNo:nt.value,tenantId:b}))},Kt=function(){ue(!1),s(),d(Object(mt.a)({emailId:ze.value,phoneNo:Ze.value,orderNo:nt.value}))},Vt="tel:"+(null===Mt||void 0===Mt||null===(t=Mt.store)||void 0===t?void 0:t.phoneNumber);return Object(u.jsxs)("div",{children:[r&&!le&&Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},Ft),{},{children:Object(u.jsx)("div",{className:"LookUpmodalContants",children:Gt})})),r&&le&&Mt&&Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},Ft),{},{children:Object(u.jsx)("div",{className:"LookUpmodalContants",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"orderLookUpData",children:[Object(u.jsxs)("div",{className:"Orderheading",children:[Object(u.jsx)("span",{className:"yourOrder",children:dt}),Object(u.jsxs)("span",{className:"idNumber",children:[st,Mt.posOrderId]})]}),Object(u.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(u.jsx)("span",{className:"completed",children:gt}),Object(u.jsx)("span",{className:"dateCompleted",children:C})]}),Object(x.dc)(null===Mt||void 0===Mt?void 0:Mt.service)===At&&null!==(null===Mt||void 0===Mt?void 0:Mt.deliveryAddress)&&Object(u.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(u.jsx)("span",{className:"completed",children:lt}),Object(u.jsx)("span",{className:"dateCompleted",children:Object(x.a)(null===Mt||void 0===Mt?void 0:Mt.deliveryAddress)})]}),Object(u.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(u.jsx)("span",{className:"completed",children:Et}),Object(u.jsx)("span",{className:"dateCompleted",children:"Only image"===je.fields.displayFormat?Object(u.jsx)("img",{src:je.fields.icon.fields.desktopImage.fields.file.url,alt:"paymentMethod"}):Object(u.jsx)("span",{className:"dateCompleted",children:je.fields.displayName})})]}),Object(u.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(u.jsxs)("span",{className:"completed",children:[" ",ut]}),null!==Mt.store&&void 0!==Mt.store&&Object(u.jsxs)("span",{className:"dateCompleted",children:[Mt.store.name,Object(u.jsx)("br",{}),null===Mt||void 0===Mt||null===(n=Mt.store)||void 0===n||null===(c=n.address)||void 0===c?void 0:c.addressLines]})]}),Object(u.jsxs)("div",{className:"CompletedCallAndDirection",id:"DirectionTest",children:[Object(u.jsx)("span",{children:" "}),Object(u.jsxs)("span",{className:"callAndDirection",children:[Object(u.jsxs)("span",{className:"KfcphoneNums",children:[Object(u.jsx)("img",{src:ft,alt:"phone",className:"KfcphoneIcon"}),Object(u.jsx)("a",{href:Vt,className:"anchorTags",children:Z})]}),Object(u.jsxs)("span",{className:"KfcphoneNums",id:"DirectionClick",onClick:function(){re(!0)},children:[Object(u.jsx)("img",{src:pt,alt:"phone",className:"KfcDirectionIcon"}),Object(Se.e)(bt)]})]})]}),Object(u.jsx)("div",{className:"detailsAccordian",children:oa(Ke,v,O)}),Object(u.jsxs)("div",{className:"price",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Se.e)(Nt)}),Object(u.jsxs)("span",{className:"amount",children:[v,D]})]}),L&&Object(u.jsx)("div",{children:Bt}),B&&Object(u.jsx)("div",{children:Ut}),la(Mt,v,K,vt),"PICKUP"===xe.toUpperCase()&&Ce&&Object(u.jsxs)("div",{className:"priceList",id:"priceListData",children:[Object(u.jsx)("span",{className:"fonts",id:"fontStyle",children:Object(Se.e)(_t)}),Object(u.jsx)("span",{className:"amount",id:"amountStyle",children:Be})]}),Boolean(Re)&&Object(u.jsxs)("div",{className:"priceList",id:"priceListData",children:[Object(u.jsx)("span",{className:"fonts",id:"fontStyle",children:Object(Se.e)(Dt)}),Object(u.jsx)("span",{className:"amount",id:"amountStyle",children:Pe})]}),z&&Object(u.jsxs)("div",{className:"totalAmount",children:[Object(u.jsx)("span",{className:"total",children:ht}),Object(u.jsxs)("span",{className:"total",children:[v,z]})]})]}),Object(u.jsxs)("div",{className:"buttonItemsDone",children:[Object(u.jsx)(Ot.a,{"data-testid":"cancel-button",className:"button whiteButton blackBorder closebtn-cls",id:"lookupButton",onClick:function(e){ue(!1)},children:Object(Se.e)("backButton")}),Object(u.jsx)(Ot.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClick:function(e){return Kt()},children:Object(Se.e)("popoverDoneButton")})]})]})})})),oe&&Object(u.jsx)("div",{children:Object(u.jsx)(xt,{"data-testid":"map-modal",isOpen:oe,handleClose:function(){return re(!1)},OrderReducerData:Mt})})]})},ba=function(e){var t=Object(i.useContext)(E.a).userOrderStateDispatch,n=e.contentData,a=void 0===n?[]:n,c=e.tenantReducerData,o=e.history,r=Object(i.useState)(Object(x.Hb)(window.innerWidth)),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Ae.a.LANGUAGE_SELECTOR,v=Object(N.c)((function(e){return e.tenantReducer})),O=((null===v||void 0===v?void 0:v.basic)||{}).allowedLanguages,m=void 0===O?[]:O,f=Object(i.useState)(!1),p=Object(j.a)(f,2),h=p[0],g=p[1],I=F.a.ORDER_LOOKUP_NAME,T=F.a.FOOTER_MENU,S=function(){var e=Object(x.Hb)(window.innerWidth);l(e)},C=Object(N.b)();Object(i.useEffect)((function(){window.addEventListener("resize",S)}),[d]);var A=function(e){(null===e||void 0===e?void 0:e.includes("http"))?window.location.replace(e):(o.push({pathname:e}),window.scrollTo(0,0))};return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"footer","data-testid":"FooterItems-component",role:"contentinfo",children:Object(u.jsx)(Ce,{contentData:a,isMobile:d,clickHandler:function(e){var n=e.linkTo,a=e.name;if(Ee({footerItemSelected:a}),"Language Selector"===e&&(null===m||void 0===m?void 0:m.length)>1&&(t({type:b,value:{showLanguageSelector:!0}}),setTimeout((function(){document.getElementById("language_selector")&&document.getElementById("language_selector").focus()}),0)),a===I)g(!0),C(Object(mt.a)({}));else if(a===T&&n)A(n);else if(n){if("Find a KFC"===a){return ct("findAStore"),!1}A(n)}},tenantReducerData:c,navigateHandler:function(){o.push({pathname:"/"}),window.scrollTo(0,0)},"data-testid":"footer-items"})}),h&&Object(u.jsx)(ua,{isOpen:!0,handleClose:function(){return g(!1)},tenantReducerData:c})]})},va=n.p+"static/media/Bucket-Cart.6eee8cbb.svg",ja={contentData:{headerContent:{kfcLogo:{src:"",alt:""},navLeft:[{name:"Menu",linkTo:"",imageUrl:""},{name:"Deals",linkTo:"",imageUrl:""},{name:"Catering",linkTo:"",imageUrl:""}],navRight:[{name:"",linkTo:"",url:"",type:"Language Selector",options:["Eng","Fr","De"]},{name:"Sign In",linkTo:"",url:n.p+"static/media/Icon_Account.13e97818.svg"},{name:"",linkTo:"",url:va}],navMobileMenu:{threeLineIcon:{src:"",alt:""},letsGetCookingText:{name:"letsgetcook"}}}}},Oa={HEADER_LOGO:"HEADER LOGO",MENU_LINK:"MENU LINK",DEALS_LINK:"DEALS LINK",CATERING_LINK:"CATERING LINK",SIGN_IN_LINK:"SIGN IN LINK",CART_ICON:"CART ICON",LANGUAGE_SELECTOR:"LANGUAGE SELECTOR",SUPPORT_LINK:"SUPPORT SECTION",GUEST_USER_SINGIN_TEXT:"signInSignUp",LOGGEDIN_USER_SINGIN_TEXT:"account",CART_ICON_100_PERCENT:"CART ICON ANIMATION_100%",CART_ICON_120_PERCENT:"CART ICON ANIMATION_120%",BACK_TO_CART:"backToCart",USER_SINGIN_TEXT:"Sign In",Go_TO_HOME_PAGE:"GoToHomePage",ZERO:0,CART_ALT_TEXT:"Cart"},ma=function(e,t,n){var i=Oa.HEADER_LOGO,c=Oa.MENU_LINK,o=Oa.DEALS_LINK,r=Oa.CATERING_LINK,s=Oa.SIGN_IN_LINK,d=Oa.CART_ICON_100_PERCENT,l=Oa.CART_ICON_120_PERCENT,u=Oa.SUPPORT_LINK,b={kfcLogo:{},navLeft:[],navRight:[],navMobileMenu:{}};if(e&&e.headerSection&&e.subHeaderSection){var v,j=Object(ve.a)(e.headerSection);try{for(j.s();!(v=j.n()).done;){var O=v.value,m=O.fields.title,f=(void 0===m?"":m).toUpperCase().trim();if(f===c||f===o||f===r)b.navLeft.push(Object(a.a)(Object(a.a)({},fa(O.fields)),{},{altText:O.fields.linkText}));else if(f===s){var p=pa(O.fields.icon.fields),h=p.altText,g=p.url;b.navRight.push(Object(a.a)(Object(a.a)({},fa(O.fields)),{},{title:f,altText:h,imageUrl:g}))}else if(f===d||f===l)b.navRight.push(Object(a.a)(Object(a.a)({},pa(O.fields)),{},{title:f,altText:O.fields.title}));else if(f===i){var N=pa(O.fields),x=N.url,E=N.altText;b.kfcLogo={src:x,alt:E}}}}catch(A){j.e(A)}finally{j.f()}var I,T=Object(ve.a)(e.subHeaderSection);try{for(T.s();!(I=T.n()).done;){var S=I.value,C=S.fields.title;(void 0===C?"":C).toUpperCase()===u&&(b.navMobileMenu.supportCategory=ga(S.fields))}}catch(A){T.e(A)}finally{T.f()}"INDIA"!==n&&b.navRight.unshift(Object(a.a)({},xa(t)))}return b},fa=function(e){var t=e.linkText,n=e.url,a=e.icon,i=(void 0===a?null:a).fields,c=i&&pa(i)||{},o=c.url,r=void 0===o?"":o,s=c.altText;return{name:t,linkTo:n,imageUrl:r,altText:void 0===s?"":s}},pa=function(e){var t=e.desktopImage;return t&&ha(t)||{}},ha=function(e){var t=e.fields&&e.fields.file&&e.fields.file||{},n=t.url,a=void 0===n?"":n,i=t.altText;return{url:a,altText:void 0===i?"":i}},ga=function(e){var t=[],n=e.category,a=e.links;return(void 0===a?[]:a).map((function(e){t.push(Na(e.fields))})),{categoryHeaderText:n,subCategories:t}},Na=function(e){return{name:e.linkText,linkTo:e.url,internalurl:e.internalurl,externalurl:e.externalurl}},xa=function(e){var t=Object(a.a)({},ja.contentData.headerContent.navRight[0]);t.options=[];var n=(e||{allowedLanguages:[{value:""}]}).allowedLanguages;if(n.length>0){var i,c=Object(ve.a)(n);try{for(c.s();!(i=c.n()).done;){var o=i.value;t.options.push(o.value)}}catch(r){c.e(r)}finally{c.f()}return t}return{}},Ea=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(null===(n=we.a.topNavigationLinks)||void 0===n?void 0:n.name,{"%event%":"topNavigationLinks","%navigationLink%":t.headerItemSelected},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ia=n.p+"static/media/MenuIcon.e607771f.svg",Ta=n.p+"static/media/kfcLogo.492728c6.svg",Sa=n.p+"static/media/ArrowIcon.c4b884a3.svg",Ca=n(74),Aa=n.p+"static/media/Stripes_Small_OffersIcon.87fc6256.svg",ya=n(15),_a=function(e,t){var n=Oa.LOGGEDIN_USER_SINGIN_TEXT,a=Ae.a.ANALYTICS_LOCALISATION_SIGNIN;return e!==Object(Se.e)(n)&&(localStorage.setItem(a,JSON.stringify(!0)),Object(x.g)()),e===Object(Se.e)(n)?e:t},Da=function(e){var t=e.idx,n=void 0===t?"":t,c=e.className,o=void 0===c?"":c,r=e.handleClose,s=void 0===r?null:r,d=e.onItemsClickHandler,l=void 0===d?null:d,b=e.contentData,v=void 0===b?{}:b,O=e.userParams,f=void 0===O?{}:O,p=v.navLeft,h=void 0===p?[]:p,g=v.navRight,I=void 0===g?[]:g,C=v.navMobileMenu,A=void 0===C?{}:C,y=A.letsGetCookingText,_=void 0===y?"":y,D=A.supportCategory,R=void 0===D?{}:D,w=function(e){var t,n=Oa.LANGUAGE_SELECTOR,a=void 0===n?"":n,i={},c=Object(ve.a)(e);try{for(c.s();!(t=c.n()).done;){var o=t.value;o.type&&o.type.toUpperCase()===a&&(i=o)}}catch(r){c.e(r)}finally{c.f()}return i}(I),k=Oa.SIGN_IN_LINK,L=Oa.GUEST_USER_SINGIN_TEXT,P=Oa.LOGGEDIN_USER_SINGIN_TEXT,M=Oa.CART_ICON_100_PERCENT,F=f.loggedIn?Object(Se.e)(P):Object(Se.e)(L),H=Object(i.useContext)(E.a).userOrderState.languageUpdationHappened,B=void 0===H?"":H,U=Object(N.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),G=U.defaultLanguage,Y=U.allowedLanguages,K=U.COUNTRY,V=Object(i.useState)(),W=Object(j.a)(V,2),q=W[0],z=W[1],Q=(Object(N.c)((function(e){return{cartReducer:e.cartReducer||{}}})).cartReducer||{}).cartData,J=((void 0===Q?[]:Q)||{}).foodLines,X=void 0===J?[]:J,Z=Object(i.useState)(m.a.reduce(X,(function(e,t){return e+t.quantity}),0)),ee=Object(j.a)(Z,2),te=ee[0],ne=ee[1];Object(i.useEffect)((function(){var e=Y.find((function(e){return e.key===Object(x.Q)("".concat(K,"_").concat(T.yb))}));K&&z((e||{}).value||(G||{}).value),ne(m.a.reduce(X,(function(e,t){return e+t.quantity}),0))}),[K,B,X]);var ae=function(e,t){var n=T.Cb.KEY_CHAR_CODE,a=n.SPACE,i=n.ENTER;e.charCode!==a&&e.charCode!==i||l(t)},ie=!(ya.b.isGoogle&&f.loggedIn);return Object(u.jsxs)("div",{id:n,className:o,children:[Object(u.jsxs)("div",{className:"nav mobile-modal-header","data-testid":"mobileHeader-component",children:[Object(u.jsx)(se,{className:"hamburger-close-btn","data-testid":"hamburger-close",onClickHandler:s,children:Object(u.jsx)(S.a,{srcFile:_e,alt:"close"})}),Object(u.jsx)("span",{className:"headerLogoMobile",children:Object(u.jsx)(Ca.a,{src:Aa})}),I.map((function(e){if(e.url&&e.title===M)return Object(u.jsxs)(se,{onClickHandler:l,className:"cart-image",name:(t=e.altText,t.split(" ")[0]||Oa.CART_ALT_TEXT),children:[Object(u.jsx)(S.a,{srcFile:e.url||e.imageUrl,className:"navRightIcons mobCartIcon"}),Object(u.jsx)("span",{className:"mobileCartIconCount hamburger-count",children:te>99?Object(u.jsxs)("span",{className:"cart-icon-plus",children:["99",Object(u.jsx)("span",{className:"cartPlus",children:"+"})]}):te})]});var t}))]}),Object(u.jsx)("div",{className:"mobile-modal-body",children:Object(u.jsxs)("div",{className:"content",children:[Object(u.jsxs)("div",{className:"title-container",children:[Object(u.jsx)("div",{className:"title-text",children:Object(Se.e)(_.name)}),Object(u.jsx)("div",{className:"lang-div",children:Object(x.Bb)(w)&&Object(u.jsxs)(se,{onClickHandler:l,name:w.type||w.name||"cart",children:[Object(u.jsx)(de,{options:Y.map((function(e){var t;return null===e||void 0===e||null===(t=e.short_value)||void 0===t?void 0:t.toLowerCase()})),className:"language-select",selectedValue:q}),Object(u.jsx)("span",{className:"dropdown-img-ham"})]})})]}),Object(u.jsx)("div",{className:"signup-container","data-id":ie?T.n.HEADER_SIGN_IN_ATTR_DATA_ID:"",children:I.map((function(e){if(e.title&&e.title.toUpperCase()===k)return Object(u.jsxs)("div",{onKeyPress:function(t){return ae(t,_a(F,e.name))},onClick:function(){return l(_a(F,e.name))},children:[Object(u.jsx)(S.a,{srcFile:e.url||e.imageUrl,className:"navRightIcons"}),Object(u.jsx)("span",{children:Object(Se.e)(F)}),Object(u.jsx)(S.a,{srcFile:Sa,className:"navRightIcons arrow"})]})}))}),Object(u.jsx)("div",{className:"navItemsLeft",children:h.map((function(e,t){return Object(u.jsx)("div",{className:"row",onKeyPress:function(t){return ae(t,e.name)},onClick:function(){return l(e.name)},children:Object(u.jsxs)("div",{className:"header-card d-flex",children:[Object(u.jsx)("div",{className:"header-card-name",href:e.linkTo,id:t,tabIndex:"0",children:e.name}),Object(u.jsx)("div",{className:"header-card-image",style:{backgroundImage:"url(".concat(e.imageUrl,")")}})]})},t)}))}),Object(u.jsx)("div",{className:"support-div",children:Object(u.jsx)($,Object(a.a)({className:"footer-links","data-testid":"footerItemCat-component",onClickHandler:l},R))})]})})]})},Ra=n(81),wa=function(e){return e?" itemCountActive":""},ka=function(e){return e?" iconActive":""},La=function(e){return Object(x.lb)(e>99,Object(u.jsxs)("span",{className:"cart-icon-plus",children:["99",Object(u.jsx)("span",{className:"cartPlus",children:"+"})]}),e)},Pa=function(e){switch(e){case"Menu":return"/menu";case"Deals":return"/offers";default:return""}},Ma=function(e,t,n){!e.type&&t&&"Sign In"===e.name?n.push({pathname:"/account"}):function(){var e=Ae.a.ANALYTICS_LOCALISATION_SIGNIN;localStorage.setItem(e,JSON.stringify(!0)),Object(x.g)()}()},Fa=function(e){return e.filter((function(e){return e.title===Oa.SIGN_IN_LINK}))},Ha=function(e){return e.split(" ")[0]},Ba=function(e){Boolean(document.querySelector("#headermenu-id"))&&(document.querySelector("#headermenu-id").style.width="100%"),Boolean(document.querySelector("#startorder-container"))&&(document.querySelector("#startorder-container").style.display="none"),document.body.style.overflowY="hidden"},Ua=function(){document.querySelector("#headermenu-id").style.width="0px",document.querySelector("#startorder-container").style.display="block",document.body.style.overflowY="auto"},Ga=function(e){var t=Object(i.useState)(!1),n=Object(j.a)(t,2),o=n[0],r=n[1],s=e.contentData,d=void 0===s?{}:s,l=e.clickHandler,b=void 0===l?null:l,v=e.isMobile,O=void 0!==v&&v,f=e.userParams,p=void 0===f?{}:f,h=e.tenantReducerData,g=void 0===h?{}:h,I=e.navigateHandler,C=void 0===I?null:I,A=e.dataTestId,y=g.basic,_=g.addHope,D=g.carryBag,R=g.country,w=g.currencyConversionFactor,k=g.currencySymbol,L=Object(x.sb)(ma(d,y,R)),P=L.navLeft,M=void 0===P?[]:P,F=L.navRight,H=void 0===F?[]:F,B=L.kfcLogo,U=void 0===B?{}:B,G=L.navMobileMenu,Y=void 0===G?{}:G,K=Oa.LANGUAGE_SELECTOR,V=Oa.LOGGEDIN_USER_SINGIN_TEXT,W=Oa.USER_SINGIN_TEXT,q=Oa.CART_ICON_100_PERCENT,z=Oa.CART_ICON_120_PERCENT,Q=Oa.ZERO;Y.letsGetCookingText=ja.contentData.headerContent.navMobileMenu.letsGetCookingText;var J=Object(N.c)((function(e){return e.authReducer}));Object(i.useEffect)((function(){Object(x.Gb)(null===J||void 0===J?void 0:J.tokenSource)&&xe(Object(Ra.b)(Object(a.a)(Object(a.a)({},p),{},{loggedIn:!0})))}),[]);var X=Object(N.c)((function(e){return{cartReducer:Object(x.sb)(e.cartReducer)}})).cartReducer,Z=Object(x.sb)(X),$=Z.cartData,ee=void 0===$?{}:$,te=Z.isItemAdded,ne=void 0!==te&&te,ae=Z.isUpdateQuantityLoading,ie=void 0!==ae&&ae,ce=Z.isRemoveItemLoading,oe=void 0!==ce&&ce,re=Object(x.K)(ee).foodLines,le=void 0===re?[]:re,ue=Object(i.useState)(0),be=Object(j.a)(ue,2),ve=be[0],je=be[1],Oe=function(){var e=parseFloat(((null===ee||void 0===ee?void 0:ee.subtotal)+(null===ee||void 0===ee?void 0:ee.taxTotal))/w).toFixed(2);return(null===ee||void 0===ee?void 0:ee.total)>Q?e:Q};Object(i.useEffect)((function(){0===le.filter((function(e){return e.item.isHidden})).length&&(ne||ie||oe)&&r(!0)}),[ne,ie,le,oe]),Object(i.useEffect)((function(){if(setTimeout((function(){return r(!1)}),500),Object(x.r)(_,D)){var e=Object(x.N)(le,_,D);je(m.a.reduce(e,(function(e,t){return e+t.quantity}),0))}}),[le,_,D]);var me=Object(i.useContext)(E.a).userOrderState.languageUpdationHappened,fe=void 0===me?"":me,pe=Object(N.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),he=pe.defaultLanguage,ge=pe.allowedLanguages,Ne=pe.COUNTRY,xe=Object(N.b)(),Ee=Object(i.useState)(),Ie=Object(j.a)(Ee,2),Te=Ie[0],Se=Ie[1];Object(i.useEffect)((function(){var e=ge.find((function(e){return e.key===Object(x.Q)("".concat(Ne,"_").concat(T.yb))}));Ne&&Se(Object(x.qb)(null===e||void 0===e?void 0:e.value,null===he||void 0===he?void 0:he.value))}),[Ne,fe]);var Ce=function(e){p.loggedIn&&e===W?b(V):b(e)},Ae=Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{className:"nav","data-testid":"Header-component",children:[Object(u.jsx)(se,{onClickHandler:Ba,name:"Hamburger Menu","data-testid":"hamburger-menu-icon",children:Object(u.jsx)(S.a,{srcFile:Ia,alt:"Menu",id:"BrowserSpecificStyle"})}),Object(u.jsx)("span",{className:"headerLogoMobile",onClick:C,children:Object(u.jsx)(S.a,{srcFile:Object(x.qb)(Fa(H).src,Ta),alt:Object(x.qb)(Fa(H).alt,"KFC LOGO")})}),H.map((function(e,t){return e.url&&q===e.title&&!o?function(e,t,n,a,i,c,o){return Object(u.jsxs)(se,{onClickHandler:t,name:Object(x.qb)(n(a.altText),"cart"),className:"cart-image",children:[Object(u.jsx)("span",{className:"headerPrice",children:o+c()}),Object(u.jsx)(S.a,{srcFile:Object(x.qb)(a.url,va),alt:Object(x.qb)(a.altText,"cart")}),Object(u.jsx)("span",{className:"mobileCartIconCount",children:La(i)})]},e)}(t,b,Ha,e,ve,Oe,k):e.url&&z===e.title&&o?function(e,t,n,a,i,c){return Object(u.jsxs)(se,{onClickHandler:e,name:Object(x.qb)(t(n.altText),"cart"),className:"cart-image",children:[Object(u.jsx)("span",{className:"headerPrice",children:c+i()}),Object(u.jsx)(S.a,{srcFile:Object(x.qb)(n.url,va),alt:Object(x.qb)(n.altText,"cart"),className:"iconActive"}),Object(u.jsx)("span",{className:"mobileIconCountActive mobileCartIconCount",children:La(a)})]})}(b,Ha,e,ve,Oe,k):void 0}))]}),Object(u.jsx)(Da,{idx:"headermenu-id",className:"sidenav",handleClose:Ua,onItemsClickHandler:b,contentData:{navLeft:M,navRight:H,navMobileMenu:Y},userParams:p})]}),ye=Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"nav","data-testid":"desktopHeader-component",children:[Object(u.jsx)("span",{tabIndex:"0",className:"headerLogo","data-testid":"desktop-navigate-handler",onClick:C,onKeyPress:C,children:Object(u.jsx)(S.a,{srcFile:Object(x.qb)(U.src,Ta),alt:Object(x.qb)(U.alt,"KFC LOGO")})}),Object(u.jsx)("span",{className:"navItemsLeft",children:M.map((function(e,t){return Object(u.jsx)(se,{"data-testid":"navItems-component-".concat(e.name),onClickHandler:b,name:e.name,tabIndex:"0",to:Pa(e.name),className:"nav-item-left",children:e.name},t)}))}),Object(u.jsx)("div",{className:"navItemsRight",children:H.map((function(t,n){var a,i=[q,z].includes(t.title),r=!(ya.b.isGoogle&&p.loggedIn),s=q===t.title&&o||z===t.title&&!o;return Object(u.jsxs)(se,{onClickHandler:Ce,name:t.type||t.name||"Cart",style:Object(x.lb)(s,{display:"none"},{}),tabIndex:"0",className:Object(x.lb)(n<H.length-2,"nav-right-items-line",""),"data-id":r?T.n.HEADER_SIGN_IN_ATTR_DATA_ID:null,children:[!i&&(null===t||void 0===t||null===(a=t.type)||void 0===a?void 0:a.toUpperCase())!==K&&Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{"data-testid":"account",onClick:function(){return Ma(t,p.loggedIn,e.history)},children:[Object(u.jsx)(S.a,{srcFile:Object(x.qb)(t.url,t.imageUrl),className:"navRightIcons"}),Object(u.jsx)("span",{className:"notcarticon ml-3",children:Object(x.lb)(!t.type&&t.name&&p.loggedIn,V,t.name)})]})}),i&&Object(u.jsx)("span",{className:"headerPrice",children:k+Oe()}),i&&Object(u.jsxs)("div",{className:"cartIcon align-items-center justify-content-center","aria-label":"cart",role:"button",children:[Object(u.jsx)(S.a,{srcFile:Object(x.qb)(t.url,t.imageUrl),className:"navRightIcons ".concat(ka(o))}),Object(u.jsx)("div",{className:"cartIconCount ".concat(wa(o)),children:La(ve)})]}),t.type&&t.type.toUpperCase()===K&&Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(de,{ariaLable:"clickable-language-selector",tabIndex:"-1",options:ge.map((function(e){var t;return null===e||void 0===e||null===(t=e.short_value)||void 0===t?void 0:t.toLowerCase()})),className:"language-select header-language-select",selectedValue:Te,testid:"language-selector"}),Object(u.jsx)("span",{className:"dropdown-img"})]})]},n)}))})]})});return Object(u.jsx)("div",{"data-testid":A,className:"header-navs",children:Object(x.lb)(O,Ae,ye)})},Ya={contentData:{modalHeaderText:"selectYourLanguage",modalContent:{buttonText:"apply"}}},Ka=function(e){var t=e.handleClose,n=e.languageSelectorModuleForm,a=e.headerText,i=e.modalTitleId,o=void 0===i?"":i;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{"data-testid":"LanguageSelectorModal",id:"LanguageSelectorModal",role:"dialog",modalTitleId:o,show:!0,classNames:"language-module-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:a,autoFocus:!0,closeDataTestId:"close-modal-handler",children:n})})},Va=n(65),Wa=function(e){var t=e.modalContent,n=void 0===t?{}:t,a=e.onLanguageMethodSubmit,o=n.buttonText,r=void 0===o?"":o,s=Object(i.useState)({}),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(N.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),O=v.defaultLanguage,m=v.allowedLanguages,f=v.COUNTRY;Object(i.useEffect)((function(){var e=m.find((function(e){return e.key===Object(x.Q)("".concat(f,"_").concat(T.yb))}));f&&b(e||{}||O||{})}),[f]);var p=m.map((function(e){return Object(u.jsxs)("li",{className:"wrapper ".concat(l&&e.key===(null===l||void 0===l?void 0:l.key)?"wrapperactive":""),tabIndex:"0",children:[Object(u.jsx)("input",{id:e.value,type:"radio",name:"radio",value:e,checked:!(!l||e.key!==(null===l||void 0===l?void 0:l.key)),onChange:function(){b(e)},"aria-label":e.value}),Object(u.jsx)("span",{children:e.value})]},e.key)}));return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("form",{className:"form","data-testid":"language-form-component",children:Object(u.jsx)("section",{className:"form__section",children:Object(u.jsx)("ul",{className:"languageList",children:p})})}),Object(u.jsx)("div",{className:"languageConfirm",children:Object(u.jsx)(Va.a,{className:"button blackButton confirm-schedule-btn","data-testid":"apply-button-test","aria-label":Object(Se.e)(r),onClickHandler:function(e){return a(e,l)},children:Object(Se.e)(r)})})]})},qa=function(){var e=Object(i.useContext)(E.a).userOrderStateDispatch,t=Ya.contentData,n=void 0===t?{}:t,a=n.modalContent,c=void 0===a?{}:a,o=n.modalHeaderText,r=void 0===o?"":o,s=Object(N.c)((function(e){return e.appStateReducer.userStatus})),d=Object(N.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),l=d.allowedLanguages,b=d.COUNTRY,v=Ae.a.LANGUAGE_SELECTOR,j=void 0===v?"":v,O=Ae.a.LANGUAGE_UPDATED,m=void 0===O?"":O,f=Object(N.b)(),p=function(t){t.stopPropagation(),t.preventDefault(),e({type:j,value:{showLanguageSelector:!1}})};Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&p(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var h=Object(u.jsx)(Wa,{modalContent:c,onLanguageMethodSubmit:function(t,n){t.stopPropagation(),t.preventDefault();var a=Object(x.Q)("".concat(b,"_").concat(T.yb));Object(Se.c)(l.find((function(e){return e.key===n.key})).key)?(b&&T.yb&&Object(x.ic)("".concat(b,"_").concat(T.yb),n.key),Object(Se.b)(l.find((function(e){return e.key===n.key})).key),n.key!==a&&e({type:m,value:{languageUpdationHappened:n.key}})):Object(x.A)(l.find((function(e){return e.key===n.key})),s,f),e({type:j,value:{showLanguageSelector:!1}})}});return Object(u.jsx)(Ka,{handleClose:p,modalTitleId:"language_selector",languageSelectorModuleForm:h,headerText:Object(Se.e)(r)})},za=n(154),Qa=Object(o.i)((function(e){var t=Object(N.b)(),n=Object(i.useContext)(E.a),c=n.userOrderState,o=n.userOrderStateDispatch,r=e.contentData,s=void 0===r?{}:r,d=e.history,l=e.tenantReducerData,b=Object(N.c)((function(e){var t;return(null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus)||{}})),v=Object(i.useState)(Object(x.Hb)(window.innerWidth)),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(!1),h=Object(j.a)(p,2),g=h[0],I=h[1],S=Ae.a.LANGUAGE_SELECTOR,C=Object(N.c)((function(e){var t=e.tenantReducer,n=(t=void 0===t?{}:t).basic,a=(n=void 0===n?{}:n).allowedLanguages,i=void 0===a?[]:a,c=n.defaultLanguage,o=t.country;return{allowedLanguages:i,defaultLanguage:c,COUNTRY:void 0===o?"":o}})),A=C.allowedLanguages,y=function(){var e=Object(x.Hb)(window.innerWidth);f(e)};Object(i.useEffect)((function(){window.addEventListener("resize",y)}),[m]);var _=function(){var e=Object(be.a)(ue.a.mark((function e(n){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&Ea({headerItemSelected:n}),m&&"Language Selector"!==n&&(Boolean(document.querySelector("#headermenu-id"))&&(document.querySelector("#headermenu-id").style.width="0px"),Boolean(document.querySelector("#startorder-container"))&&(document.querySelector("#startorder-container").style.display="block"),document.body.style.overflowY="auto"),"Menu"===n&&d.push({pathname:"/menu"}),"Account"===n&&d.push({pathname:"/account"}),"Deals"===n&&d.push({pathname:"/offers"}),n.name===Ae.a.ORDER_LOOKUP&&I(!0),"Cart"===n&&(Object(za.b)(!0,t),(null===b||void 0===b?void 0:b.localized)?d.push({pathname:"/cart"}):o({type:Ae.a.DISPOSITION_DATA,value:{showDisposition:!0}})),"Language Selector"===n&&A.length>1&&o({type:S,value:{showLanguageSelector:!0}}),setTimeout((function(){document.getElementById("language_selector")&&document.getElementById("language_selector").focus()}),0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:Object(x.lb)(m,"mobile header","desktop header"),"data-testid":"HeaderItems-component",role:"banner","data-id":T.n.HEADER_ATTR_DATA_ID,children:[(null===c||void 0===c?void 0:c.showLanguageSelector)&&Object(u.jsx)(qa,{}),Object(u.jsx)(Ga,Object(a.a)(Object(a.a)({contentData:s,isMobile:m,clickHandler:_,tenantReducerData:l,navigateHandler:function(){d.push({pathname:"/"})}},e),{},{"data-testid":"header-items",dataTestId:"headerItems"})),g&&Object(u.jsx)(ua,{isOpen:!0,handleClose:function(){return I(!1)},tenantReducerData:l})]})})),Ja=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.clickHandler,i=void 0===a?null:a,c=n.buttonText,o=void 0===c?"":c,r=n.startOrderTitle,s=void 0===r?"":r,d=n.ariaLabel,l=void 0===d?"":d;return Object(u.jsx)("div",{className:window.location.href.includes("menu")?"headerBottom plpHeaderBottom":"headerBottom","data-testid":"start-order-items",children:Object(u.jsxs)("div",{className:"headBottomParent",children:[Object(u.jsx)("div",{className:"headBottomTxt",children:s}),Object(u.jsx)(Ot.a,{"data-testid":"start-order-button",className:"button redButton start-order-btn","aria-label":l||o,onClickHandler:i,id:"startOrderItemButton",type:"submit",children:Object(u.jsx)("span",{children:o})})]})})},Xa=n(62),Za=function(e){var t=e.modalContent,n=e.onDispositionMethodSubmit,a=e.setRef,i=void 0===a?null:a,o=t.contentText,r=void 0===o?"":o,s=t.infoObject,d=void 0===s?null:s,l=t.orderTypes,b=(void 0===l?[]:l).map((function(e){var t;return Object(u.jsx)("li",{className:"".concat(e.selectDefault&&"default-selected"),children:Object(u.jsx)(Va.a,(t={className:"".concat(e.selectDefault&&"default-selected"),onClickHandler:function(t){n(t,e.type)},id:"DispositionModuleFormSubmit",type:"submit","data-testid":"disposition-order-click-handler-".concat(e.type)},Object(Re.a)(t,"className","button whiteButton order-type-button"),Object(Re.a)(t,"aria-label","order type ".concat(e.buttonText)),Object(Re.a)(t,"children",e.buttonText),t),e.type)},e.type)}));return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{ref:i,className:"disposition-module-form","data-testid":"disposition-component",children:[Object(u.jsx)("h3",{className:"content-text","data-testid":"contenttext-component",children:r}),d&&Object(u.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(u.jsx)("span",{children:d.infoText})}),Object(u.jsx)("form",{className:"form",onSubmit:n,"data-testid":"form-component",children:Object(u.jsxs)("section",{className:"form__section",children:[Object(u.jsx)("div",{className:"order-button-section",children:Object(u.jsx)("ul",{className:"order-button-section-ul",children:b})}),Object(u.jsx)("div",{className:"clearfix"})]})})]})})},$a=function(e){var t=e.handleClose,n=e.DispositionModuleForm,a=e.headerText,i=e.modalTitleId,o=void 0===i?"":i;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{id:"DispositionModulePopup",role:"dialog",modalTitleId:o,show:!0,classNames:"disposition-module-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"disposition-close-handler",closeButtonHandler:t,modalTitle:a,autoFocus:!0,children:n})})},ei=n(88),ti=function(e,t){var n,a=[],i=Object(ve.a)(e);try{for(i.s();!(n=i.n()).done;){var c,o,r=n.value,s=null===r||void 0===r||null===(c=r.fields)||void 0===c||null===(o=c.name)||void 0===o?void 0:o.split("-"),d=s[s.length-1].trim().toUpperCase();if(!t||!(null===d||void 0===d?void 0:d.includes(ei.a.DISPOSITION_TYPE.TYPE_DELIVERY))){var l=r.fields,u=l.buttonText,b=void 0===u?"":u,v=l.selectDefault,j=void 0!==v&&v,O=l.name,m=l.showOption,f=void 0===m||m,p=l.id,h=void 0===p?"":p;a.push({buttonText:b,selectDefault:j,type:O,showOption:f,id:h})}}}catch(g){i.e(g)}finally{i.f()}return a},ni=function(e){var t=e[0].fields||{},n=t.headline,a=void 0===n?"":n,i=t.subHeadline,c=void 0===i?"":i,o=t.subHeadlineType,r=void 0===o?"":o,s=t.title;return{modalHeaderText:void 0===s?"":s,contentText:a,infoObject:{type:r,infoText:c}}},ai=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"orderType",dispositionSelected:t.selectedDispositionType}),e.next=4,je.a.registerEvent(void 0,{data:n[0]},x.E);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ii=function(){var e=Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.localisationStart.name,{"%event%":"localisationStart"},x.E);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ci=function(e,t,n,a){var i,c=Ae.a.CLEAR_CART_CONFIRM_CANCEL_MODAL,o=Ae.a.SHOW_CLEAR_CART_ALERT;(null===e||void 0===e||null===(i=e.foodLines)||void 0===i?void 0:i.length)&&!a?Object(x.Rb)(t,{},o,c,n):n()},oi=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a[t].name,{"%event%":t},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ri=function(){var e=Object(be.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=[]).push({event:"changeStore"}),e.next=4,je.a.registerEvent(void 0,{data:t[0]},x.E);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),si=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(null===we.a||void 0===we.a||null===(n=we.a.localisationFinish)||void 0===n?void 0:n.name,{"%event%":"localisationFinish","%disposition%":t,"%postLocalisation%":"True"},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),di="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAYAAACALL/6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABXSURBVHgBtctBDQAgCAVQIxjBCEaxgRE0ghFsZgQjGAE5wObcQC6y/Qv/fed+HABkzMB4K+arLxwxi3A7i4IJVlzpOXkkYioDYR4lEQsjULEw0vE16prZA0KiodJlD34AAAAASUVORK5CYII=",li=n(118),ui=n(50),bi=n(38),vi=Dn.a.QUANTITY_ACTION,ji=Dn.a.TOAST_NOTIFICATION,Oi=Dn.a.ANALYTICS_EVENTS,mi=Dn.a.CART_ALERT,fi=Ae.a.MINI_PDP_DATA,pi=Ae.a.FROMFLAGEDIT,hi=Ae.a.EDIT_CLICKED,gi=bi.a.RESET_MODGROUP_IDS_UPDATE;function Ni(e,t,n,a,i,c,o){var r=function(e){i({type:mi,value:{showCartAlert:e}})};return{itemQuantityHandler:function(n,i){var o=n.quantity,r=n.foodLineId,s=e.cartId;o&&r&&s&&t&&(o=i===vi.Increase?o+1:i===vi.Decrease?o-1:o,c(Object(St.v)({params:{basketId:s,basketLineItemId:r},tenantId:t},{quantity:o})),c(Object(St.s)(new Date)));var d=i===vi.Increase?Oi.ADD_TO_CART:Oi.REMOVE,l=Object(li.a)([n],a,"quantityModified");ot(d,l)},itemRemoveHandler:function(n){console.log("itemmmmmmmmm",n);var i=n.foodLineId,o=n.flag,r=void 0===o?"":o,s=e.cartId;i&&s&&t&&(c(Object(St.n)({tenantId:t,basketId:s,basketLineItemId:i})),"specialItems"!==r&&(Wt.b.dark(Object(u.jsxs)("div",{className:"img-text-div",children:[Object(u.jsx)(S.a,{srcFile:di})," ",Object(u.jsx)("span",{className:"text",children:Object(Se.e)(ji.ITEM_REMOVED)})]}),{bodyClassName:"sign-in-toast",hideProgressBar:!0,position:Wt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Wt.b.dismiss()}),4e3)));var d=Object(li.a)([n],a,"removeAllQty");ot(Oi.REMOVE,d),c(Object(St.s)(new Date))},itemAllRemoveHandler:function(){r(!0)},itemAllRemoveAction:function(n){var i=e.cartId;i&&t&&c(Object(St.l)({basketId:i,tenantId:t})),r(!1);var o=Object(li.a)(n,a,"removeAllQty");ot(Oi.REMOVE,o),c(Object(St.s)(new Date))},addMoreMenuHandler:function(){o.push({pathname:"/menu"}),c(Object(St.s)(new Date))},itemEditHandler:function(a){var o=a.foodItemId,r=void 0===o?"":o,s=(a.customizable,a.quantity,a.foodLineId),d=(null===n||void 0===n||n.itemLocations.find((function(e){return e.itemid===r})),r.split("-")[0],e.catalog);i({type:gi}),i({type:hi,value:{cartEditClicked:!0}}),i({type:fi,value:{id:r,flag:pi,foodLineId:s}}),c(Object(ui.c)({tenantId:t,catalogName:d,itemId:r})),Object(li.d)(Oi.EDIT),c(Object(St.s)(new Date))},showCartAlert:r,addToCartAnalyticsOnly:function(e,t){var n=t===vi.Increase?Oi.ADD_TO_CART:Oi.REMOVE,i=Object(li.a)([e],a,"quantityModified");ot(n,i)}}}var xi=function(e){var t=e.contentMsg,n=void 0===t?"":t,a=e.title,c=void 0===a?"":a,o=e.splitTitle,r=e.imageSrc,s=e.altText,d=e.confirmButtonText,l=void 0===d?"":d,b=e.confirmHandler,v=e.cancelButtonText,j=void 0===v?"":v,O=e.cancelHandler,m=e.buttonContainerClass,f=void 0===m?"":m,p=Object(i.useContext)(E.a).userOrderStateDispatch;return Object(i.useEffect)((function(){o?it({popupTitle:Object(Se.e)(o.MSGTXT1)+Object(Se.e)(o.MSGTXT2)+Object(Se.e)(o.MSGTXT3)}):n?it({popupTitle:n}):o||it({popupTitle:c})}),[c,n]),Object(i.useEffect)((function(){return function(){(0,Ni(void 0,void 0,void 0,void 0,p,void 0,void 0).showCartAlert)(!1)}}),[p]),Object(u.jsxs)("div",{className:"alert-model-view-root","data-testid":"alert-form",children:[r?Object(u.jsx)(S.a,{"data-testid":"alert-form-image",srcFile:r,alt:s}):null,o?Object(u.jsxs)("div",{className:"alert-title","data-testid":"split-msg",children:[Object(u.jsx)("span",{children:Object(Se.e)(o.MSGTXT1)}),Object(u.jsx)("span",{className:"alert-red-text",children:Object(Se.e)(o.MSGTXT2)}),Object(u.jsx)("span",{children:Object(Se.e)(o.MSGTXT3)})]}):Object(u.jsx)("span",{className:"alert-title","data-testid":"alert-form-title",children:c}),n?Object(u.jsx)("span",{className:"alert-content","data-test-id":"alert-form-content",children:n}):null,Object(u.jsxs)("div",{className:"alert-action-container ".concat(f),children:[O&&Object(u.jsx)(Ot.a,{ariaLable:"","data-testid":"alert-cancel-button",className:"button whiteButton blackBorder alert-cancel",onClickHandler:O,children:j}),b&&Object(u.jsx)(Ot.a,{ariaLable:"","data-testid":"alert-confirm-button",className:"button blackButton blackBorder alert-confirm",onClickHandler:b,children:l})]})]})},Ei=n(64),Ii=n.n(Ei),Ti=function(e){var t=e.handleClose,n=e.CartAlertForm,a=e.classNames;return Ii.a.createPortal(Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{id:"CartAlertopup",role:"dialog",show:!0,classNames:"alet-modal ".concat(a),showCloseBtn:!0,closeButtonHandler:t,closeDataTestId:"handler-close",autoFocus:!0,children:n})}),document.getElementById("modal-popups"))},Si=n(22),Ci=function(e){var t=Object(i.useContext)(E.a),n=t.userOrderState,c=t.userOrderStateDispatch,r=n.dispositionStateData.contentData,s=void 0===r?{}:r,d=n.deeplinkSelectedStoreId,l=n.deepLinkStoreMode,b=Object(x.Bb)(s)&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.disposition&&e.disposition.fields||{},a=n.headline,i=void 0===a?[]:a,c=n.supportedDispositions,o=void 0===c?[]:c,r={modalHeaderText:"",modalContent:{}};r.modalContent.orderTypes=ti(o,t);var s=ni(i),d=s.modalHeaderText,l=s.contentText,u=s.infoObject;return r.modalHeaderText=d,r.modalContent.contentText=l,r.modalContent.infoObject=u,r}(s,l),v=b.modalContent,O=void 0===v?{}:v,m=b.modalHeaderText,f=void 0===m?"":m,p=Ae.a.SEARCH_ORDER_DATA,h=Ae.a.MENU_URL,g=Ae.a.DISPOSITION_DATA,I=Ae.a.CURRENT_STORE_INFO,S=Ae.a.SCHEDULE_ORDER_TIME_DATA,C=Ae.a.SELECTED_TILE_DATA,A=Ae.a.DISPOSITION_METHOD,y=Ae.a.ADD_TO_CART_CLICK,_=Ae.a.SET_DISPOSITION,D=Ae.a.USER_LOCALIZED,R=Ae.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,w=ei.a.DISPOSITION_TYPE,k=w.TYPE_DINE_IN,L=w.TYPE_TAKE_WAY,P=w.TYPE_DELIVERY,M=ei.a.FIND_OPEN_KFC_TEXT,F=ei.a.INVALID_QR_TEXT,H=ei.a.CLOSED_STORE_MODAL_SUBTITLE,B=ei.a.TAKEAWAY_STORE_CLOSED_TEXT,U=ei.a.DINE_IN_STORE_CLOSED_TEXT,G=ei.a.SWITCH_TO_TAKEAWAY_TEXT,Y=ei.a.SWITCH_TO_DINEIN_TEXT,K=n&&n.dispositionStateData&&n.dispositionStateData.dispositionType?n.dispositionStateData.dispositionType:null,V="",W=Object(x.Ab)(n.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):n.dispositionNew,q=Object(N.b)(),z=Object(o.f)(),Q=Object(i.useState)(""),J=Object(j.a)(Q,2),X=J[0],Z=J[1],$=Object(i.useState)({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),ee=Object(j.a)($,2),te=ee[0],ne=ee[1],ae=Object(N.c)((function(e){return e.cartReducer})),ie=ae.cartData,ce=void 0===ie?{}:ie,oe=ae.qrCodeScanTime,re=Object(N.c)((function(e){return e.tenantReducer})),se=re.tenantId,de=Object(N.c)((function(e){return e.profileReducer})).customerId,le=void 0===de?"":de,ve=Object(N.c)((function(e){return e.appStateReducer.userStatus})),je=Object(N.c)((function(e){return Object(x.sb)(e.storesReducer)})),Oe=je.storesWithStatus,me=void 0===Oe?[]:Oe,fe=je.isStoreStatusLoading,pe=je.selectedStoreDetailsDL,he=void 0===pe?{}:pe,ge=ei.a.DISPOSITION_ACTION.SET_QR_DEEPLINK_MODE;Object(i.useEffect)((function(){q(Object(Xa.j)()),q(Object(Xa.i)()),function(e,t){e&&(null===t||void 0===t||t.push({pathname:T.gb.HOME_PAGE}))}(l,z)}),[q]);var Ne=Object(i.useCallback)((function(e,t){e.stopPropagation();ci(ce,c,(function(){ne({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),c({type:ge,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})}),t)}),[ge,c,ce]);Object(i.useEffect)((function(){l&&q(Object(Xa.f)({storeId:d,tenantId:se},null,(function(){ne({showError:!0,errMsg:Object(Se.e)(F),errDesc:null,buttonText:Object(Se.e)(M),buttonCTA:function(e){return Ne(e,!1)}})})))}),[M,F,l,d,q,se]);var xe=function(e,t,n){e.stopPropagation(),e.preventDefault();var i=t.split("-");if(-1!==(V=i[i.length-1].trim()).toLowerCase().indexOf("dine")&&(V=k),ai({selectedDispositionType:V}),ii(),l){var o={data:[{storeId:d,channel:ya.b.channel,service:T.db},{storeId:d,channel:ya.b.channel,service:T.u}],store:[Object(a.a)(Object(a.a)({},he),{},{service:T.db}),Object(a.a)(Object(a.a)({},he),{},{service:T.u})],tenantId:se,setStatusFlag:!1,isFavoritePage:!1};ci(ce,c,(function(){Z(V),q(Object(Xa.c)(o)),c({type:A,value:{dispositionType:V}})}),n)}else[k,L,P].includes(V.toUpperCase())&&(c({type:p,value:{showSearchStore:!0}}),c({type:g,value:{showDisposition:!1}}),c({type:A,value:{dispositionType:V}}))},Ee=function(e,t){var n=e||null;c({value:{selectedData:{}},type:C}),localStorage.setItem("currentStoreInfo",JSON.stringify(n)),c({value:n,type:I}),q(Object(Ra.b)(Object(a.a)(Object(a.a)({},ve),{},{localized:!0}))),c({value:{selectedDateTime:t},type:S}),c({type:R,value:{selectContentTime:"ASAP"}}),c({type:ge,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",K),localStorage.setItem("tenantReducer",JSON.stringify(re)),localStorage.setItem("dateTimeOrder",JSON.stringify(t)),localStorage.setItem("storeInfo",JSON.stringify(n)),localStorage.setItem("savedTimeOrder","ASAP"),z.push({pathname:"".concat(h)})},Ie=function(e){(null===e||void 0===e?void 0:e.toUpperCase())===k?ne({showError:!0,errMsg:Object(Se.e)(U),errDesc:null,buttonText:Object(Se.e)(G),buttonCTA:function(e){return xe(e,T.mb,!0)}}):(null===e||void 0===e?void 0:e.toUpperCase())===L&&ne({showError:!0,errMsg:Object(Se.e)(B),errDesc:null,buttonText:Object(Se.e)(Y),buttonCTA:function(e){return xe(e,T.v,!0)}})},Te=function(){var e=Object(be.a)(ue.a.mark((function e(t,a){var i,o,r,s,d,l,u,b,v,j,O;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(i=t.filter((function(e){return(null===e||void 0===e?void 0:e.service)===Object(x.I)(a)})))||void 0===i?void 0:i.length)){e.next=18;break}return j={time:"ASAP",interval:null===i||void 0===i||null===(o=i[0].summary.timings.scheduled.periods[0])||void 0===o?void 0:o.interval,date:new Date,selectedTime:"ASAP"},e.next=5,Object(x.u)(q,!0,oe,null===i||void 0===i?void 0:i[0],Object(x.I)(a),le,j);case 5:O=e.sent,q(Object(St.e)({data:O,tenantId:se})),c({type:_,value:{oldvalue:W,newValue:{store:null===i||void 0===i?void 0:i[0],time:j.time,date:j.date,type:a,interval:j.interval,deliveryAddress:null===n||void 0===n||null===(r=n.scheduleOrderData)||void 0===r?void 0:r.deliveryAddress,selectedTime:j.selectedTime}}}),localStorage.setItem("dispositionOld",JSON.stringify(W)),localStorage.setItem("dispositionNew",JSON.stringify({type:a,store:null===i||void 0===i?void 0:i[0],date:j.date,time:j.time,selectedTime:j.selectedTime,interval:j.interval,deliveryAddress:null===n||void 0===n||null===(s=n.scheduleOrderData)||void 0===s?void 0:s.deliveryAddress})),Object(x.Pb)(null===i||void 0===i||null===(d=i[0])||void 0===d||null===(l=d.addresses)||void 0===l||null===(u=l[0])||void 0===u||null===(b=u.address)||void 0===b||null===(v=b.addressLines)||void 0===v?void 0:v[0],Si.a.ALREADY_SERACHED_LOCATIONS),Object(x.gc)(),si(a),c({type:g,value:{showSearchStore:!1}}),c({type:D,value:{isLocalized:!0}}),Ee(null===i||void 0===i?void 0:i[0],j),e.next=19;break;case 18:Ie(a);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){var e,t,n;me.length>0&&!fe&&X&&l&&function(e,t){(null===e||void 0===e?void 0:e.length)?Te(e,K):ne({showError:!0,errMsg:"".concat(Object(Se.e)(Qe)," ").concat(t," ").concat(Object(Se.e)(Je)),errDesc:Object(Se.e)(H),buttonText:Object(Se.e)(M),buttonCTA:function(e){return Ne(e,!0)}})}(null===me||void 0===me?void 0:me.filter((function(e){var t,n,a,i,c,o,r,s,d,l,u,b,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)&&"OPEN"===(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(o=c.menu)||void 0===o||null===(r=o.catalogs)||void 0===r?void 0:r.length)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(d=s.timings)||void 0===d||null===(l=d.operatingHours)||void 0===l?void 0:l.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(b=u.timings)||void 0===b||null===(v=b.asap)||void 0===v?void 0:v.isAvailable)})),null===me||void 0===me||null===(e=me[0])||void 0===e||null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.value)}),[me,fe,l]);var Ce=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),c({type:g,value:{showDisposition:!1}}),c({type:y,value:{addToCart:!1}}),c({type:ge,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})};Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&Ce(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var ye=Object(u.jsx)(Za,{modalContent:O,onDispositionMethodSubmit:xe}),_e=Object(u.jsx)($a,{handleClose:Ce,DispositionModuleForm:ye,headerText:f,modalTitleId:"dispostion_selector"});return Object(u.jsxs)(u.Fragment,{children:[(null===te||void 0===te?void 0:te.showError)&&Object(u.jsx)(Ti,{handleClose:null,CartAlertForm:Object(u.jsx)(xi,{title:null===te||void 0===te?void 0:te.errMsg,contentMsg:null===te||void 0===te?void 0:te.errDesc,confirmButtonText:null===te||void 0===te?void 0:te.buttonText,confirmHandler:null===te||void 0===te?void 0:te.buttonCTA,buttonContainerClass:"deeplink-alert-btn-container"})}),_e]})},Ai=n.p+"static/media/GREEN_RIGHT_TICK.bcaaf321.svg",yi=n(57),_i=n(34),Di=n.p+"static/media/24x7.c266ec0d.svg",Ri=n.p+"static/media/birthday.73ee147e.svg",wi=n.p+"static/media/breakfast.cefae5c5.svg",ki=n.p+"static/media/contactless.f0be7f13.svg",Li=n.p+"static/media/driveThru.88df113a.svg",Pi=n.p+"static/media/foodCourt.9e9b227b.svg",Mi=n.p+"static/media/freeWifi.1eefee0f.svg",Fi=n.p+"static/media/kiosks.816c5ee3.svg",Hi=n.p+"static/media/parking.c7314c7d.svg",Bi=n.p+"static/media/playground.0bd2db1a.svg",Ui=n.p+"static/media/refill.6c50cac4.svg",Gi=n.p+"static/media/terraces.8524d714.svg",Yi=n.p+"static/media/wheelchairAccess.930a1573.svg",Ki=[{key:_i.c.roundTheClock,image:Di,label:Object(Se.e)("roundTheClock")},{key:_i.c.birthday,image:Ri,label:Object(Se.e)("birthday")},{key:_i.c.breakfast,image:wi,label:Object(Se.e)("breakfast")},{key:_i.c.contactless,image:ki,label:Object(Se.e)("contactless")},{key:_i.c.driveThru,image:Li,label:Object(Se.e)("driveThru")},{key:_i.c.foodCourt,image:Pi,label:Object(Se.e)("foodCourt")},{key:_i.c.wifi,image:Mi,label:Object(Se.e)("freeWifi")},{key:_i.c.kiosks,image:Fi,label:Object(Se.e)("kiosks")},{key:_i.c.parking,image:Hi,label:Object(Se.e)("parking")},{key:_i.c.playground,image:Bi,label:Object(Se.e)("playground")},{key:_i.c.refill,image:Ui,label:Object(Se.e)("refill")},{key:_i.c.terraces,image:Gi,label:Object(Se.e)("terraces")},{key:_i.c.phc,image:Yi,label:Object(Se.e)("phcWheelChairAccess")}],Vi=function(e){return Ki.filter((function(t){var n,a;if(null===e||void 0===e||null===(n=e.amenities)||void 0===n?void 0:n.length)return(null===e||void 0===e||null===(a=e.amenities)||void 0===a?void 0:a.indexOf(null===t||void 0===t?void 0:t.key))>=0}))},Wi=n.p+"static/media/favorite-unfilled.41887538.svg",qi=n.p+"static/media/favorite-filled.e400bfd4.svg",zi=function(e,t){return null===t||void 0===t?void 0:t.find((function(t){return e>=t.from&&e<=t.to}))},Qi=function(e,t,n,i,c,o){if(!e||!t)return!1;var r=[];if((null===o||void 0===o?void 0:o.length)>0)for(var s=0;s<(null===o||void 0===o?void 0:o.length);s++){var d=o[s],l=d.from,u=d.to;r.push({from:(new Date).setHours(Number(null===l||void 0===l?void 0:l.split(":")[0]),Number(null===l||void 0===l?void 0:l.split(":")[1]),0,0),to:(new Date).setHours(Number(null===u||void 0===u?void 0:u.split(":")[0]),Number(null===u||void 0===u?void 0:u.split(":")[1]),0,0)})}var b=[],v=(new Date).getTime(),j=(new Date).setHours(Number(null===e||void 0===e?void 0:e.split(":")[0]),Number(null===e||void 0===e?void 0:e.split(":")[1]),0,0),O=(new Date).setHours(Number(null===t||void 0===t?void 0:t.split(":")[0]),Number(null===t||void 0===t?void 0:t.split(":")[1]),0,0);c&&(O+=864e5);for(var m=(new Date).setHours(0,0,1)+(864e5-6e4*n),f=j;f<O;)(null===r||void 0===r?void 0:r.length)>0&&zi(f,r)||(f>m?b.push({timestr:new Date(f).getHours()+":"+new Date(f).getMinutes(),selectedDay:"Tomorrow"}):b.push({timestr:new Date(f).getHours()+":"+new Date(f).getMinutes(),selectedDay:"Today"})),f+=6e4*n;if(b=b.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{timestr:Object(ye.s)(e.timestr,"hh:mm","LT")})})),v>j){var p=b.findIndex((function(e){var t=Object(ye.s)(e.timestr,"hh:mm A","HH:mm");return("Today"===e.selectedDay?(new Date).setHours(Number(null===t||void 0===t?void 0:t.split(":")[0]),Number(null===t||void 0===t?void 0:t.split(":")[1]),0,0):(new Date).setHours(Number(null===t||void 0===t?void 0:t.split(":")[0]),Number(null===t||void 0===t?void 0:t.split(":")[1]),0,0)+864e5)>=v}));b=b.splice(p)}return i&&b.unshift({timestr:"ASAP",selectedDay:"Today"}),b},Ji=function(e,t){var n,a;return"INDIA"===(null===t||void 0===t||null===(n=t.country)||void 0===n?void 0:n.toUpperCase())?"".concat((parseFloat(e)/1e3).toFixed(1)," ").concat(null===t||void 0===t||null===(a=t.storeSearch)||void 0===a?void 0:a.distanceMetrics):(parseFloat(e)/1600).toFixed(1)+" mi"},Xi=Object(o.i)((function(e){var t,n,c=e.storeDistance,o=void 0===c?"":c,r=e.addresses,s=void 0===r?{}:r,d=e.isOpen,l=void 0!==d&&d,b=e.buttonData,v=void 0===b?{}:b,j=e.map,O=void 0===j?{}:j,m=e.storeName,f=void 0===m?"":m,p=e.currentMarket,h=e.storeInfo,g=void 0===h?{}:h,I=e.channels,T=void 0===I?[]:I,C=e.storeStatus,A=void 0===C?{}:C,y=e.onStoreSelectFinish,_=e.onClickMapHandler,D=e.isMapView,R=e.isMobile,w=e.isFavoriteStore,k=e.addToFavoriteHandler,L=e.removeFromFavoriteHandler,P=e.loggedIn,F=e.centerIndex,H=e.storeLength,B=Object(x.sb)(null===v||void 0===v?void 0:v.scheduleOrderButtonData),U=B.buttonText,G=void 0===U?"":U,Y=(B.display,Object(x.sb)(null===v||void 0===v?void 0:v.orderNowButtonData)),K=Y.buttonText,V=void 0===K?"":K,W=Y.display,q=void 0!==W&&W,z=Object(i.useContext)(E.a),Q=z.userOrderState,J=z.userOrderStateDispatch,X=Ae.a.SCHEDULE_ORDER_DATA,Z=void 0===X?"":X,$=Ae.a.SEARCH_ORDER_DATA,ee=void 0===$?"":$,te=Ae.a.SELECTED_TILE_DATA,ne=void 0===te?"":te,ae=Ae.a.SCHEDULE_ORDER_TIME_DATA,ie=void 0===ae?"":ae,ce=Ae.a.MENU_URL,oe=Ae.a.SET_DISPOSITION,re=Ae.a.USER_LOCALIZED,se=Ae.a.CURRENT_STORE_INFO,de=Ae.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,le=Ae.a.SET_FORCERELOAD,ve=Si.a.STORE_STATUS_CLOSED,je=O.mapText,Oe=void 0===je?"":je,me=en.timingsSampleData,fe=void 0===me?{}:me,pe=T&&Object(yi.f)(T),he=Object(x.rb)(pe[0]).services,ge=void 0===he?[]:he,Ne=((null===A||void 0===A||null===(t=A.timings)||void 0===t?void 0:t.operatingHours)?A.timings:[]).operatingHours,xe=void 0===Ne?[]:Ne,Ee=Object(yi.b)(l,xe),Ie=Object(N.b)(),Te=Object(N.c)((function(e){return e.profileReducer})),Ce=Object(N.c)((function(e){return e.tenantReducer})),ye=Q.dispositionStateData.dispositionType,_e=void 0===ye?localStorage.getItem("dispositionType"):ye,De=Ce.componentOptions.ScheduledDeliveryComponent.allowScheduleOrder,Re=Object(N.c)((function(e){return e.appStateReducer.userStatus})),we=Object(x.Ab)(Q.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):Q.dispositionNew,ke=function(t,n){var i=Object(x.lb)(t,t,null);J({type:ne,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),J({type:se,value:i}),Ie(Object(Ra.b)(Object(a.a)(Object(a.a)({},Re),{},{localized:!0}))),J({type:ie,value:{selectedDateTime:n}}),J({type:de,value:{selectContentTime:"ASAP"}}),J({type:le,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(Ce)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",_e),localStorage.setItem("storeInfo",JSON.stringify(i)),localStorage.setItem("dateTimeOrder",JSON.stringify(n)),localStorage.setItem("savedTimeOrder","ASAP"),setTimeout((function(){!Q.fromPdpPage&&e.history.push({pathname:"".concat(ce)})}),500)},Le=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){var a,i,c,o,r,s,d,l,u,b,v,j,O,m,f,p,h,g,N;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),Object(yi.k)(),d=Object(x.s)(null===n||void 0===n||null===(a=n.summary)||void 0===a?void 0:a.timings,fe),l=d.futureDates,u=d.scheduled,b=d.asap,v=Object(x.r)(null===u||void 0===u||null===(i=u.periods)||void 0===i?void 0:i.length,u.periods[0]),j=v.interval,O=void 0===j?0:j,m=v.startEndTime,p=(f=void 0===m?{}:m).from,h=f.to,Qi(p,h,O,null===b||void 0===b?void 0:b.isAvailable,1===l.length&&"INDIA"===(null===Ce||void 0===Ce?void 0:Ce.country)),g={time:"ASAP",interval:null===(c=n.summary.timings.scheduled.periods[0])||void 0===c?void 0:c.interval,date:new Date,selectedTime:"ASAP"},null!==we&&we.type===_e&&we.store.id===n.id&&we.deliveryAddress===(null===Q||void 0===Q||null===(o=Q.scheduleOrderData)||void 0===o?void 0:o.deliveryAddress)){e.next=14;break}return e.next=11,Object(x.f)(n,Object(x.I)(_e),Te.customerId,g);case 11:N=e.sent,Ie(Object(St.j)("")),Ie(Object(St.e)({data:N,tenantId:Ce.tenantId}));case 14:localStorage.setItem("renderComp",!0),J({type:oe,value:{oldvalue:we,newValue:{type:_e,store:n,date:g.date,time:g.time,interval:g.interval,selectedTime:g.selectedTime,deliveryAddress:null===Q||void 0===Q||null===(r=Q.scheduleOrderData)||void 0===r?void 0:r.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(we)),localStorage.setItem("dispositionNew",JSON.stringify({type:_e,store:n,date:g.date,time:g.time,selectedTime:g.selectedTime,interval:g.interval,deliveryAddress:null===Q||void 0===Q||null===(s=Q.scheduleOrderData)||void 0===s?void 0:s.deliveryAddress})),Object(x.gc)(),y(t,_e),J({type:ee,value:{showSearchStore:!1}}),J({type:re,value:{isLocalized:!0}}),ke(n,g);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pe=function(e,t){var n,a;console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),e.preventDefault(),e.stopPropagation(),J({type:re,value:{isLocalized:!0}}),J({type:Z,value:{showScheduleOrder:!0,selectedStoreInfo:t}}),J({type:ee,value:{showSearchStore:!1}});var i=Object(x.s)(null===t||void 0===t||null===(n=t.summary)||void 0===n?void 0:n.timings,fe),c=i.futureDates,o=i.scheduled,r=i.asap,s=Object(x.r)(null===o||void 0===o||null===(a=o.periods)||void 0===a?void 0:a.length,o.periods[0]),d=s.interval,l=void 0===d?0:d,u=s.startEndTime,b=void 0===u?{}:u,v=b.from,j=b.to;Qi(v,j,l,null===r||void 0===r?void 0:r.isAvailable,1===c.length&&"INDIA"===(null===Ce||void 0===Ce?void 0:Ce.country)),Object(yi.j)(),function(e){var t=Object(x.lb)(e,e,null);J({type:ne,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),J({type:se,value:t})}(t)},Me=Vi(g),Fe=Object(u.jsxs)("div",{className:"store-card ".concat(Object(x.r)(D,!R)?"store-card-map-view":"store-card-mobile-view"),style:function(){if(D&&R)return{margin:"0",position:"absolute","max-height":"325px",bottom:"0"}}(),"data-testid":"store-card",id:"map-store-card",children:[Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsxs)("div",{className:"store-dist-container ".concat(D&&"map-view"),children:[Object(u.jsx)("div",{className:"store-name-container",children:Object(u.jsx)("span",{className:"card-store-name",children:f})}),Object(u.jsx)("span",{className:"store-distance",children:Ji(o,Ce)})]}),D&&Object(u.jsx)("span",{className:"store-index",children:"".concat(F+1," of ").concat(H)})]}),Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsx)("div",{className:"order-items",children:(n=ge,!!Object(x.Bb)(n)&&n.map((function(e,t){var n=Si.a.PICK_UP,a=Si.a.TAKE_AWAY;return Object(u.jsxs)("div",{className:"store-order-options",children:[Object(u.jsx)("span",{children:Object(u.jsx)(S.a,{"data-testid":"",srcFile:Ai,alt:"tick",className:"tick-image"})}),Object(u.jsx)("span",{children:e===n?Object(Se.e)(a):e})]},t)})))}),Object(u.jsxs)("div",{className:"w-100",children:[Object(u.jsx)("span",{className:"store-address",children:Object(x.R)(s)}),!D&&Object(u.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:function(){return _()},children:Object(u.jsx)(M,{className:"card-map-link",children:Oe})})]}),Object(u.jsxs)("div",{className:"info-timing ".concat(!l&&"info-timingClosed"),children:[l?"":Object(u.jsx)("span",{children:Object(Se.e)(ve)}),Object(u.jsx)("span",{className:"".concat(!l&&"list-circle"),children:Ee})]}),Object(u.jsx)("div",{className:"facilities",children:Me&&Me.map((function(e){return Object(u.jsx)(S.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)}))})]}),Object(u.jsxs)("div",{className:"w-100 d-flex mt-2",children:[P?w?Object(u.jsx)(S.a,{"data-testid":"favorite-img",srcFile:qi,alt:"favorite",className:"favorite-img",onClick:function(){return L()}}):Object(u.jsx)(S.a,{"data-testid":"unfavorite-img",srcFile:Wi,alt:"favorite",className:"favorite-img",onClick:function(){return k()}}):"",De&&Object(u.jsx)(Ot.a,{"data-testid":"schedule-order",className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn ".concat(Object(x.r)(D,!R)?"cardMapView":null),onClickHandler:function(e){return Pe(e,g)},children:G}),q&&l&&Object(u.jsx)(Ot.a,{"data-testid":"order-now",className:"button redButton search-store-card-btn ".concat(D&&!R?"cardMapView":null),onClickHandler:function(e){return Le(e,g)},children:V})]})]});return p!==Si.a.COUNTRY_CODE_INDIA||l?Fe:null})),Zi=Si.a.BROWSE_MENU,$i=Si.a.PICK_UP,ec=Si.a.TAKE_AWAY,tc=Si.a.STORE_STATUS_CLOSED_CAPS,nc=Si.a.STORE_STATUS_CLOSED,ac=Si.a.INDIA,ic=function(e){return e===$i?ec:e},cc=function(e,t){if(e&&t)return{"max-height":"325px",margin:"0",position:"absolute",bottom:"0"}},oc=Object(o.i)((function(e){var t,n,c,o,r,s,d,l,b,v,j,O,m,f,p,h,g,I=e.key,T=void 0===I?"":I,C=e.storeName,A=void 0===C?"":C,y=e.storeDistance,_=void 0===y?"":y,D=e.orderTypes,R=void 0===D?[]:D,w=e.addresses,k=void 0===w?{}:w,L=e.storeStatus,P=void 0===L?{}:L,F=e.onClickMapHandler,H=e.isMapView,B=e.isMobile,U=e.isFavoriteStore,G=e.addToFavoriteHandler,Y=e.removeFromFavoriteHandler,K=e.map,V=e.loggedIn,W=e.storeInfo,q=void 0===W?{}:W,z=e.centerIndex,Q=e.storeLength,J=e.onStoreSelectFinish,X=(null===(t=P.timings)||void 0===t||null===(n=t.operatingHours[0])||void 0===n||null===(c=n.availableHours)||void 0===c?void 0:c.from)||"",Z=null===P||void 0===P||null===(o=P.timings)||void 0===o||null===(r=o.scheduled)||void 0===r?void 0:r.unavailibilities,$=Object(x.sb)(K).mapText,ee=void 0===$?"":$,te=Ae.a.MENU_URL,ne=Ae.a.SEARCH_ORDER_DATA,ae=Ae.a.CURRENT_STORE_INFO,ie=Ae.a.DISPOSITION_DATA,ce=Ae.a.USER_LOCALIZED,oe=Ae.a.SCHEDULE_ORDER_DATA,re=void 0===oe?"":oe,se=Ae.a.SELECTED_TILE_DATA,de=void 0===se?"":se,le=Object(i.useContext)(E.a),ue=le.userOrderState,be=le.userOrderStateDispatch,ve=Object(N.c)((function(e){return e.appStateReducer.userStatus})),je=Object(N.c)((function(e){return e.tenantReducer})),Oe=Object(N.b)(),me=Object(x.sb)(null===q||void 0===q||null===(s=q.summary)||void 0===s?void 0:s.timings),fe=me.futureDates,pe=me.scheduled,he=me.asap,ge=Object(x.sb)(pe).unavailibilities,Ne=Object(x.sb)((null===pe||void 0===pe||null===(d=pe.periods)||void 0===d?void 0:d.length)&&(null===pe||void 0===pe?void 0:pe.periods[0])),xe=Ne.interval,Ee=void 0===xe?0:xe,Ie=Ne.startEndTime,Te=void 0===Ie?{}:Ie,Ce=Object(x.sb)(Te),_e=Ce.from,De=Ce.to,Re=ue.dispositionStateData.dispositionType,we=void 0===Re?localStorage.getItem("dispositionType"):Re,ke=Object(x.Ab)(ue.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):ue.dispositionNew,Le=function(){var e;return Qi(_e,De,Ee,null===he||void 0===he?void 0:he.isAvailable,1===fe.length&&(null===je||void 0===je||null===(e=je.country)||void 0===e?void 0:e.toUpperCase())===ac,ge)},Pe=function(e,t){var n,a;e.preventDefault(),e.stopPropagation(),console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),be({type:ce,value:{isLocalized:!0}}),be({type:ne,value:{showSearchStore:!1}}),be({type:re,value:{showScheduleOrder:!0,selectedStoreInfo:t}});var i=null===t||void 0===t||null===(n=t.summary)||void 0===n?void 0:n.timings,c=i.futureDates,o=i.scheduled,r=i.asap,s=(null===o||void 0===o||null===(a=o.periods)||void 0===a?void 0:a.length)&&(null===o||void 0===o?void 0:o.periods[0]),d=s.interval,l=void 0===d?0:d,u=s.startEndTime,b=void 0===u?{}:u,v=b.from,j=b.to;Qi(v,j,l,null===r||void 0===r?void 0:r.isAvailable,1===c.length&&"INDIA"===(null===je||void 0===je?void 0:je.country)),Object(yi.j)(),function(e){var t=e||null;be({type:de,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),be({type:ae,value:t})}(t),J(e,we)},Me=Vi(q);return Object(u.jsxs)("div",{className:"store-card ".concat(H&&!B?"store-card-map-view":"store-card-mobile-view"),style:cc(H,B),"data-testid":"closed-card",id:"map-store-card",children:[Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsxs)("div",{className:"store-dist-container ".concat(H&&"map-view"),children:[Object(u.jsx)("div",{className:"store-name-container",children:Object(u.jsx)("span",{className:"card-store-name",children:A})}),Object(u.jsx)("span",{className:"store-distance",children:Ji(_,je)})]}),H&&Object(u.jsx)("span",{className:"store-index",children:"".concat(z+1," of ").concat(Q)})]}),Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsx)("div",{className:"order-items",children:(g=R,g.map((function(e,t){return Object(u.jsxs)("div",{className:"store-order-options",children:[Object(u.jsx)("span",{children:Object(u.jsx)(S.a,{"data-testid":"",srcFile:Ai,alt:"tick",className:"tick-image"})}),Object(u.jsx)("span",{children:ic(e)})]},t)})))}),Object(u.jsxs)("div",{className:"w-100",children:[Object(u.jsx)("span",{className:"store-address",children:function(){var e;return"".concat(null===(e=k.addressLines)||void 0===e?void 0:e.join(" ")," ").concat(k.city," ").concat(k.state," ").concat(k.country," ").concat(k.pinCode)}()}),!H&&Object(u.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:function(){return F()},children:Object(u.jsx)(M,{className:"card-map-link",children:ee})})]}),Object(u.jsx)("div",{className:"info-timingClosed",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(x.s)((null===(l=P.status)||void 0===l?void 0:l.currentStatus)===tc,0===(null===P||void 0===P||null===(b=P.timings)||void 0===b||null===(v=b.scheduled)||void 0===v||null===(j=v.periods)||void 0===j?void 0:j.length))?Object(u.jsx)("span",{className:"closed-text",children:nc}):""}),Object(u.jsx)("li",{children:(null===Z||void 0===Z?void 0:Z.length)>0&&Object(ye.s)(null===(O=Z[0])||void 0===O?void 0:O.to,"HH MM","HH:MM")<=Object(ye.s)(De,"HH MM","HH:MM")?"Open Today ".concat((null===(m=Z[0])||void 0===m?void 0:m.to)&&Object(ye.s)(null===(f=Z[0])||void 0===f?void 0:f.to,"hh mm","hh:mm a")):"Open ".concat((null===(p=P.timings)||void 0===p||null===(h=p.scheduled)||void 0===h||h.date,Le().length?"Today":"Tomorrow")," ").concat(X&&Object(ye.s)(X,"hh mm","hh:mm a"))})]})}),Object(u.jsx)("div",{className:"facilities",children:Me&&Me.map((function(e){return Object(u.jsx)(S.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)}))}),Object(u.jsxs)("div",{className:"w-100 d-flex mt-2",children:[V&&(U?Object(u.jsx)(S.a,{"data-testid":"favorite-img",srcFile:qi,alt:"favorite",className:"favorite-img",onClick:function(){return Y()}}):Object(u.jsx)(S.a,{"data-testid":"unfavorite-img",srcFile:Wi,alt:"favorite",className:"favorite-img",onClick:function(){return G()}})),Le().length>0?Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn","data-testid":"schedule-order-closed-store",onClickHandler:function(e){return Pe(e,q)},children:Object(Se.e)("scheduleOrder")}):Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:function(){Object(x.hc)(q,be,ke,we),Oe(Object(Ra.b)(Object(a.a)(Object(a.a)({},ve),{},{localized:!0}))),Object(x.gc)(),be({type:ie,value:{showDisposition:!1}}),be({type:ne,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(te)})},children:Object(Se.e)(Zi)})]})]})]},T)})),rc=n.p+"static/media/Location.aa650ea9.svg",sc=n.p+"static/media/Map.f2d99af8.svg",dc=n.p+"static/media/Union.f6d2afe2.svg",lc=n.p+"static/media/SuggestionItemSearchPin.9d2e9435.svg",uc=n.p+"static/media/Time_Clock.200bdc68.svg",bc=n.p+"static/media/successSign.9ca85326.svg",vc=n(113),jc=n.n(vc),Oc="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAAPAA8DAREAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDzb9qf9qf9pP8A4Ku/tIeOvD3h/wAePb+GLa58QN+zv+zs2vatommeLNI0jVVi0jw54a0qKKTw34h+Meu+G/tHiO7ufE99pd74pvtPuvCvg+eXUZvBvgm5APUf2Bf+CjPxZ/4Jo/tB6p8I/iN8SW+MX7P1tZXejePvBOheKdR8U+GfCPjS38NS34/4Vrq+pRnTdP1jw141b/hCvF2oeFkvfBPi6C01K+0q98SWNt4T8SxACf8ABRn9gb9oD/gmh8XPiV8RfhFqFrbfs/fGKPxPoHgf4g6Tf+G4PGfhHw34q1ODU9c+G6pdzr4z8N63p2nRJ4Wv/F3hCK2t/FXgTVL7R7rVYbTxL4p8LQAHv/8AwTB/4Jg/Ff8Ab1+KiftbftbNp03wSksb22uri3ufCsPjD41eLIvCz+Gra8vYPC373T77TriWy8W+NfHHi+zbxR418Rxi5vV1/VNf1/xHp4AA/9k=",mc=n.p+"static/media/RedMarkerNoText.131ca000.svg",fc=n(180),pc=function(e){var t,n,a=e.locationAlertProp,o=e.negativeScenarioAlertProp,r=e.isMobile,s=e.onPositionChangeHandler,d=e.centerIndex,l=e.isVisible,b=e.setShowCard,v=e.locationAlert,O=e.setStoreMarker,m=void 0===O?function(){}:O,f=e.passAddress,p=e.storeCardHeight,h=e.latLongValue,g=Si.a.PLACE_PIN,N=c.a.useContext(E.a).userOrderState.dispositionStateData,I=(void 0===N?{}:N).dispositionType,S=void 0===I?localStorage.getItem("dispositionType"):I,C=c.a.createRef(),A=Object(i.useState)(h),y=Object(j.a)(A,2),_=y[0],D=y[1],R=Object(i.useState)(!1),w=Object(j.a)(R,2),k=w[0],L=w[1];Object(i.useEffect)((function(){t=P(_),n=M(_)}),[]),Object(i.useEffect)((function(){D(h),L(!1)}),[h]),Object(i.useEffect)((function(){P(_),n=M(_)}),[_,d,k]);var P=function(e){return new window.google.maps.Map(C.current,{zoom:10,center:Array.isArray(e)&&e.length>0?e[d]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!r,gestureHandling:"greedy"})},M=function(e){var a=new window.google.maps.Geocoder,i=e;t=P(i),l?k||(t.addListener("zoom_changed",(function(){b(!1),L(!0)})),t.addListener("drag",(function(){b(!1),L(!0)}))):(t.addListener("drag",(function(){i={lat:t.getCenter().lat(),lng:t.getCenter().lng()},n.setPosition(i)})),window.google.maps.event.addListener(t,"dragend",(function(){!function(e,t,n){e.geocode({location:n},(function(e,t){"OK"===t&&e[0]&&f(e[0].formatted_address)}))}(a,0,i)})));var c=Object(x.lb)(Array.isArray(i)&&i.length>0,i,[i]).map((function(e,n){var a=new window.google.maps.Marker({position:e,map:t,visible:!0,icon:Object(x.qb)(!l,!k&&l&&n===d)?(null===S||void 0===S?void 0:S.toUpperCase())===T.qb?mc:ht:gt});return a.addListener("click",(function(e){m(e.latLng)})),a}));return Object(x.lb)(Array.isArray(i),c,c[0])};return Object(u.jsxs)(c.a.Fragment,{children:[!a&&((null===S||void 0===S?void 0:S.toUpperCase())!==T.qb||""!==o&&o?null:Object(u.jsx)("div",{className:"map-top-note ".concat(Object(x.lb)(v,"place-pin-off","")),children:Object(u.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(Se.e)(g)})})),r&&!k&&Object(u.jsxs)("div",{className:"arrows",style:{bottom:"".concat(p+15,"px")},children:[Object(u.jsx)("span",{className:"map-arrow-left ".concat(Object(x.r)(0===d,"disableArrow")),"data-testid":"map-arrow-left",onClick:function(e){return Object(x.lb)(0===d,e.preventDefault(),s(0))},children:Object(u.jsx)(fc.a,{srcFile:De,alt:"map-arrow-left"})}),Object(u.jsx)("span",{className:"map-arrow-right ".concat(d===_.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:function(e){return d===_.length-1?e.preventDefault():s(1)},children:Object(u.jsx)(fc.a,{srcFile:De,alt:"map-arrow-right"})})]}),Object(u.jsx)("div",{id:"google-map",ref:C})]})},hc=function(e){var t=e.errorMsgToShow,n=e.onClearTextHandler,a=e.dispositionType,o=e.onRetryClickHandler,r=e.onMapClickHandler,s=e.showMap,d=Object(i.useContext)(E.a).userOrderStateDispatch,l=Ae.a.DISPOSITION_METHOD,b=Si.a.DELIVERY_UNAVAILABLE_WITH_CTA,v=Si.a.TAKE_AWAY,j=Si.a.RETRY_TEXT,O=Si.a.CTA1_SEARCH_DIFF_ADDRESS,m=Si.a.CTA2_ORDER_TAKEAWAY,f=Si.a.CTA2_VIEW_MAP_BUTTON_TEXT,p=Object(Ct.a)({"error-alert-location-popup":!0,"error-alert-location-popup-with-map-view":s});return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{"data-testid":"alert-locationid",className:"Delivery"===a?p:"error-alert-location-popup error-adjust",children:[Object(u.jsx)(S.a,{srcFile:$t,className:"location-alert-icon"}),t!==b&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"location-error-address",children:Object(Se.e)(t)}),Object(u.jsxs)("div",{className:"location-error-button-section",children:[Object(u.jsx)(Ot.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:function(e){return function(e){e.preventDefault(),n()}(e)},children:Object(Se.e)(O)}),a.toLowerCase()!==v.toLowerCase()&&Object(u.jsx)(Ot.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:function(e){return function(e){e.preventDefault(),d({type:l,value:{dispositionType:v}})}(e)},children:Object(Se.e)(m)})]})]}),t===b&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"location-error-address",children:Object(Se.e)(t)}),Object(u.jsxs)("div",{className:"location-error-button-section",children:[Object(u.jsx)(Ot.a,{"data-testid":"btn-onRetryClick",className:"button whiteButton blackBorder location-warning-button mr retrybtn",onClickHandler:function(e){return o(e)},children:Object(Se.e)(j)}),a!==v&&Object(u.jsx)(Ot.a,{"data-testid":"btn-onMapClick",className:"button whiteButton blackBorder location-warning-button ml retrybtn",onClickHandler:function(e){return r(e)},children:Object(Se.e)(f)})]})]})]})})},gc=n(741),Nc=n(740),xc=n(111),Ec=n(80),Ic=function(e){return!0===e?"store-count-title fav-store savedKFC":"store-count-title active-tab fav-store savedKFC"},Tc=function(e,t){return e&&t?"store-count-title active-tab savedKFC":e&&!t?"store-count-title savedKFC":e?void 0:"store-count-title  guest-color"},Sc=function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(a=n.catalogs)||void 0===a?void 0:a.length)>0},Cc=function(e){return e?dc:sc},Ac=function(e){var t=document.querySelector(".searchStore-module-form .store-count a.store-location-link");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},yc=function(e,t,n){return!0===e?t():n()},_c=Object(o.i)((function(e){var t,n,o,r=e.formContent,s=void 0===r?{}:r,d=e.storeData,l=void 0===d?[]:d,b=e.eligibleStoreData,v=void 0===b?[]:b,O=e.favoriteStoreData,m=void 0===O?[]:O,f=e.userPositionHandler,p=e.singInClickhandler,h=e.currentMarket,g=e.storeCardLimit,I=void 0===g?1/0:g,C=e.onStoreSelectFinish,A=e.handleGoBack,y=e.noStoresList,D=e.favoriteStoreHandler,R=s.memberText,w=void 0===R?"":R,k=s.singInLink,L=void 0===k?{}:k,P=s.currentLocationText,F=void 0===P?"":P,H=s.addressBoxPlaceHolderForSearchStore,B=void 0===H?"":H,U=s.mapText,G=void 0===U?"":U,Y=Si.a.MIN_SEARCH_CHARACTER_LIMIT,K=Si.a.SUUGESTED_ITEMS_TEXT,V=Si.a.ALLOWED_SUGGESTION_LIST,W=Si.a.ALREADY_SERACHED_LOCATIONS,q=Si.a.COUNTRY_CODE,z=Si.a.SUGGESTION_ACTIVE_COLOR,Q=Si.a.SUGGESTION_ACTIVE_OPACITY,J=Si.a.BRAND_BLACK,X=Si.a.STORE_STATUS_OPEN,Z=Si.a.LIST_TEXT,$=Si.a.TYPE_TAKE_WAY,ee=Si.a.STORE_STATUS_CLOSED_CAPS,te=Si.a.BROWSE_MENU,ne=Si.a.CTA1_SEARCH_DIFF_ADDRESS,ae=Si.a.DINEIN_UNAVAILABLE,ie=Si.a.CTA2_ORDER_TAKEAWAY,ce=Si.a.TAKEAWAY_UNAVAILABLE_WITH_CTA,oe=Si.a.DINE_IN_SERVICE,re=Si.a.DINE_IN,se=Si.a.TYPE_DELIVERY,de=Si.a.TAKE_AWAY,le=Ae.a.DISPOSITION_METHOD,ve=Ae.a.MENU_URL,je=Ae.a.SEARCH_ORDER_DATA,Oe=Ae.a.CURRENT_STORE_INFO,me=Ae.a.DISPOSITION_DATA,fe=Ae.a.INDIA,pe=c.a.useContext(E.a).userOrderState,he=pe.searchStoreData,ge=void 0===he?{}:he,Ne=pe.dispositionStateData,xe=void 0===Ne?{}:Ne,Ee=pe.scheduleOrderData,Ie=void 0===Ee?{}:Ee,Te=xe.dispositionType,Ce=void 0===Te?localStorage.getItem("dispositionType"):Te,ye=c.a.useState(""),_e=Object(j.a)(ye,2),De=_e[0],Re=_e[1],we=Object(i.useState)({}),ke=Object(j.a)(we,2),Le=ke[0],Pe=ke[1],Me=Object(i.useState)({}),Fe=Object(j.a)(Me,2),He=Fe[0],Be=Fe[1],Ue=Object(i.useState)(!1),Ge=Object(j.a)(Ue,2),Ye=Ge[0],Ke=Ge[1],Ve=Object(i.useState)(!1),We=Object(j.a)(Ve,2),qe=We[0],ze=We[1],Qe=c.a.useState([]),Je=Object(j.a)(Qe,2),Xe=Je[0],Ze=Je[1],$e=c.a.useState(!1),et=Object(j.a)($e,2),tt=et[0],nt=et[1],at=Object(i.useState)(null),it=Object(j.a)(at,2),ct=it[0],ot=it[1],rt=Object(i.useState)(Object(x.Hb)(window.innerWidth)),st=Object(j.a)(rt,2),dt=st[0],lt=st[1],ut=0,bt=Object(i.useState)(0),vt=Object(j.a)(bt,2),jt=vt[0],mt=vt[1],ft=Object(i.useState)(""),pt=Object(j.a)(ft,2),ht=pt[0],gt=pt[1],Nt=c.a.useState(!1),xt=Object(j.a)(Nt,2),Et=xt[0],It=xt[1],Tt=c.a.useState([]),St=Object(j.a)(Tt,2),Ct=St[0],At=St[1],yt=c.a.useState([]),_t=Object(j.a)(yt,2),Dt=_t[0],Rt=_t[1],wt=Object(i.useContext)(E.a).userOrderStateDispatch,kt=0,Lt=Object(N.b)(),Pt=Object(N.c)((function(e){return e.tenantReducer})),Mt=(Pt||{}).tenantId,Ft=void 0===Mt?{}:Mt,Ht=0,Bt=c.a.useState(!1),Ut=Object(j.a)(Bt,2),Gt=Ut[0],Yt=Ut[1],Kt=c.a.useState(!1),Vt=Object(j.a)(Kt,2),Wt=Vt[0],qt=Vt[1],zt=Object(N.c)((function(e){return e.appStateReducer})),Qt=Object(N.c)((function(e){return Object(x.sb)(e.LoaderReducer)})).isLoading,Jt=zt.userStatus,Xt=(void 0===Jt?{}:Jt).loggedIn,Zt=void 0!==Xt&&Xt,en=c.a.useState([]),tn=Object(j.a)(en,2),nn=tn[0],an=tn[1],cn=c.a.useState(!0),on=Object(j.a)(cn,2),rn=on[0],sn=on[1],dn=null===(t=Ec.a.getItem("access_token"))||void 0===t?void 0:t.secret,ln=Object(x.D)(dn),un=Object(i.useState)(325),bn=Object(j.a)(un,2),vn=bn[0],jn=bn[1],On=Object(i.useState)(!1),mn=Object(j.a)(On,2),fn=mn[0],pn=mn[1],hn=function(){var e=Object(x.Hb)(window.innerWidth);lt(e)};Object(i.useEffect)((function(){return window.addEventListener("resize",hn),function(){window.removeEventListener("resize",hn)}}),[dt]),Object(i.useEffect)((function(){return window.addEventListener("keydown",Ac),function(){window.removeEventListener("keydown",Ac)}}));var gn=null===(n=document.getElementById("map-store-card"))||void 0===n?void 0:n.clientHeight;Object(i.useEffect)((function(){gn&&vn!==gn&&jn(gn)}),[gn]);var Nn=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n,a,i;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(vc.geocodeByAddress)(t);case 2:return n=e.sent,e.next=5,Object(vc.getLatLng)(n[0]);case 5:a=e.sent,Pe(a),Be(a),ut=0,In(t),Re(t),f({userLat:a.lat,userLong:a.lng}),nt(!1),i=Boolean(Object(x.r)(Object(x.qb)(De,t),Object(x.r)(0===ut,0===kt))),It(i);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xn=function(){localStorage.setItem("currentStoreInfo",JSON.stringify(null)),wt({type:Oe,value:null}),wt({type:me,value:{showDisposition:!1}}),wt({type:je,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(ve)})},En=function(e,t,n){return Object(u.jsx)("div",{className:"store-card",children:Ce.toUpperCase()===$?Object(u.jsxs)("div",{className:"no-store",children:[Object(u.jsx)("div",{className:"no-store-icon",children:Object(u.jsx)(S.a,{"data-testid":"",srcFile:$t,alt:"no store"})}),Object(u.jsx)("div",{className:"no-store-text",children:e()}),Object(u.jsx)(Ot.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn",onClickHandler:Cn,children:Object(Se.e)(n)})]}):Object(u.jsxs)("div",{className:"no-store",children:[Object(u.jsx)("div",{className:"no-store-icon",children:Object(u.jsx)(S.a,{"data-testid":"",srcFile:$t,alt:"no store"})}),Object(u.jsx)("div",{className:"no-store-text",children:e()}),Object(u.jsx)(Ot.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn dine-in-error-btn",onClickHandler:Cn,children:Object(Se.e)(n)}),Object(u.jsx)(Ot.a,{"data-testid":"orderTakeaway-click-btn",className:"button whiteButton blackBorder location-warning-button ml dine-in-error-btn",onClick:function(e){return function(e){e.preventDefault(),wt({type:le,value:{dispositionType:de}}),Nn(De)}(e)},children:Object(Se.e)(ie)})]})})};Object(i.useEffect)((function(){if(!(null===Ie||void 0===Ie?void 0:Ie.changeFlow)&&(null===ge||void 0===ge?void 0:ge.searchedPlaceNonLocalized))Nn(ge.searchedPlaceNonLocalized);else if(localStorage.getItem("searchStoreByAttribute")){var e=localStorage.getItem("searchStoreByAttribute");Re(e),Nn(e)}}),[]);Object(i.useEffect)((function(){if(De){var e=v.filter(Sc);if(e.length>0){var t=e.filter((function(e){var t,n,a,i,c,o;return(null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)===X&&(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(c=i.scheduled)||void 0===c||null===(o=c.periods)||void 0===o?void 0:o.length)>0}));if(t.length>=I){var n=t.slice(0,I);Ze(n)}else if(t.length<I){var a=I-t.length,i=e.filter((function(e){var t,n,a,i,c,o;return(null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)===ee||0===(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(c=i.scheduled)||void 0===c||null===(o=c.periods)||void 0===o?void 0:o.length)})).slice(0,a),c=t.concat(i);Ze(c)}}else ut=0,Ze([])}else Ze([]),an([]),At([]),It(!1)}),[v,De]),Object(i.useEffect)((function(){if(v.length>0){D({userLat:He.lat,userLong:He.lng});var e=m.sort((function(e,t){return Object(yi.c)(e,t)})),t=null===e||void 0===e?void 0:e.filter((function(e){var t,n;return null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus}));an(t)}}),[v,m.length]),Object(i.useEffect)((function(){tt&&(Re(ht),In(ht),nt(!1)),localStorage.getItem("ALREADY_SERACHED_LOCATIONS")!==De&&(Ze([]),At([]),ot(""),an([]));var e=Object(x.c)(De,Y);pn(e)}),[ge,De,tt,ht]);var In=function(e){Object(x.Pb)(e,W)},Tn=function(){var e=Object(be.a)(ue.a.mark((function e(){var t,n,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya.b.BindLocation();case 2:Object(yi.l)(),ya.b.coordinates&&(t=ya.b.coordinates,n=t.latitude,a=t.longitude,ya.b.addFeedback("Check coordinates ".concat(JSON.stringify(ya.b.coordinates))),ya.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:n,userLong:a}))),ya.b.addFeedback("Check address ".concat(ya.b.address)),ut=0,Pe({lat:n,lng:a}),Ke(!1),f({userLat:n,userLong:a}),It(!0),Re(ya.b.address),gt(ya.b.address),nt(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Sn=function(e){return t=e,Object(x.rb)(JSON.parse(localStorage.getItem(W))).includes(t);var t},Cn=function(){Re(""),an([]),Ze([]),At([]),It(!1),ot(""),Ke(!1)},An=Object(i.useCallback)(Object(be.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Xe.map(function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{lat:t.location.latitude,lng:t.location.longitude});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,Pe(t);case 4:case"end":return e.stop()}}),e)}))),[Xe]),yn=Object(i.useCallback)(Object(be.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(nn.map(function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{lat:t.location.latitude,lng:t.location.longitude});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,Pe(t);case 4:case"end":return e.stop()}}),e)}))),[nn]),_n=function(){Object(yi.h)(Ye,Ce),Ke(!Ye),ze(!Ye)},Dn=function(e,t){ot(e),mt(t)},Rn=function(){An(),ze(!0),ot(Object(x.sb)(Xe[jt]))},wn=function(){var e=Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn();case 2:ze(!0),ot(Object(x.sb)(nn[jt]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){!function(e,t,n,a){var i=a.TYPE_TAKE_WAY,c=a.DINE_IN,o=a.dispositionType,r=a.callSelectedStore,s=a.callSelectedFavStore;e?t.length&&[i,c].indexOf(o.toUpperCase())>-1&&r():n.length&&[i,c].indexOf(o.toUpperCase())>-1&&s()}(rn,Xe,nn,{TYPE_TAKE_WAY:$,DINE_IN:re,dispositionType:Ce,callSelectedStore:Rn,callSelectedFavStore:wn});var e=Xe.filter((function(e){var t,n,a,i,c,o;return(null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)===ee||0===(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(c=i.scheduled)||void 0===c||null===(o=c.periods)||void 0===o?void 0:o.length)})),t=Xe.filter((function(e){var t,n,a,i,c,o,r,s,d,l="CLOSED"===e.summary.status.currentStatus,u=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n||null===(a=n.message)||void 0===a?void 0:a.indexOf("EMERGENCY_SHUTDOWN")),b=-1!==(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(c=i.status)||void 0===c||null===(o=c.message)||void 0===o?void 0:o.indexOf("TECHNICAL_SHUTDOWN")),v=null===e||void 0===e||null===(r=e.summary)||void 0===r?void 0:r.timings,j=v.futureDates,O=v.scheduled,m=v.asap,f=O.unavailibilities,p=O&&(null===O||void 0===O||null===(s=O.periods)||void 0===s?void 0:s.length)&&(null===O||void 0===O?void 0:O.periods[0]),h=p.interval,g=void 0===h?0:h,N=p.startEndTime,x=void 0===N?{}:N,E=x.from,I=x.to,T=Qi(E,I,g,null===m||void 0===m?void 0:m.isAvailable,1===j.length&&(null===Pt||void 0===Pt||null===(d=Pt.country)||void 0===d?void 0:d.toUpperCase())===fe,f);return(!T||0===T.length)&&l&&(u||b)}));At(e),Rt(t)}),[Xe,jt,ct,y,re,ee,$,Ce,An,rn,nn]);var kn=function(e){ot("");var t=e?jt+1:jt-1;mt(t),function(e,t,n,a,i){t(!0===e?Object(x.sb)(n[i]):null===a||void 0===a?void 0:a[i])}(rn,ot,Xe,nn,t)},Ln=function(e){sn(e)},Pn=function(){localStorage.setItem("setFav",!0),localStorage.removeItem("renderComp")},Mn=function(e){Pn(),Lt(Object(Xa.l)({data:{storeId:e.id},tenantId:Ft,customerId:ln,dispatch:"dispatch"})),qt(!0)},Fn=function(e){Pn(),Lt(Object(Xa.m)({tenantId:Ft,customerId:ln,storeId:Object(x.sb)(e.id),dispatch:"dispatch"})),qt(!1)};Object(i.useEffect)((function(){Wt&&Yt(!0)}),[m.length]),Object(i.useEffect)((function(){0!==ut||0!==kt||!Et||y||Qt||(Ce.toUpperCase()===$?Object(x.J)(Object(Se.e)(xc.a.contentData.searchStoreHeaderText),Object(Se.e)(ce)):Object(x.J)(Object(Se.e)(xc.a.contentData.searchStoreHeaderText),Object(Se.e)(ae)))}),[ut,kt,Et,y,Qt]);var Hn=function(e,t){var n,i,o,r,s=(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(i=n.status)||void 0===i?void 0:i.currentStatus)===X,d=(e.availableServicesPerChannel&&Object(yi.f)(e.availableServicesPerChannel))[0].services,b=void 0===d?[]:d,v="".concat(e.name[0].value,"_").concat(t);return Object(u.jsx)(c.a.Fragment,{children:s?Object(u.jsx)(Xi,Object(a.a)(Object(a.a)({"data-testid":t,storeName:Object(x.ub)(e.name[0].value),storeDistance:Object(x.qb)(null===e||void 0===e||null===(o=e.distance)||void 0===o?void 0:o.value,null===e||void 0===e?void 0:e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(x.sb)(e.addresses[0].address)},l[0]),{},{storeInfo:e,currentMarket:h,isOpen:s,isMapView:!0,onStoreSelectFinish:C,isMobile:dt,centerIndex:jt,storeLength:Object(x.lb)(rn,null===Xe||void 0===Xe?void 0:Xe.length,null===nn||void 0===nn?void 0:nn.length)}),t):Object(u.jsx)(oc,Object(a.a)(Object(a.a)({orderTypes:b,storeName:Object(x.ub)(e.name[0].value),storeDistance:Object(x.qb)(null===e||void 0===e||null===(r=e.distance)||void 0===r?void 0:r.value,null===e||void 0===e?void 0:e.distance),addresses:Object(x.sb)(e.addresses[0].address),storeStatus:e.summary,onStoreSelectFinish:C,isMobile:dt,isMapView:!0,storeInfo:e,mapText:G,onClick:function(){_n(),An()}},l[0]),{},{onPositionChangeHandler:kn,centerIndex:jt,storeLength:Object(x.lb)(rn,null===Xe||void 0===Xe?void 0:Xe.length,null===nn||void 0===nn?void 0:nn.length)}),v)})},Bn=nn.map((function(e,t){var n,i,o,r;if((null===(n=e.summary)||void 0===n||null===(i=n.status)||void 0===i?void 0:i.currentStatus)===X){var s,d,b=(null===(s=e.summary)||void 0===s||null===(d=s.status)||void 0===d?void 0:d.currentStatus)===X;return b&&Ht++,Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(Xi,Object(a.a)(Object(a.a)({"data-testid":t,storeName:Object(x.ub)(e.name[0].value),storeDistance:Object(x.ub)(e.distance.value),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(x.sb)(e.addresses[0].address)},l[0]),{},{storeInfo:e,currentMarket:h,isOpen:b,onStoreSelectFinish:C,isMobile:dt,loggedIn:Zt,onClickMapHandler:function(){Dn(e,t),_n()},isFavoriteStore:!0,addToFavoriteHandler:function(){Mn(e)},removeFromFavoriteHandler:function(){Fn(e)}}),t)})}if((null===(o=e.summary)||void 0===o||null===(r=o.status)||void 0===r?void 0:r.currentStatus)===ee){Ht++;var v=(e.availableServicesPerChannel&&Object(yi.f)(e.availableServicesPerChannel))[0].services,j=void 0===v?[]:v,O="".concat(e.name[0].value,"_").concat(t);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(oc,Object(a.a)({storeName:Object(x.ub)(e.name[0].value),storeDistance:Object(x.ub)(e.distance.value),orderTypes:j,addresses:Object(x.sb)(e.addresses[0].address),storeStatus:e.summary,mapText:G,isMobile:dt,loggedIn:Zt,onClickMapHandler:function(){Dn(e,t),_n()},isFavoriteStore:!0,addToFavoriteHandler:function(){Mn(e)},removeFromFavoriteHandler:function(){Fn(e)},onStoreSelectFinish:C,storeInfo:e},l[0]),O)})}})),Un=Xe.map((function(e,t){var n,i,o,r;if(De||Ze([]),ut>=I||0===(null===(n=e.summary)||void 0===n||null===(i=n.timings)||void 0===i||null===(o=i.scheduled)||void 0===o||null===(r=o.periods)||void 0===r?void 0:r.length))return null;var s,d,b=(null===(s=e.summary)||void 0===s||null===(d=s.status)||void 0===d?void 0:d.currentStatus)===X;return b&&ut++,Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(Xi,Object(a.a)(Object(a.a)({"data-testid":t,storeName:Object(x.ub)(e.name[0].value),storeDistance:Object(x.ub)(e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(x.sb)(e.addresses[0].address)},l[0]),{},{storeInfo:e,currentMarket:h,isOpen:b,onStoreSelectFinish:C,isMobile:dt,loggedIn:Zt,onClickMapHandler:function(){Dn(e,t),_n()},isFavoriteStore:m.some((function(t){return t.id===e.id})),addToFavoriteHandler:function(){Mn(e)},removeFromFavoriteHandler:function(){Fn(e)}}),t)})})),Gn=function(){var e=-1!==Ce.toLowerCase().indexOf("dine")?oe:Ce;if(o=Object(yi.a)(e,v))return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(hc,{errorMsgToShow:o,onClearTextHandler:Cn,dispositionType:Ce,handleGoBack:A})})},Yn=function(){if(Xe.length===Dt.length&&Dt.length>0){var e=-1!==Ce.toLowerCase().indexOf("dine")?oe:Ce,t=Object(yi.a)(e,v);return Object(x.J)(Object(Se.e)(xc.a.contentData.searchStoreHeaderText),Object(Se.e)(t)),Gn()}if(Xe.length===Ct.length&&Ct.length)return Kn;var n=-1!==Ce.toLowerCase().indexOf("dine")?oe:Ce;return Xe.length&&(o=Object(yi.a)(n,Xe))?Gn():(ut<5&&Un.push(Kn),Un)},Kn=Ct.map((function(e,t){var n=e.availableServicesPerChannel&&Object(yi.f)(e.availableServicesPerChannel),i=Object(x.rb)(n[0]).services,o=void 0===i?[]:i;if(De||Ze([]),kt>=I-ut)return null;kt++;var r="".concat(e.name[0].value,"_").concat(t),s=Xe.findIndex((function(t){return t.id===e.id}));return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(oc,Object(a.a)({storeName:Object(x.ub)(e.name[0].value),storeDistance:Object(x.ub)(e.distance),orderTypes:o,addresses:Object(x.sb)(e.addresses[0].address),storeStatus:e.summary,mapText:G,isMobile:dt,loggedIn:Zt,onClickMapHandler:function(){Dn(e,s),_n()},isFavoriteStore:m.some((function(t){return t.id===e.id})),addToFavoriteHandler:function(){Mn(e)},removeFromFavoriteHandler:function(){Fn(e)},onStoreSelectFinish:C,storeInfo:e},l[0]),r)})})),Vn=function(){switch(Ce.split("-").join(" ").toUpperCase()){case $:return Object(Se.e)(ce);case re:return Object(Se.e)(ae);default:return null}};return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{className:"searchStore-module-form","data-testid":"searchstore-component",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"store-count",children:[Object(u.jsx)("span",{className:"member-signin",children:!Zt&&Object(u.jsxs)("div",{"data-id":T.n.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"memberText",children:[Object(Se.e)(w),Object(u.jsx)("span",{onClick:p,children:Object(u.jsx)(M,{className:"store-signin-link",targettype:L.targetType,href:L.linkUrl,"data-testid":"store-signin-link",children:Object(Se.e)(L.linkText)})})]})}),Object(u.jsx)("span",{children:Object(u.jsxs)(M,{onClickHandler:Tn,className:"store-location-link","data-testid":"useCurrentLocation",children:[Object(u.jsx)(S.a,{"data-testid":"",srcFile:rc,alt:"location",className:"location-img"}),Object(Se.e)(F)]})})]}),Object(u.jsx)("div",{className:"search-address",children:Object(u.jsx)("div",{className:"input-address",children:Object(u.jsx)(jc.a,{"data-testid":"handle-select",value:De,onChange:function(e){e||Cn(),Re(e),Object(x.bb)(e)<3&&pn(!1)},onSelect:Nn,searchOptions:{componentRestrictions:{country:q}},shouldFetchSuggestions:!0,onError:function(e,t){t()},children:function(e){var t=e.getInputProps,n=e.suggestions,i=e.getSuggestionItemProps;e.loading;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"".concat(o||0===ut&&0===kt&&Et&&y&&!Xe.length?"search-container-data error-border":"search-container-data"),children:[Object(u.jsx)(S.a,{"data-testid":"",srcFile:_,alt:"googleMapLocation",className:"google-location-img"}),Object(u.jsx)("input",Object(a.a)({"data-testid":"store-search-input",className:"store-search-input t-2"},t({placeholder:Object(Se.e)(B)}))),De&&Object(u.jsx)("img",{"data-testid":"clear-text-icon",src:Oc,className:"clearTextIcon",onClick:function(){return Cn()}})]}),!!Object(x.r)(Object(x.bb)(n),fn)&&Object(u.jsx)("div",{className:"suggestion-list","data-testid":"suggestionlist-id",children:n.map((function(e,t){var n;if(null===e||void 0===e||null===(n=e.types)||void 0===n?void 0:n.some((function(e){return V.includes(e)}))){var o=e.active?{backgroundColor:z,opacity:Q}:{backgroundColor:J};return Object(u.jsxs)(c.a.Fragment,{children:[0===t&&Object(u.jsx)("div",{className:"suggestion-items suggest-text",id:"suggestion-text","data-testid":"suggestion-item-".concat(t),children:Object(Se.e)(K)}),Object(u.jsx)("div",{style:o,children:Object(u.jsx)("div",Object(a.a)(Object(a.a)({"data-testid":"suggestion-item-".concat(t)},i(e,{className:"suggestion-items",id:"suggestion-items"})),{},{children:Object(u.jsxs)("div",{className:"suggested-address-alignment",children:[Object(u.jsx)("div",{children:Object(u.jsx)(S.a,{"data-testid":"",srcFile:Sn(e.description)?uc:lc,alt:"googleMapLocation",className:"suggetion-pin",id:"suggetion-pin"})}),Object(u.jsx)("div",{className:"suggestion-description",children:e.description})]})}),t)})]})}}))})]})}})})})]}),Object(u.jsx)("div",{className:"my-3 store-form-separation margin-bottom"}),Dc(De,Ye,Z,_n,An),Object(u.jsxs)("form",{className:"form",children:[Object(u.jsxs)("div",{className:"store-count",children:[!!ut&&Object(u.jsx)("span",{"data-testid":"tab-open-store",className:Tc(Zt,rn),onClick:function(){mt(0),Ln(!0)},children:Zt?Object(u.jsxs)("span",{children:[" ","".concat(Object(Se.e)("nearYou"))," (",ut+kt,")"]}):Object(u.jsxs)("span",{children:[ut+kt," ","".concat(Object(Se.e)("nearYou"))]})}),!!kt&&Xe.length===Ct.length&&Xe.length!==Dt.length&&Object(u.jsx)("span",{"data-testid":"tab-closed-store",className:Tc(Zt,rn),onClick:function(){mt(0),Ln(!0)},children:"".concat(Object(Se.e)("nearYou")," (").concat(kt,")")}),0===ut&&0===kt&&Et&&y&&Object(u.jsx)("span",{className:"store-count-title",children:"".concat(Object(Se.e)("nearYou")," (").concat(ut,")")}),Rc(ut,kt,Zt,Ht,{firstTab:rn,setCenterIndex:mt,handleTabChange:Ln}),(!!ut||!!kt)&&Xe.length!==Dt.length&&Object(u.jsx)("div",{"data-testid":"togglemap-id",onClick:function(){mt(0),_n(),yc(rn,An,yn)},children:Object(u.jsxs)(M,{className:"map-link",children:[Object(u.jsx)("span",{children:Object(u.jsx)(S.a,{"data-testid":"",srcFile:Cc(Ye),alt:"map",className:"map-img"})}),Ye?Object(Se.e)(Z):G]})}),0===ut&&0===kt&&Et&&y&&Object(u.jsx)("div",{"data-testid":"show-map-div",onClick:function(){mt(0),_n(),yc(rn,An,yn)},children:Object(u.jsxs)(M,{className:"map-link",children:[Object(u.jsx)("span",{children:Object(u.jsx)(S.a,{"data-testid":"",srcFile:Cc(Ye),alt:"map",className:"map-img"})}),Ye?Object(Se.e)(Z):Object(Se.e)(G)]})})]}),Ye?Object(u.jsx)("div",{className:"order-button-section",children:0===ut&&0===kt&&Et&&y&&Object(u.jsx)("div",{className:"store-card store-card-map-view-error",children:Object(u.jsxs)("div",{className:"no-store",children:[Object(u.jsx)("div",{className:"no-store-icon",children:Object(u.jsx)(S.a,{"data-testid":"",srcFile:$t,alt:"no store"})}),Object(u.jsx)("div",{className:"no-store-text",children:Vn()}),Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClickHandler:xn,children:Object(Se.e)(te)})]})})}):Object(u.jsxs)(u.Fragment,{children:[Object(x.r)(!Qt,Object(x.r)(rn,0!==ut||0!==kt||!Et||y||Xe.length?Yn():En(Vn,xn,ne))),Zt&&!rn&&Object(u.jsx)("div",{className:"order-button-section",children:Bn})]}),Object(u.jsx)("div",{className:"clearfix"}),Object(u.jsx)(gc.a,{open:Gt,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:1e3,onClose:function(){Yt(!1)},children:Object(u.jsxs)(Nc.a,{children:[Object(u.jsx)(S.a,{"data-testid":"",srcFile:bc,alt:"success",className:"success-img"}),"Saved to your favorite store"]})})]})]}),Ye&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"".concat((null===Ce||void 0===Ce?void 0:Ce.toUpperCase())!==se&&"takeawayDineInMap"," delivery-map"),children:[Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(pc,{latLongValue:Le,loadingElement:Object(u.jsx)("div",{style:{height:"100%"}}),containerElement:Object(u.jsx)("div",{style:{height:"400px"}}),mapElement:Object(u.jsx)("div",{style:{height:"100%"}}),passAddress:function(e){Re(e)},isVisible:Ce.toUpperCase()===$||Ce.toUpperCase()===re,isMobile:dt,centerIndex:jt,onPositionChangeHandler:kn,setShowCard:ze,setStoreMarker:Object(x.lb)(rn,(function(e){var t=Xe.findIndex((function(t){return t.location.latitude===e.lat()&&t.location.longitude===e.lng()}));t>-1&&(jt===t&&Rn(),mt(t))}),(function(e){!function(e,t,n,a,i){var c=e.findIndex((function(e){return e.location.latitude===a.lat()&&e.location.longitude===a.lng()}));c>-1&&(i===c&&t(),n(c))}(nn,wn,mt,e,jt)})),storeCardHeight:vn}),qe&&ct&&dt?!o&&Hn(ct,"Selected-Card"):null]}),qe&&ct&&!dt?Object(x.r)(Xe.length===Ct.length,rn)?!o&&function(e,t){var n=e.availableServicesPerChannel&&Object(yi.f)(e.availableServicesPerChannel),i=Object(x.rb)(n[0]).services,o=void 0===i?[]:i,r="".concat(e.name[0].value,"_").concat(t);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(oc,Object(a.a)(Object(a.a)({storeName:Object(x.ub)(e.name[0].value),storeDistance:Object(x.ub)(e.distance),orderTypes:o,addresses:Object(x.sb)(e.addresses[0].address),storeStatus:e.summary,mapText:G,isMobile:dt,isMapView:!0,onStoreSelectFinish:C,onClick:function(){_n(),An()},storeInfo:e},l[0]),{},{centerIndex:jt,storeLength:Object(x.lb)(rn,null===Xe||void 0===Xe?void 0:Xe.length,null===nn||void 0===nn?void 0:nn.length)}),r)})}(ct,"Selected-Card"):Hn(ct,"Selected-Card"):""]})})]})}));function Dc(e,t,n,a,i){return Object(u.jsx)(u.Fragment,{children:(null===e||void 0===e?void 0:e.length)<=3&&Object(u.jsxs)("div",{className:"enter-your-address-section",children:[Object(u.jsx)("span",{className:"search-store-text",children:Object(Se.e)("pleaseEnterLocation")}),Object(u.jsx)("div",{"data-testid":"show-list-map",className:Object(x.lb)(t,"store-count","show-map-div"),onClick:function(){t&&a(),i()},children:Object(u.jsxs)(M,{className:"map-link",children:[Object(u.jsx)("span",{children:Object(u.jsx)(S.a,{"data-testid":"",srcFile:Cc(t),alt:"map",className:"map-img"})}),Object(x.lb)(t,Object(Se.e)(n),Object(Se.e)("map"))]})})]})})}function Rc(e,t,n,a,i){var c=i.firstTab,o=i.setCenterIndex,r=i.handleTabChange;return Object(u.jsx)(u.Fragment,{children:(!!e||!!t)&&n&&Object(u.jsx)("span",{"data-testid":"tab-favorite-store",className:Ic(c),onClick:function(){o(0),r(!1)},children:"".concat(Object(Se.e)("savedkfc")," (").concat(a,")")})})}var wc=function(e){return!0===e.includes(",")?e.replace(",",", "):e},kc=function(e){var t,n,a=e.onMapClickHandler,i=e.startOrderFormSavedAddress,o=Si.a.SAVED_ADDRESS,r=Si.a.START_ORDER_TEXT,s=Object(N.c)((function(e){return e.profileReducer})).savedAddresses,d=null===(t=s.filter((function(e){return e.isPrimary}))[0])||void 0===t||null===(n=t.addressLines)||void 0===n?void 0:n.join(" ");return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"savedAddress-store-count",children:[Object(u.jsx)("span",{className:"saved-address-count-title",children:"".concat(Object(Se.e)(o)).concat(s.length>1?"es  ":""," (").concat(s.length,")")}),Object(u.jsx)("div",{"data-testid":"saved-map-link",onClick:function(e){return a(e,"",d)},children:Object(u.jsxs)(M,{className:"map-link",children:[Object(u.jsx)("span",{children:Object(u.jsx)(S.a,{"data-testid":"",srcFile:sc,alt:"map",className:"map-img"})}),"Map"]})})]}),s.map((function(e){return Object(u.jsx)("div",{className:"savedAddress-module-card",children:Object(u.jsxs)("div",{className:"inside-card",children:[Object(u.jsxs)("div",{className:"address-section",children:[Object(u.jsxs)("div",{className:"address-type",children:[e.name," : "]}),Object(u.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(u.jsxs)("span",{children:[" ",wc(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(u.jsxs)("span",{children:[" ",wc(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(u.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(u.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(u.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(u.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)(Ot.a,{className:"button redButton search-store-card-btn",onClickHandler:function(t){return function(e,t){var n,a=t.location,c={userLat:a.latitude,userLong:a.longitude},o=(null===t||void 0===t||null===(n=t.addressLines)||void 0===n?void 0:n.reduce((function(e,t){return e+" "+t})))+", "+(null===t||void 0===t?void 0:t.city)+", "+(null===t||void 0===t?void 0:t.state)+", "+(null===t||void 0===t?void 0:t.country);i(o,c)}(0,e)},"data-testid":"savedaddress-click-test",children:Object(Se.e)(r)})})]})})}))]})})},Lc=Si.a.MIN_SEARCH_CHARACTER_LIMIT,Pc=Si.a.SUUGESTED_ITEMS_TEXT,Mc=Si.a.ALLOWED_SUGGESTION_LIST,Fc=Si.a.ALREADY_SERACHED_LOCATIONS,Hc=Si.a.COUNTRY_CODE,Bc=Si.a.SUGGESTION_ACTIVE_COLOR,Uc=Si.a.SUGGESTION_ACTIVE_OPACITY,Gc=Si.a.BRAND_BLACK,Yc=(Si.a.COLOR_BLACK,Si.a.CONFIRM_BUTTON_TEXT),Kc=Si.a.LOCATION_WARNING_MESSAGE,Vc=Si.a.RETRY_TEXT,Wc=Si.a.USE_THIS_ADDRESS_TEXT,qc=Si.a.DELIVERY_UNAVAILABLE,zc=Si.a.DELIVERY_UNAVAILABLE_WITH_CTA,Qc=Si.a.NOTAVAILABLE,Jc=Si.a.CTA1_SEARCH_DIFF_ADDRESS,Xc=Si.a.TAKE_AWAY,Zc=Si.a.CTA2_ORDER_TAKEAWAY,$c=function(e,t){t()},eo=function(e){var t,n,a=e.eligibleStoreData,i=e.suggestedAddress,c=e.setNegativeScenarioAlert,o=e.getNegativeView,r=null===a||void 0===a?void 0:a.filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(a=n.catalogs)||void 0===a?void 0:a.length)>0})),s=r.filter((function(e){var t,n,a,i,c,o,r="CLOSED"===e.summary.status.currentStatus,s=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n||null===(a=n.message)||void 0===a?void 0:a.indexOf("EMERGENCY_SHUTDOWN")),d=-1!==(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(c=i.status)||void 0===c||null===(o=c.message)||void 0===o?void 0:o.indexOf("TECHNICAL_SHUTDOWN"));return r&&(s||d)})),d=Object(yi.a)("delivery",r);return Object(x.qb)(d,Object(x.qb)(!(null===(t=i[0])||void 0===t?void 0:t.description),(null===s||void 0===s?void 0:s.length)===r.length))?(Object(x.r)((null===s||void 0===s?void 0:s.length)===(null===r||void 0===r?void 0:r.length),null===r||void 0===r?void 0:r.length)?d=qc:(null===(n=i[0])||void 0===n?void 0:n.description)||(d=zc),c(d),Object(x.J)(Object(Se.e)(xc.a.contentData.deliveryHeaderText),Object(Se.e)(d)),o(d)):void 0},to=function(e){var t,n=e.formContent,o=void 0===n?{}:n,r=e.userPositionHandler,s=e.singInClickhandler,d=e.eligibleStoreData,l=o.memberText,b=void 0===l?"":l,v=o.singInLink,O=void 0===v?{}:v,m=o.currentLocationText,f=void 0===m?"":m,p=o.addressBoxPlaceHolderForDelivery,h=void 0===p?"":p,g=T.R.RETAIN_ADDRESS,I=Ae.a.SCHEDULE_ORDER_DATA,C=Ae.a.DISPOSITION_METHOD,A=Object(N.c)((function(e){return e.appStateReducer.userStatus})),y=Object(x.sb)(A).loggedIn,D=Object(i.useContext)(E.a),R=D.userOrderState,w=D.userOrderStateDispatch,k=R.searchStoreData,L=void 0===k?{}:k,P=R.dispositionStateData,F=void 0===P?{}:P,H=Object(i.useState)(""),B=Object(j.a)(H,2),U=B[0],G=B[1],Y=Object(i.useState)(!1),K=Object(j.a)(Y,2),V=K[0],W=K[1],q=Object(i.useState)(!1),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(i.useState)(!1),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te=Object(i.useState)({lat:28.7,lng:77.1}),ne=Object(j.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(i.useState)(!1),oe=Object(j.a)(ce,2),re=oe[0],se=oe[1],de=Object(i.useState)(!1),le=Object(j.a)(de,2),ve=le[0],je=le[1],Oe=Object(i.useState)([]),me=Object(j.a)(Oe,2),fe=me[0],pe=me[1],he=Object(i.useState)(""),ge=Object(j.a)(he,2),Ne=ge[0],xe=ge[1],Ee=Object(i.useRef)(null),Ie=Object(i.useState)(""),Te=Object(j.a)(Ie,2),Ce=Te[0],ye=Te[1],_e=Object(i.useState)(""),De=Object(j.a)(_e,2),Re=De[0],we=De[1],ke=Object(i.useState)(!1),Le=Object(j.a)(ke,2),Pe=Le[0],Me=Le[1],Fe=Object(i.useState)(!1),He=Object(j.a)(Fe,2),Be=He[0],Ue=He[1],Ge=Object(i.useState)(!1),Ye=Object(j.a)(Ge,2),Ke=Ye[0],Ve=Ye[1],We=Object(i.useState)(""),qe=Object(j.a)(We,2),ze=qe[0],Qe=qe[1],Je=Object(i.useState)(!1),Xe=Object(j.a)(Je,2),Ze=Xe[0],$e=Xe[1],et=F.dispositionType,tt=void 0===et?localStorage.getItem("dispositionType"):et,nt=Object(i.useState)({}),at=Object(j.a)(nt,2),it=at[0],ct=at[1],ot=Object(N.c)((function(e){var t,n,a,i;return(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading)||(null===(n=e.storesReducer)||void 0===n?void 0:n.isStoreStatusLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isNearByStoresLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isStoreTimeSlotsLoading)}));Object(i.useEffect)((function(){Object(yi.d)(ve,Re,xc.a)}),[ve,Re]);var rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(hc,{errorMsgToShow:Object(x.qb)(Re,e),onClearTextHandler:mt,onRetryClickHandler:dt,onMapClickHandler:st,dispositionType:tt,showMap:$})})},st=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.preventDefault(),Object(yi.h)($,tt),ee(!0),we(!1),t&&!U&&ut(t)},dt=function(e){Ee.current.select(),W(!1),se(!1),we(!1),je(!1)},lt=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=eo({eligibleStoreData:d,suggestedAddress:fe,setNegativeScenarioAlert:we,getNegativeView:rt}),!(U.length>0&&ve&&a||!d[0]&&a)){e.next=3;break}return e.abrupt("return");case 3:(null===(n=fe[0])||void 0===n?void 0:n.description)&&w({type:I,value:{deliveryAddress:Ne,showScheduleOrder:!0,selectedStoreInfo:Object(x.sb)(d[0])}}),se(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Object(be.a)(ue.a.mark((function e(t,n,a){var i,c,o,s,d=arguments;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.length>3&&void 0!==d[3]&&d[3],$e(!1),Qe(""),Object(x.r)(null===n,null===a)&&(null===(i=fe[0])||void 0===i?void 0:i.description)&&je(!0),Me(!0),se(!0),e.next=9,Object(vc.geocodeByAddress)(t);case 9:return o=e.sent,e.next=12,Object(vc.getLatLng)(o[0]);case 12:s=e.sent,ie(s),bt(t),G(t),c||W(!0),r({userLat:s.lat,userLong:s.lng}),J(!1);case 19:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){var e,t=null===(e=localStorage)||void 0===e?void 0:e.getItem(g);pe([{description:t}]),ut(t,{},{})}),[]),Object(i.useEffect)((function(){var e=null===d||void 0===d?void 0:d.filter((function(e){var t,n;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.menu)||void 0===n?void 0:n.catalogs[0])!==Qc})),t=null===e||void 0===e?void 0:e.filter((function(e){var t,n;return"CLOSED"!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)}));Ze&&ze&&t&&(null===t||void 0===t?void 0:t.length)>=1?(Ve(!1),w({type:I,value:{deliveryAddress:ze,showScheduleOrder:!0,selectedStoreInfo:t[0]}})):ze&&Ve(!0)}),[d,ze,Ze]),Object(i.useEffect)((function(){}),[ae]);Object(i.useEffect)((function(){(null===U||void 0===U?void 0:U.length)>2?W(!ve):(W(!1),je(!1),we(""));var e=Object(x.c)(U,Lc);Ue(e)}),[U]),Object(i.useEffect)((function(){Q&&(G(Ce),bt(Ce),J(!1))}),[L]);var bt=function(e){Object(x.Pb)(e,Fc)},vt=function(){var e=Object(be.a)(ue.a.mark((function e(){var t,n,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya.b.BindLocation();case 2:Object(yi.l)(),pe([]),ya.b.coordinates&&(t=ya.b.coordinates,n=t.latitude,a=t.longitude,ya.b.addFeedback("Check coordinates ".concat(JSON.stringify(ya.b.coordinates))),ya.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:n,userLong:a}))),ya.b.addFeedback("Check address ".concat(ya.b.address)),r({userLat:n,userLong:a}),ye(ya.b.address),G(ya.b.address),ut(ya.b.address),J(!0),pe([{description:ya.b.address}]));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jt=function(e){return t=e,Object(x.rb)(JSON.parse(localStorage.getItem(Fc))).includes(t);var t},mt=function(){G(""),W(!1),we(""),pe(""),Ve(!1)},ft=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie({lat:n.userLat,lng:n.userLong}),$e(!0),G(t),ct(n),bt(t),Qe(t),r(n);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{className:"delivery-module-form","data-testid":"delivery-component",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"login-section",children:[Object(u.jsx)("span",{className:"delivery-member-signin",children:!y&&io(b,s,O)}),Object(u.jsx)("span",{children:Object(u.jsxs)(M,{onClickHandler:vt,className:"delivery-location-link","data-testid":"use-my-location",children:[Object(u.jsx)(S.a,{"data-testid":"",srcFile:rc,alt:" ",className:"location-img"}),Object(Se.e)(f)]})})]}),Object(u.jsxs)("div",{className:"delivery-address-section",children:[Object(u.jsx)("div",{className:"search-delivery-address",children:Object(u.jsx)("div",{className:"input-delivery-address",children:Object(u.jsx)(jc.a,{value:U,onChange:function(e){Me(!1),se(!1),G(e),function(e,t,n){(null===e||void 0===e?void 0:e.length)<3&&(t(""),n(!1))}(e,pe,Ue),$e(!1),Qe(""),Ve(!1)},onSelect:ut,searchOptions:{componentRestrictions:{country:Hc}},shouldFetchSuggestions:!0,onError:$c,children:function(e){var t=e.getInputProps,n=e.suggestions,i=e.getSuggestionItemProps;e.loading;return Object(u.jsxs)("div",{children:[Object(u.jsx)(S.a,{"data-testid":"",srcFile:_,alt:" ",className:"google-location-img"}),Object(u.jsx)("input",Object(a.a)({"data-testid":"store-search-input","aria-label":"Enter your delivery address",className:"".concat(Object(x.lb)(Object(x.qb)(ve,Re),"store-search-input error-border mt-2","store-search-input mt-2"))},t({placeholder:Object(Se.e)(h),ref:Ee}))),U&&Object(u.jsx)("img",{src:Oc,className:"clearTextIcon",onClick:mt}),Object(x.r)(Object(x.bb)(n),Be)?Object(u.jsx)("div",{className:"suggestion-list",children:n.map((function(e,t){var o;if(null===e||void 0===e||null===(o=e.types)||void 0===o?void 0:o.some((function(e){return Mc.includes(e)}))){pe(n);var r=Object(x.lb)(e.active,{backgroundColor:Bc,opacity:Uc},{backgroundColor:Gc});return Object(u.jsxs)(c.a.Fragment,{children:[0===t&&Object(u.jsx)("div",{className:"suggestion-items suggest-text",children:Object(Se.e)(Pc)}),Object(u.jsx)("div",{style:r,children:Object(u.jsx)("div",Object(a.a)(Object(a.a)({},i(e,{className:"suggestion-items"})),{},{children:Object(u.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(u.jsx)("div",{children:Object(u.jsx)(S.a,{"data-testid":"",srcFile:Object(x.lb)(jt(e.description),uc,lc),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(u.jsx)("div",{className:"suggestion-description",children:e.description})]})}),t)})]})}}))}):null]})}})})}),Object(u.jsx)("form",{children:Object(u.jsx)(Ot.a,{className:"button blackButton blackBorder delivery-confirm-button","data-testid":"btn-confirm",disabled:!V,onClick:function(e){var t;if(e.preventDefault(),Ze)return Ke&&W(!1),void ft(U,it);if(!(Pe&&eo({eligibleStoreData:d,suggestedAddress:fe,setNegativeScenarioAlert:we,getNegativeView:rt})||!(null===(t=fe[0])||void 0===t?void 0:t.description)&&eo({eligibleStoreData:d,suggestedAddress:fe,setNegativeScenarioAlert:we,getNegativeView:rt}))){if(we(""),!re){var n,a,i=null===(n=fe[0])||void 0===n?void 0:n.description;return xe(i),(null===(a=fe[0])||void 0===a?void 0:a.description)&&je(!0),W(!1),void ut(i,null===fe||void 0===fe?void 0:fe.placeId,fe,!0)}d[0]&&(se(!1),w({type:I,value:{deliveryAddress:U,showScheduleOrder:!0,selectedStoreInfo:d[0]}}))}},children:Object(Se.e)(Yc)})})]})]}),Ke&&!ot&&Object(u.jsxs)("div",{className:"error-popup-saved-address error-popup-saved-address-map-view1",children:[Object(u.jsx)(S.a,{srcFile:$t,className:"location-alert-icon"}),Object(u.jsx)("div",{className:"location-error-address",children:Object(Se.e)(qc)}),Object(u.jsxs)("div",{className:"location-error-button-section",children:[Object(u.jsx)(Ot.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:function(e){return Ve(!1)},children:Object(Se.e)(Jc)}),Object(u.jsx)(Ot.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:function(e){e.preventDefault(),w({type:C,value:{dispositionType:Xc}})},children:Object(Se.e)(Zc)})]})]}),!$&&Object(u.jsx)("div",{className:"my-3 store-form-separation"}),$||y||ve||Re?null:ao(st),!ve&&y&&!Re&&!$&&!Ke&&Object(u.jsx)(kc,{userPositionHandler:r,startOrderFormSavedAddress:ft,allowOrderNow:Ke,onMapClickHandler:st})]}),U.length>0&&Object(x.r)(ve,!Re)?Object(u.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[Object(u.jsx)(S.a,{srcFile:$t,className:"location-alert-icon"}),Object(u.jsx)("div",{className:"location-error-message",children:Object(Se.e)(Kc)}),Object(u.jsx)("div",{className:"location-error-address",children:Object(x.qb)(null===(t=fe[0])||void 0===t?void 0:t.description,U)}),Object(u.jsxs)("div",{className:"location-error-button-section",children:[Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder location-warning-button mr",onClick:dt,children:Object(Se.e)(Vc)}),Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder location-warning-button ml","data-testid":"use-this-address",onClick:lt,children:Object(Se.e)(Wc)})]})]}):Re&&rt(),$?no(ve,ae,(function(e){G(e)}),Re):null]})};function no(e,t,n,a){return Object(u.jsx)("div",{className:"delivery-map deliver-map-zoom ".concat(Object(x.lb)(e,"pointer-disabled","")),children:Object(u.jsx)("div",{"data-testid":"view-map-div",className:"view-map",children:Object(u.jsx)(pc,{"data-testid":"map-comp",latLongValue:t,passAddress:n,locationAlertProp:e,negativeScenarioAlertProp:a,locationAlert:e})})})}function ao(e){return Object(u.jsx)("div",{className:"map-button-form",children:Object(u.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:e,children:[Object(u.jsx)("span",{className:"delivery-map-text",children:Object(Se.e)("pleaseEnterLocation")}),Object(u.jsxs)(M,{className:"map-link",children:[Object(u.jsx)("span",{children:Object(u.jsx)(S.a,{"data-testid":"",srcFile:sc,alt:" ",className:"map-img"})}),Object(Se.e)("map")]})]})})}function io(e,t,n){return Object(u.jsxs)("div",{"data-id":T.n.HEADER_SIGN_IN_ATTR_DATA_ID,children:[Object(Se.e)(e),Object(u.jsx)("span",{onClick:t,children:Object(u.jsx)(M,{targetType:n.targetType,href:n.linkUrl,className:"delivery-signin-link",children:Object(Se.e)(n.linkText)})})]})}var co,oo,ro=function(e){var t=e.handleClose,n=e.handleGoBack,a=e.orderModeTypeItem,i=e.headerText,o=e.modalTitleId,r=void 0===o?"":o;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:r,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:n,modalTitle:i,autoFocus:!0,children:a})})},so=n(25),lo=[],uo="",bo=function(e,t){var n,i;i=e&&e.rows&&e.rows[0].elements.map((function(e){return e}));var c=e&&e.originAddresses&&e.originAddresses[0]||"";n=lo.map((function(e,t){return Object(a.a)(Object(a.a)({},e),i[t])})),oo(n,c)},vo=function(e,t,n){(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:Object(so.a)(e).slice(0,24),destinations:Object(so.a)(t).slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},jo),co=n},jo=function(e,t){if(t===Si.a.OK_STATUS){var n,a=e&&e.rows&&e.rows.map((function(e){return e}));n=null===a||void 0===a?void 0:a.map((function(e){return e.elements[0]})),uo=e&&e.originAddresses||[],co({allStoreDistance:n,originAddressText:uo})}},Oo=n(137),mo=n(281),fo=function(e){var t=e.contentData,n=void 0===t?{}:t,o=e.onStoreSelectFinish,r=Ae.a.SEARCH_ORDER_DATA,s=Ae.a.DISPOSITION_DATA,d=Ae.a.ANALYTICS_LOCALISATION_SIGNIN,l=Object(N.b)(),b=Si.a.COUNTRY_CODE,v=Si.a.STORE_CARD_LIMIT,O=Si.a.TYPE_TAKE_WAY,m=Si.a.PICK_UP,f=Si.a.TENANT_ID,p=Si.a.TENATNT_SESSION_ID,h=Si.a.TYPE_DELIVERY,g=Object(i.useContext)(E.a),I=g.userOrderState,T=g.userOrderStateDispatch,S=I.dispositionStateData,C=I.searchStoreData,A=Object(x.ub)(S).dispositionType,y=void 0===A?localStorage.getItem("dispositionType"):A,_=C.currentMarket,D=void 0===_?b:_,R=C.storeCardLimit,w=void 0===R?v:R,k=C.storeStatusUrl,L=void 0===k?"".concat(Object(Lt.a)(Ht.G),"v1/stores/{storeid}/{channel}/{service}/status"):k,P=C.tenantID,M=void 0===P?f:P,F=C.tenantSessionID,H=void 0===F?p:F,B=n.searchStoreHeaderText,U=void 0===B?"":B,G=n.deliveryHeaderText,Y=void 0===G?"":G,K=n.searchStoreModalContent,V=void 0===K?{}:K,W=V.formContent,q=void 0===W?{}:W,z=V.locationsContent.storeData,Q=void 0===z?[]:z,J=c.a.useState([]),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=c.a.useState({}),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=c.a.useState([]),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=c.a.useState([]),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(N.c)((function(e){return Object(x.sb)(e.tenantReducer)})),ve=be.storeSearch,je=void 0===ve?{}:ve,Oe=be.tenantId,me=Object(N.c)((function(e){return Object(x.sb)(e.storesReducer)})),fe=me.allStores,pe=void 0===fe?[]:fe,he=me.storesWithStatus,ge=void 0===he?[]:he,Ne=me.isStoreStatusLoading,xe=void 0!==Ne&&Ne,Ee=je.maxDriveTimeMins,Ie=je.distanceMetrics,Te=je.maxDeliveryDistanceMtrs,Ce=je.maxPickupDistanceMtrs,ye=je.geohashprecision,_e=je.boundingBoxSizeMeters,De=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),T({type:s,value:{showDisposition:!1}}),T({type:r,value:{showSearchStore:!1}})};Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&De(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var Re=function(e){e.stopPropagation(),e.preventDefault(),T({type:s,value:{showDisposition:!0}}),T({type:r,value:{showSearchStore:!1}})},we=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem(d,JSON.stringify(!0)),Object(yi.i)(),setTimeout((function(){Object(x.g)()}),500)},ke=Object(N.c)((function(e){return e.profileReducer.favouriteStores}));Object(i.useEffect)((function(){Le({userLat:ne.userLat,userLong:ne.userLong})}),[ke.length]),Object(i.useEffect)((function(){pe.length>0&&Be(pe)}),[pe]),Object(i.useEffect)((function(){ge.length>0&&Ve(ge)}),[ge]),Object(i.useEffect)((function(){(null===y||void 0===y?void 0:y.toUpperCase())===h&&Ue(le)}),[le]);var Le=function(e){!function(e,t,n,a){if(e,t,oo=a,(lo=n).length>0){var i=lo.map((function(e){var t=e&&e.storeBasic.location;return{lat:t.latitude,lng:t.longitude}})),c=[{lat:e,lng:t}];(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[].concat(c).slice(0,24),destinations:Object(so.a)(i).slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},bo)}else oo([],"")}(e.userLat,e.userLong,ke,Pe)},Pe=function(e,t){var n=Object(x.lb)((null===y||void 0===y?void 0:y.toUpperCase())===O,m,y),a=L.replace("{channel}",ya.b.channel).replace("{service}",n).replace(" ","-"),i=Object(kt.a)();Object(yi.g)(e,a.toLowerCase(),M,H||Object(kt.a)(),i,Me)},Me=function(e){var t=e.map((function(e){var t=e.storeBasic,n=t.additionalProperties,i=void 0===n?[]:n,c=t.address,o=t.amenities,r=t.dname,s=t.id,d=t.location;return Object(a.a)(Object(a.a)({},e),{},{id:s,location:d,name:r,amenities:o,addresses:c,additionalAttributes:i,storeBasic:{}})}));re(t)},Fe=function(e){l(Object(mo.b)()),ae({userLat:e.userLat,userLong:e.userLong}),Z&&$([]),He(e.userLat,e.userLong),setTimeout((function(){l(Object(mo.a)())}),2e3)},He=function(e,t){var n={lat:e,lon:t,distanceFromCurrentLoc:_e/1e3,geohashprecision:ye},a=Oo.a.calculateGH(n);l(Object(Xa.k)(null===a||void 0===a?void 0:a.length))},Be=function(e){var t=Object(x.I)(y.toUpperCase()),n=e.filter((function(e){var t,n;return Object(x.Lb)(e.id)&&Object(x.Lb)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(x.Lb)(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)})),a={stores:n,disposition:t,distanceMetrics:Ie,driveTime:Ee,distanceInMtrs:Object(x.lb)(y.toUpperCase()===h,Te,Ce),noOfStores:Object(x.lb)(y.toUpperCase()===h,2,n.length)},i=Oo.a.checkAndProceed(a);ue(i),y.toUpperCase()===h?Ue(i):Ke(i,t)},Ue=function(e){var t=[];null===e||void 0===e||e.forEach((function(e){var n,a;t.push({lat:null===(n=e.location)||void 0===n?void 0:n.latitude,lng:null===(a=e.location)||void 0===a?void 0:a.longitude})})),vo(t,[{lat:ne.userLat,lng:ne.userLong}],Ge)},Ge=function(e){var t=e.allStoreDistance,n=(e.originAddressText,Object(x.I)(y.toUpperCase())),a={stores:Ye(t,le),numberOfStores:2,disposition:n,distanceMetrics:Ie,driveTime:Ee,distanceInMtrs:Object(x.lb)((null===y||void 0===y?void 0:y.toUpperCase())===h,Te,Ce)},i=Oo.a.getSortedNearbyStores(a);(null===i||void 0===i?void 0:i.length)>0&&Ke(i,n)},Ye=function(e,t){return null===t||void 0===t?void 0:t.map((function(t,n){return Object(a.a)(Object(a.a)({},t),{},{distance:e[n]})}))},Ke=function(e,t){var n={data:null===e||void 0===e?void 0:e.map((function(e){return{storeId:e.id,channel:ya.b.channel,service:t}})),store:e,tenantId:Oe,setStatusFlag:!1,isFavoritePage:!1};l(Object(Xa.c)(n))},Ve=function(e){var t=e.filter((function(e){var t,n,a,i,c,o,r,s,d,l,u,b;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)&&(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(o=c.menu)||void 0===o||null===(r=o.catalogs)||void 0===r?void 0:r.length)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(d=s.timings)||void 0===d||null===(l=d.operatingHours)||void 0===l?void 0:l.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(b=u.timings)||void 0===b?void 0:b.asap)}));$(t)},We=(null===y||void 0===y?void 0:y.toUpperCase())===h?Object(u.jsx)(to,{singInClickhandler:we,formContent:q,storeData:Q,onStoreSelectFinish:o,eligibleStoreData:Z,storeCardLimit:w,userPositionHandler:Fe,currentMarket:D}):Object(u.jsx)(_c,{singInClickhandler:we,formContent:q,storeData:Q,eligibleStoreData:Z,noStoresList:xe,storeCardLimit:w,userPositionHandler:Fe,currentMarket:D,onStoreSelectFinish:o,handleGoBack:Re,favoriteStoreData:oe,favoriteStoreHandler:Le});return Object(u.jsx)(ro,{handleClose:De,orderModeTypeItem:We,headerText:Object(x.lb)((null===y||void 0===y?void 0:y.toUpperCase())===h,Object(Se.e)(Y),Object(Se.e)(U)),handleGoBack:Re,modalTitleId:"search-store"})};fo.defaultProps=xc.a;var po=fo,ho=n.p+"static/media/clock.264bac4c.svg",go={contentData:{contentText:"HOW WOULD YOU LIKE TO RECEIVE YOUR ORDER ?",infoObject:{type:"info",infoText:"Manu availability and pricing may vary between order types."},desktopImages:{alt:"",src:""},orderTypes:[{buttonText:"Delivery",selectDefault:!1,type:"delivery",showOption:!0},{buttonText:"Take Away",selectDefault:!1,type:"takeAway",showOption:!0},{buttonText:"Dine In",selectDefault:!1,type:"dineIn",showOption:!0}],storeSection:{storeName:"Takeaway from: KFC Fort Street",orderTimeStart:"4:00",orderTimeEnd:"4:30pm",buttonText:"Change"}}},No="CLOSED",xo={TAKEAWAY:"PICKUP",ORDER_TYPE_STORE_INFO_FROM:"from",ORDER_TYPE_STORE_INFO_TO:"to",ORDER_TYPE_STORE_INFO_AT:"at",HOMEPATH:"",HOMEPATHSELECT:"/"},Eo=function(e,t,n){var a,i,c,o,r,s=(null===t||void 0===t||null===(a=t.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)||No,d=Object(x.sb)(null===t||void 0===t||null===(c=t.summary)||void 0===c?void 0:c.timings),l=d.futureDates,u=d.scheduled,b=d.asap,v=Object(x.sb)(u).unavailibilities,j=Object(x.sb)((null===u||void 0===u||null===(o=u.periods)||void 0===o?void 0:o.length)&&(null===u||void 0===u?void 0:u.periods[0])),O=j.interval,m=void 0===O?0:O,f=j.startEndTime,p=void 0===f?{}:f,h=Object(x.sb)(p),g=h.from,N=h.to,E=Qi(g,N,m,null===b||void 0===b?void 0:b.isAvailable,1===(null===l||void 0===l?void 0:l.length)&&"INDIA"===(null===n||void 0===n||null===(r=n.country)||void 0===r?void 0:r.toUpperCase()),v);if(s===No&&!E.length)return Object(Se.e)("outOfService");var I=e.time,T=e.interval,S="object"==typeof e.date?e.date:new Date(e.date),C=Object(ye.r)(Object(ye.e)(S,"YYYY-MM-DD")+" "+I,"YYYY-MM-DD hh:mm A"),A=Object(ye.a)(C,T,"minutes"),y=Object(ye.f)(A,"LT");return"ASAP"===I?"".concat(I):"".concat(I," - ").concat(y)},Io=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"orderType",dispositionSelected:t}),e.next=4,je.a.registerEvent(void 0,{data:n[0]},x.E);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),To=function(e){var t,n=e.contentData,a=void 0===n?{}:n,r=e.clickHandler,s=void 0===r?null:r,d=e.dispositionChange,l=e.activeDisposition,b=e.selectedInfo,v=void 0===b?{}:b,O=e.showBlackStripeContent,m=void 0===O||O,f=e.headerTrackOrder,p=a.headline,h=void 0===p?"":p,g=a.subHeadline,E=void 0===g?null:g,I=a.supportedDispositionsData,T=void 0===I?[]:I,C=a.src,A=void 0===C?"":C,y=a.alt,D=a.ariaLabel,R=void 0===D?"":D,w=Object(N.c)((function(e){return e.tenantReducer})),k=Object(o.g)(),L=go.contentData.storeSection,P=xo.ORDER_TYPE_STORE_INFO_FROM,M=xo.ORDER_TYPE_STORE_INFO_TO,F=xo.ORDER_TYPE_STORE_INFO_AT,H=xo.HOMEPATHSELECT,B=xo.HOMEPATH,U=L.buttonText,G=Object(x.Ab)(v.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):v.dispositionNew,Y=G?G.type:"",K=G?G.store:{},V=G?G.date:"",W=G?G.time:"",q=G?G.interval:0,z=Object(x.sb)(null===G||void 0===G?void 0:G.store),Q={date:V,time:W,interval:q},J=Object(i.useState)(!1),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee="Delivery"===Y?M:"Pickup"===Y?P:F;return Object(i.useEffect)((function(){(null===k||void 0===k?void 0:k.pathname)===B||(null===k||void 0===k?void 0:k.pathname)===H?$(!0):$(!1)}),[k,B,H]),Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Bb)(K)&&m&&Object(u.jsx)("div",{className:"headerBottom content-ribbon","data-testid":"select-start-order-items",children:Object(u.jsxs)("div",{className:"headBottomParent content-parent",children:[Object(u.jsxs)("div",{className:"headBottomTxt content-text",children:[Object(u.jsxs)("div",{className:"store-location",children:[Object(u.jsx)("div",{children:Object(u.jsx)(S.a,{srcFile:_,alt:y||"location-icon",className:"content-location-img"})}),Object(u.jsx)("div",{className:"content-stroe-wrap",children:Object(u.jsxs)("span",{className:"content-store address",children:[Object(x.H)(Y)," ",ee,":"," ","delivery"===Y.toLowerCase()?null===G||void 0===G?void 0:G.deliveryAddress:null===K||void 0===K||null===(t=K.summary)||void 0===t?void 0:t.name]})})]}),Object(u.jsxs)("div",{className:"content-time",children:[Object(u.jsx)("span",{children:Object(u.jsx)(S.a,{srcFile:ho,alt:y||"location-icon",className:"content-clock-img"})}),Object(u.jsxs)("span",{className:"content-store",children:[" ",Q&&Eo(Q,z,w)]})]})]}),Object(u.jsx)(Ot.a,{className:"button transparent-btn white-border change-store-btn","aria-label":R||U,onClickHandler:function(e){return s(e,K)},id:"changeOrderItemButton",type:"submit",children:Object(u.jsx)("span",{children:U})})]})}),f&&f(),Z?Object(u.jsxs)("div",{className:"select-content-disposition",children:[Object(u.jsx)("div",{className:"stripes",children:Object(u.jsx)(S.a,{srcFile:A,alt:y||""})}),Object(u.jsx)("div",{className:"disposition-headline",children:h}),Object(u.jsx)("div",{role:"alert",className:"disposition-info-text",children:Object(u.jsx)("span",{children:E})}),Object(u.jsx)("div",{className:"disposition-btns mb-2",children:T.map((function(e){var t;return Object(u.jsx)(Ot.a,{className:l===(null===e||void 0===e||null===(t=e.dispositionType)||void 0===t?void 0:t.toUpperCase())?"button grayButton active-disposition":"button grayButton",onClickHandler:function(t){var n;d(t,null===e||void 0===e||null===(n=e.dispositionType)||void 0===n?void 0:n.toUpperCase())},"aria-label":e.buttonText,children:e.buttonText},e.buttonText)}))})]}):null]})},So=n(377),Co=n.n(So),Ao=(n(616),n.p+"static/media/dropdownArrowBlack.38def97e.svg"),yo=n.p+"static/media/Calendar.a9e4b392.svg",_o=function(e,t,n){return-1===(null===e||void 0===e?void 0:e.pathname.indexOf(t))&&-1===(null===e||void 0===e?void 0:e.pathname.indexOf(n))},Do=function(e){return"ASAP"!==e&&"-"!==e?e:Object(ye.s)(Object(ye.g)(),Si.a.HHMM,Si.a.LT)},Ro=function(e,t){var n={};return"-"!==e&&"ASAP"!==e?n={isForNow:!1,futureDateTime:t}:"ASAP"===e&&(n={isForNow:!0,futureDateTime:0}),n},wo=function(e,t,n){var a=JSON.parse(localStorage.getItem("dispositionNew"));return e&&a?Object(x.H)(a.type):t?T.A.PICKUP:Object(x.H)(n)},ko=Object(o.i)((function(e){var t,n,o,r,s,d,l,b,v,O,m,f=Object(i.useRef)(null),p=Object(i.useRef)(null),h=e.formContent,g=e.location,I=e.onStoreSelectFinish,C=h.orderTypeTitle,A=void 0===C?"":C,y=h.dateTitle,_=void 0===y?"":y,D=h.timeTitle,R=void 0===D?"":D,w=h.editTitle,k=void 0===w?"":w,L=h.restaurantTitle,P=void 0===L?"":L,F=h.yourLocationTitle,H=void 0===F?"":F,B=h.scheduleDateTitle,U=void 0===B?"":B,G=h.buttonText,Y=void 0===G?"":G,K=Ae.a.SEARCH_ORDER_DATA,V=Ae.a.SCHEDULE_ORDER_DATA,W=Ae.a.DISPOSITION_DATA,q=Ae.a.SCHEDULE_ORDER_TIME_DATA,z=Ae.a.CLOSED,Q=Ae.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,J=Ae.a.MENU_URL,X=Ae.a.PDP_URL,Z=Ae.a.SELECTED_TILE_DATA,$=Ae.a.DISPOSITION_METHOD,ee=Ae.a.SET_DISPOSITION,te=Ae.a.USER_LOCALIZED,ne=Ae.a.SHOW_CLEAR_CART_ALERT,ae=Ae.a.CLEAR_CART_CONFIRM_CANCEL_MODAL,ie=Ae.a.clearCartChangeFlag,ce=Ae.a.orderTypeAlertTitle,oe=Ae.a.searchStoreAlertTitle,re=Ae.a.CURRENT_STORE_INFO,se=Ae.a.SET_FORCERELOAD,de=en.contentData,le=en.timingsSampleData,ve=Object(N.c)((function(e){return e.profileReducer})),je=Object(i.useContext)(E.a),Oe=je.userOrderState,me=je.userOrderStateDispatch,fe=Oe.dispositionStateData,pe=void 0===fe?{}:fe,he=Oe.scheduleOrderData,ge=void 0===he?{}:he,Ne=ge.changeFlow,xe=void 0!==Ne&&Ne,Ee=ge.isAddressFlow,Ie=void 0!==Ee&&Ee,Te=ge&&Object(x.Bb)(ge.storeInfo)?ge.storeInfo:JSON.parse(localStorage.getItem("storeInfo")),Ce=pe.dispositionType,_e=void 0===Ce?"":Ce,De=_e||localStorage.getItem("dispositionType"),Re=(ge&&ge.storeInfo&&ge.storeInfo.name&&ge.storeInfo.name[0]||{value:""}).value,we=void 0===Re?"":Re,ke=(ge&&(null===(t=ge.selectedDateTimeInfo)||void 0===t||null===(n=t.date)||void 0===n?void 0:n.length)>0?ge.selectedDateTimeInfo:JSON.parse(localStorage.getItem("dateTimeOrder"))||{date:""}).date,Le=void 0===ke?"":ke,Pe=ge&&(null===(o=ge.selectContentData)||void 0===o||null===(r=o.savedTime)||void 0===r?void 0:r.length)>0?null===(s=ge.selectContentData)||void 0===s?void 0:s.savedTime:localStorage.getItem("savedTimeOrder"),Me=(null===(d=ge.storeInfo)||void 0===d||null===(l=d.summary)||void 0===l?void 0:l.timings)||le,Fe=Me.futureDates,He=Me.scheduled,Be=Me.asap,Ue=Object(x.Ab)(Oe.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):Oe.dispositionNew,Ge=He.unavailibilities,Ye=He&&He.periods.length&&He.periods[0],Ke=Ye.interval,Ve=void 0===Ke?0:Ke,We=Ye.startEndTime,qe=void 0===We?{}:We,ze=qe.from,Qe=qe.to,Je=Object(N.c)((function(e){return e.appStateReducer.userStatus})),Xe=Object(N.b)(),Ze=Object(N.c)((function(e){return e.tenantReducer})),$e=Object(N.c)((function(e){return e.storesReducer})),et=Object(N.c)((function(e){return e.cartReducer})).cartData,tt=$e.storesAvilableTimeSlots,nt=$e.storesTimeSlots,at=Object(i.useState)(!1),it=Object(j.a)(at,2),ct=it[0],ot=it[1],rt=de.errorMessageInactive,st=void 0===rt?"":rt,dt=de.errorMessageClosed,lt=void 0===dt?"":dt,ut=de.SWITCH_TO_TAKEAWAY,bt=de.DELIVERY_NA_WARNING_MESSAGE,vt=de.DELIVERY_PICKUP_NA_MESSAGE,jt=de.scheduleOrderHeaderText,Ot=de.changeScheduleOrderHeaderText,mt=Object(i.useState)({error:!1,errormessage:""}),ft=Object(j.a)(mt,2),pt=ft[0],ht=ft[1],gt=Object(i.useState)({from:ze,to:Qe,interval:Ve}),Nt=Object(j.a)(gt,2),xt=Nt[0],Et=Nt[1],It=function(){var e;return xe?(null===(e=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===e?void 0:e.type.toUpperCase())===Si.a.TYPE_DELIVERY:!Ie&&(null===De||void 0===De?void 0:De.toUpperCase())===Si.a.TYPE_DELIVERY},Tt=new i.useState(He&&He.date?new Date(He.date.toString()):new Date),Ct=Object(j.a)(Tt,2),At=Ct[0],yt=Ct[1],_t=new i.useState(Be&&Be.isAvailable?"ASAP":Object(ye.s)(null===qe||void 0===qe?void 0:qe.from,"hh:mm","LT")),Dt=Object(j.a)(_t,2),wt=Dt[0],kt=Dt[1],Lt=Object(i.useState)([]),Pt=Object(j.a)(Lt,2),Mt=Pt[0],Ft=Pt[1],Ht=Object(i.useState)(!1),Bt=Object(j.a)(Ht,2),Ut=Bt[0],Gt=Bt[1],Yt=Object(i.useState)(!1),Kt=Object(j.a)(Yt,2),Vt=Kt[0],Wt=Kt[1],qt=Object(i.useState)(Object(x.Hb)(window.innerWidth)),zt=Object(j.a)(qt,2),Qt=zt[0],Jt=zt[1],Xt=function(){Jt(Object(x.Hb)(window.innerWidth))};Object(i.useEffect)((function(){window.addEventListener("resize",Xt)}),[Qt]),Object(i.useEffect)((function(){if(1===Fe.length&&"INDIA"===(null===Ze||void 0===Ze?void 0:Ze.country)){var e={storeid:ge&&ge.storeInfo&&ge.storeInfo.id,channel:ya.b.channel,service:Object(x.I)(mn()).toString().toLowerCase(),date:""};Xe(Object(Xa.b)({data:e,tenantId:Ze.tenantId}))}var t=Qi(ze,Qe,Ve,Be&&Be.isAvailable,1===Fe.length&&"INDIA"===(null===Ze||void 0===Ze?void 0:Ze.country),Ge);return Ft(t),function(){Xe(Object(Xa.a)())}}),[]);var Zt=function(e){var t;if("INDIA"!==(null===Ze||void 0===Ze?void 0:Ze.country)){var n=Object(ye.e)(e,"YYYY-MM-DD");if(He.date===n){var i=Qi(ze,Qe,Ve,Be&&Be.isAvailable,1===Fe.length&&"INDIA"===(null===Ze||void 0===Ze?void 0:Ze.country),Ge);return Ft(i),kt(i[0].timestr),Et({from:ze,to:Qe,interval:Ve}),yt(e),ht(Object(a.a)(Object(a.a)({},pt),{},{error:!1,errormessage:""})),Gt(!1),void Wt(!1)}var c={storeid:ge&&ge.storeInfo&&ge.storeInfo.id,channel:ya.b.channel,service:Object(x.I)(mn()).toString().toLowerCase(),date:n};if(Xe(Object(Xa.b)({data:c,tenantId:Ze.tenantId})),yt(e),(null===tt||void 0===tt||null===(t=tt.periods)||void 0===t?void 0:t.length)>0){var o=tt.periods[0],r=o.startEndTime,s=o.interval,d=r.from,l=r.to,u=Qi(d,l,s,Be&&Be.isAvailable,1===Fe.length&&"INDIA"===(null===Ze||void 0===Ze?void 0:Ze.country),Ge);Et({from:d,to:l,interval:s}),Ft(u)}ht(Object(a.a)(Object(a.a)({},pt),{},{error:!1,errormessage:""}))}},tn=function(e){var t=new Date,n=new Date(e.split("T")[0]);return n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()},nn=function(e){var t;kt("ASAP"===e?"ASAP":(null===(t=e)||void 0===t?void 0:t.timestr)?null===t||void 0===t?void 0:t.timestr:t);var n,i="ASAP"===(n=(null===e||void 0===e?void 0:e.selectedDay)?e:{timestr:e,selectedDay:tn(Le)?"Today":"Tomorrow"})||"Today"===(null===n||void 0===n?void 0:n.selectedDay)?new Date:new Date((new Date).getTime()+864e5);yt(i),Gt(!1),Wt(!1),ht(Object(a.a)(Object(a.a)({},pt),{},{error:!1,errormessage:""}))};Object(i.useEffect)((function(){var e=Pe;Le&&Zt(new Date(Le)),function(e,t,n,a,i,c){if(e&&t){var o=Object(ye.s)(t,"h:mm A","HH:mm");new Date(a).setHours(Number(null===o||void 0===o?void 0:o.split(":")[0]),Number(null===o||void 0===o?void 0:o.split(":")[1]),0)<(new Date).setHours(Number(null===n||void 0===n?void 0:n.split(":")[0]),Number(null===n||void 0===n?void 0:n.split(":")[1]),0)?c(i):c(t)}}(xe,e,ze,Le,Pe,nn),function(e,t,n,a,i){if(1!==e.length){var c,o={storeid:null===t||void 0===t||null===(c=t.storeInfo)||void 0===c?void 0:c.id,channel:ya.b.channel,service:Object(x.I)(n()).toString().toLowerCase(),date:""};a(Object(Xa.b)({data:o,tenantId:null===i||void 0===i?void 0:i.tenantId}))}}(Fe,ge,mn,Xe,Ze)}),[]),Object(i.useEffect)((function(){var e=Object(x.lb)(xe,Object(Se.e)(Ot),Object(Se.e)(jt));if(Object(x.Bb)(nt)&&ct)if(nt&&nt.status&&nt.status.currentStatus===z)ht(Object(a.a)(Object(a.a)({},pt),{},{error:!0,errormessage:Object(Se.e)(lt)})),Object(x.J)(e,Object(Se.e)(lt));else{var t=new Date;if(new Date(At).setHours(0,0,0,0)===t.setHours(0,0,0,0)){var n=Object(ye.g)().add(Be.promiseTime,"minutes").format("LT");Object(ye.b)(n,wt,"h:mm A")?(ht(Object(a.a)(Object(a.a)({},pt),{},{error:!0,errormessage:Object(Se.e)(st)})),Object(x.J)(e,Object(Se.e)(st))):_o(g,J,X)?an():cn()}else _o(g,J,X)?an():cn()}}),[nt,ve]);var an=function(){me({type:Z,value:{selectedData:{}}}),localStorage.setItem("tenantReducer",JSON.stringify(Ze)),localStorage.setItem("selectedTile",JSON.stringify({})),cn(),setTimeout((function(){e.history.push({pathname:"".concat(J)})}),500)},cn=function(){var e=Object(be.a)(ue.a.mark((function e(){var t,n,i,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me({type:V,value:{showScheduleOrder:!1,selectedStoreInfo:ge&&ge.storeInfo,changeFlow:!0}}),me({type:$,value:{dispositionType:De}}),localStorage.setItem("dispositionType",mn()),localStorage.setItem("storeInfo",ge&&ge.storeInfo?JSON.stringify(ge.storeInfo):JSON.stringify({})),localStorage.setItem("currentStoreInfo",ge&&ge.storeInfo?JSON.stringify(ge.storeInfo):JSON.stringify({})),me({type:re,value:Object(x.sb)(null===ge||void 0===ge?void 0:ge.storeInfo)}),me({type:K,value:{showSearchStore:!1}}),t="",n="","ASAP"===wt||"-"===wt?(t="ASAP",n="ASAP"):(t=wt,n=wt),me({type:se,value:{forceReload:!0}}),i={time:t,interval:xt.interval,date:At,selectedTime:wt},null!==Ue&&Ue.type===mn()&&Ue.store.id===Te.id&&Ue.deliveryAddress===ge.deliveryAddress){e.next=17;break}return e.next=14,Object(x.f)(Te,Object(x.I)(De),ve.customerId,i,null===ge||void 0===ge?void 0:ge.deliveryAddress);case 14:c=e.sent,Xe(Object(St.j)("")),Xe(Object(St.e)({data:c,tenantId:Ze.tenantId}));case 17:Xe(Object(Ra.b)(Object(a.a)(Object(a.a)({},Je),{},{localized:!0}))),me({type:ee,value:{oldvalue:Ue,newValue:{type:mn(),store:Te,date:i.date,time:i.time,interval:i.interval,selectedTime:i.selectedTime,deliveryAddress:null===ge||void 0===ge?void 0:ge.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(Ue)),localStorage.setItem("dispositionNew",JSON.stringify({type:mn(),store:Te,date:i.date,time:i.time,interval:i.interval,selectedTime:i.selectedTime,deliveryAddress:null===ge||void 0===ge?void 0:ge.deliveryAddress})),Object(x.gc)(),me({type:q,value:{selectedDateTime:i}}),me({type:Q,value:{selectContentTime:n}}),localStorage.setItem("dateTimeOrder",JSON.stringify(i)),localStorage.setItem("savedTimeOrder",n);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){var e={startEndTime:{from:"",to:""},interval:""};if(2===Object.keys(tt||{}).length){var t,n,a,i,c=Object(x.qb)(null===(t=tt[0])||void 0===t?void 0:t.periods[0],e),o=c.startEndTime,r=c.interval,s=Object(x.qb)(null===(n=tt[1])||void 0===n?void 0:n.periods[0],e).startEndTime,d=o.from,l=s.to,u=Qi(d,l,r,Be&&Be.isAvailable,1===Fe.length&&new Date(null===(a=tt[0])||void 0===a?void 0:a.date).setHours(0,0,0,0)<new Date(null===Fe||void 0===Fe?void 0:Fe[0]).setHours(0,0,0,0)&&"INDIA"===(null===Ze||void 0===Ze?void 0:Ze.country),Ge);if(Et({from:d,to:l,interval:r}),Ft(u),Lo(u,Pe,nn),!tt.find((function(e){return e.date===Le.split("T")[0]})))yt(new Date(null===(i=tt[0])||void 0===i?void 0:i.date))}else if(Object.keys(tt||{}).length){var b,v,j,O=Object(x.qb)(null===(b=tt[0])||void 0===b?void 0:b.periods[0],e),m=O.startEndTime,f=O.interval,p=m.from,h=m.to,g=Qi(p,h,f,Be&&Be.isAvailable,"INDIA"===(null===Ze||void 0===Ze?void 0:Ze.country)&&1===Fe.length&&new Date(null===(v=tt[0])||void 0===v?void 0:v.date).setHours(0,0,0,0)<new Date(null===Fe||void 0===Fe?void 0:Fe[0]).setHours(0,0,0,0),Ge);if(Et({from:p,to:h,interval:f}),Ft(g),Lo(g,Pe,nn),!tt.find((function(e){return e.date===Le.split("T")[0]})))yt(new Date(null===(j=tt[0])||void 0===j?void 0:j.date))}}),[JSON.stringify(tt)]);var on=function(e){var t,n;(null===f||void 0===f||null===(t=f.current)||void 0===t?void 0:t.contains(e.target))||(null===p||void 0===p||null===(n=p.current)||void 0===n?void 0:n.contains(e.target))||(Gt(!1),Wt(!1))};Object(i.useEffect)((function(){return document.addEventListener("mousedown",on),function(){document.removeEventListener("mousedown",on)}}),[]);var dn=function(){me({type:K,value:{showSearchStore:!0}}),me({type:V,value:{showDisposition:!1}}),me({type:$,value:{dispositionType:"Pickup"}})},ln=null===ge||void 0===ge||null===(b=ge.storeInfo)||void 0===b||null===(v=b.availableServicesPerChannel)||void 0===v||null===(O=v.find((function(e){return"web"===e.channel})))||void 0===O?void 0:O.services,un=null===ln||void 0===ln?void 0:ln.includes("delivery"),bn=(null===ln||void 0===ln||ln.includes("pickup"),Object(x.r)(It(),!un)),vn=function(){var e=Object(Se.e)(vt),t=!1;return un&&(e=Object(Se.e)(bt),t=!0),{showTakeWayButton:t,message:e}},jn=vn().message;Object(i.useEffect)((function(){!function(e,t){var n=e?Object(Se.e)(sn):Object(Se.e)(rn);t&&Object(x.J)(n,t)}(xe,jn)}),[jn]);var On=function(){var e=vn(),t=e.message,n=e.showTakeWayButton;return Object(u.jsxs)("div",{className:"alert-delivery-popup w-100 ".concat(n?"":"alert-without-action-button"),children:[Object(u.jsx)(S.a,{srcFile:$t,className:"location-alert-icon"}),Object(u.jsx)("div",{className:"location-error-message",children:t}),Object(u.jsx)("div",{className:"location-error-button-section",children:n&&Object(u.jsx)(Va.a,{className:"location-warning-button","data-testid":"click-handle-away",onClickHandler:dn,children:Object(Se.e)(ut)})})]})},mn=function(){var e=JSON.parse(localStorage.getItem("dispositionNew"));return xe&&e?e.type:Ie?"Pickup":De},fn=xe?null===(m=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===m?void 0:m.deliveryAddress:ge.deliveryAddress;return Object(u.jsxs)("div",{className:"scheduleOrder-form",children:[Object(u.jsx)("h3",{className:"order-type",children:Object(Se.e)(A)}),Object(u.jsxs)("div",{className:"ordertype-input-div",children:[Object(u.jsx)(Rt,{value:wo(xe,Ie,De),className:"w-100"}),Object(u.jsx)("div",{className:"edit-input",children:Object(u.jsx)(M,{"aria-label":"Edit order type",onClickHandler:function(){var e;if(et&&(null===et||void 0===et||null===(e=et.foodLines)||void 0===e?void 0:e.length)>0){var t={flag:ie,onConfirm:ce};Object(x.Rb)(me,t,ne,ae)}else me({type:W,value:{showDisposition:!0}});me({type:V,value:{showScheduleOrder:!1}}),me({type:K,value:{showSearchStore:!1}})},"data-testid":"edit-disposition-test",children:Object(Se.e)(k)})})]}),pt&&pt.error&&Object(u.jsxs)("div",{className:"error-container",children:[Object(u.jsx)("span",{className:"error-img"}),pt.errormessage]}),Qt&&bn&&Object(u.jsx)(On,{}),Object(u.jsx)("h3",{className:"order-type",children:It()?Object(Se.e)(H):Object(Se.e)(P)}),Object(u.jsxs)("div",{className:"ordertype-input-div",children:[Object(u.jsx)(Rt,{value:It()?fn:we||"",className:"w-100"}),Object(u.jsx)("div",{className:"edit-input",children:It()?Object(u.jsx)(M,{"aria-label":"Edit KFC restaurant",onClickHandler:function(){var e;if(me({type:$,value:{dispositionType:xe?JSON.parse(localStorage.getItem("dispositionNew")).type:De}}),et&&(null===et||void 0===et||null===(e=et.foodLines)||void 0===e?void 0:e.length)>0){var t={flag:ie,onConfirm:oe};Object(x.Rb)(me,t,ne,ae)}else me({type:K,value:{showSearchStore:!0}});me({type:V,value:{showScheduleOrder:!1}})},"data-testid":"edit-location-test",children:Object(Se.e)(k)}):Object(u.jsx)(M,{"aria-label":"Edit KFC restaurant",onClickHandler:function(){var e;if((null===et||void 0===et||null===(e=et.foodLines)||void 0===e?void 0:e.length)>0){var t={flag:ie,onConfirm:oe};Object(x.Rb)(me,t,ne,ae)}else{var n=JSON.parse(localStorage.getItem("seachedLocations"));if(Ie)me({type:K,value:{showSearchStore:!0,searchedPlaceNonLocalized:ge.storeInfo.name[0].value}});else if(n){var a=n[n.length-1];me({type:K,value:{showSearchStore:!0,searchedPlaceNonLocalized:a}})}}me({type:V,value:{showScheduleOrder:!1,changeFlow:Boolean(xe)}}),me({type:$,value:{dispositionType:mn()}})},"data-testid":"edit-store-test",children:Object(Se.e)(k)})})]}),!Qt&&bn&&Object(u.jsx)(On,{}),Object(u.jsx)("h3",{className:"order-type",children:Object(Se.e)(U)}),Object(u.jsxs)("div",{className:"schedule-date-time",children:[Object(u.jsxs)("div",{className:"schedule-date",children:[Object(u.jsx)("div",{className:"dateTitleDatePicker",children:Object(Se.e)(_)}),Fe&&Fe.length>0&&He&&He.date&&"INDIA"!==(null===Ze||void 0===Ze?void 0:Ze.country)?Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{ref:f,onClick:function(){return Wt(!Vt)},"data-testid":"click-date-picker-open",className:"date-pick",children:[Object(u.jsx)(Co.a,{selected:At,showPopperArrow:!1,onChange:function(e){return Zt(e)},minDate:new Date(He.date.toString()),maxDate:new Date(Fe[Fe.length-1]),dateFormat:"MMMM d, yyyy",className:"custom-class",open:Vt,readOnly:!0}),Object(u.jsx)("img",{src:yo,className:"date-icon",id:"datePickerIcon"})]}),Object(u.jsx)("span",{className:"dropdown-img"})]}):Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)("div",{className:"time-input time-input-container",children:Object(ye.e)(At,"YYYYMMDD")===Object(ye.c)("YYYYMMDD")?Object(Se.e)("today"):Object(Se.e)("tomorrow")})})]}),Object(u.jsxs)("div",{className:"schedule-time",children:[Object(u.jsx)("div",{className:"dateTitleDatePicker","aria-level":"1",role:"heading",tabIndex:"0",children:Object(Se.e)(R)}),Object(u.jsxs)("div",{className:Po(Mt),"data-testid":"time-input-handler",role:"listbox",tabIndex:"0",onKeyPress:function(){return 0!==He.periods.length&&Gt(!Ut)},onClick:function(){return 0!==He.periods.length&&Gt(!Ut)},children:[Object(u.jsx)("div",{className:"time-input asap-default",children:wt}),Object(u.jsx)("img",{src:Ao,alt:" ",className:"downarrow-time-list"})]}),Ut&&Object(u.jsx)("div",{ref:p,className:"schedule-time-list-container",children:Object(u.jsx)("ul",{children:!!(null===Mt||void 0===Mt?void 0:Mt.length)&&Mt.map((function(e){return Object(u.jsx)("li",{tabIndex:"0",onClick:function(){return nn(e)},onKeyPress:function(){return nn(e)},children:e.timestr})}))})})]})]}),Object(u.jsx)("div",{className:"text-center schedule-btn-div",children:Object(u.jsx)(Va.a,{className:"button blackButton confirm-schedule-btn","aria-label":Object(Se.e)(Y),onClickHandler:function(e){I(e,De),ot(!0);var t=Do(wt),n=Object(ye.k)(Object(ye.e)(At,"YYYY-MM-DD")+" "+t,"YYYY-MM-DD hh:mm A"),a={storeid:ge&&ge.storeInfo&&ge.storeInfo.id,channel:ya.b.channel,service:Object(x.I)(mn()).toString().toLowerCase(),futureDateTimeInEpochFormat:n,asap:wt===T.c};Xe(Object(Xa.g)({data:a,tenantId:Ze.tenantId})),(null===et||void 0===et?void 0:et.id)&&Xe(Object(Xa.h)({params:{basketId:null===et||void 0===et?void 0:et.id},tenantId:Ze.tenantId,postBody:Ro(wt,n)})),me({type:te,value:{isLocalized:!0}})},"data-testid":"confirm-button-handler",disabled:0===He.periods.length,children:Object(Se.e)(Y)})})]})}));function Lo(e,t,n){var a;e?e.find((function(e){return(null===e||void 0===e?void 0:e.timestr)===t}))||n(null===(a=e[0])||void 0===a?void 0:a.timestr):n("-")}var Po=function(e){return"time-input-container time-inputbox ".concat((null===e||void 0===e?void 0:e.length)?"":"disable-time-dropdown")},Mo=function(e){var t=e.handleClose,n=e.ScheduleOrderForm,a=e.headerText,i=e.modalTitleId,o=void 0===i?"":i,r=e.handleGoBack;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:o,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:a,closeDataTestId:"close-modal-handler",showBackBtn:!0,backButtonHandler:r,children:n})})},Fo=function(e){var t=e.onStoreSelectFinish,n=Object(i.useContext)(E.a),a=n.userOrderState,c=n.userOrderStateDispatch,o=en.contentData,r=o.scheduleOrderHeaderText,s=o.scheduleOrderModalContent,d=o.changeScheduleOrderHeaderText,l=s.formContent,b=Ae.a.SEARCH_ORDER_DATA,v=Ae.a.SCHEDULE_ORDER_DATA,j=a.scheduleOrderData.changeFlow,O=void 0!==j&&j,m=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),c({type:v,value:{selectedStoreInfo:a.scheduleOrderData.storeInfo,showScheduleOrder:!1}}),c({type:b,value:{showSearchStore:!1}})};Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&m(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var f=Object(u.jsx)(ko,{formContent:l,onStoreSelectFinish:t});return Object(u.jsx)(Mo,{handleGoBack:function(){c({type:b,value:{showSearchStore:!0}}),c({type:v,value:{showScheduleOrder:!1}})},handleClose:m,ScheduleOrderForm:f,modalTitleId:"schedule-order",headerText:O?Object(Se.e)(d):Object(Se.e)(r)})},Ho=n(347),Bo=function(e){var t,n,r=e.userParams,s=e.contentData,d=e.showHeader,l=void 0===d||d,b=Ae.a.DISPOSITION_DATA,v=Ae.a.SCHEDULE_ORDER_DATA,O=Ae.a.SEARCH_ORDER_DATA,m=Ae.a.DISPOSITION_METHOD,f=Ae.a.SHOW_CLEAR_CART_ALERT,p=Ae.a.CLEAR_CART_CONFIRM_CANCEL_MODAL,h=Ae.a.clearCartExposedFlag,g=Ae.a.searchStoreAlertTitle,I=s.segmentedHomePageData,S=void 0===I?[]:I,C=S.headline,A=void 0===C?[]:C,y=S.supportedDispositions,_=void 0===y?[]:y,D=e.contentData&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(e&&e[0]&&e[0].fields||"").headline,a=(t&&t[0]&&t[0].fields||"").buttonText;return{startOrderTitle:n,buttonText:a}}(A,_)||{},R=e.contentData&&e.contentData.contentDispositionData&&Object(x.Bb)(e.contentData.contentDispositionData)&&function(e){var t,n=(e.headline&&e.headline[0].fields&&e.headline[0].fields.desktopImage&&e.headline[0].fields.desktopImage.fields&&e.headline[0].fields.desktopImage.fields.file||{}).url,a=void 0===n?"":n,i=(e.headline&&e.headline[0].fields&&e.headline[0].fields.desktopImage&&e.headline[0].fields.desktopImage.fields||{}).title,c=void 0===i?"":i,o=e.headline&&(null===(t=e.headline[1])||void 0===t?void 0:t.fields)||{},r=o.headline,s=void 0===r?"":r,d=o.subHeadline,l=void 0===d?"":d,u=e.supportedDispositions;return{headline:s,subHeadline:l,supportedDispositionsData:(void 0===u?[]:u).map((function(e){return e.fields})),src:a,alt:c}}(e.contentData.contentDispositionData)||{},w=Object(i.useContext)(E.a)||{},k=w.userOrderState,L=w.userOrderStateDispatch,P=localStorage.getItem(T.R.SERVICE_TYPE),M=P&&P.toUpperCase(),F=Object(i.useState)(M),H=Object(j.a)(F,2),B=H[0],U=H[1],G=Object(N.c)((function(e){return e.cartReducer})).cartData,Y=void 0===G?{}:G,K=Object(i.useState)(l),V=Object(j.a)(K,2),W=V[0],q=V[1],z=Object(o.g)();Object(i.useEffect)((function(){U(M)}),[M]);var Q=function(e,t){e.stopPropagation(),e.preventDefault(),si(t)},J=Object(u.jsx)(Ja,{contentData:D,clickHandler:function(){oi("startOrder"),L({type:b,value:{showDisposition:!0}})}}),X=function(){return r.loggedIn&&((null===z||void 0===z?void 0:z.pathname)===T.gb.HOME||(null===z||void 0===z?void 0:z.pathname)===T.gb.HOME_PAGE||(null===z||void 0===z?void 0:z.pathname)===T.gb.ACCOUNT)},Z=function(){if(X())return Object(u.jsx)(Ho.a,Object(a.a)(Object(a.a)({},e),{},{testId:"HeaderTrackOrderComponent",importPath:"HEADER_ORDER_TRACKER_COMP",setShowBlackStripeContent:q,isHeaderTrackOrderEnabled:X}))},$=Object(u.jsx)(To,{contentData:R,clickHandler:function(e,t){e.preventDefault(),e.stopPropagation(),L({type:v,value:{showScheduleOrder:!0,selectedStoreInfo:t,changeFlow:!0}}),ri()},dispositionChange:function(e,t){var n,a="";if(e.stopPropagation(),e.preventDefault(),Io(t),a=t.trim(),null===T.y||void 0===T.y?void 0:T.y.includes(a.toUpperCase()))if(L({type:m,value:{dispositionType:a}}),(null===Y||void 0===Y||null===(n=Y.foodLines)||void 0===n?void 0:n.length)>0){var i={flag:h,onConfirm:g};Object(x.Rb)(L,i,f,p)}else L({type:O,value:{showSearchStore:!0}})},activeDisposition:B,selectedInfo:k,showBlackStripeContent:W,headerTrackOrder:Z});return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{id:"startorder-container","data-testid":"StartOrder-component",tabIndex:"-1",children:[l&&function(){var e=J;return X()&&(e=W?Object(u.jsxs)("div",{children:[J," ",Z()]}):Z()),Object(x.Bb)(R)&&r.localized&&(e=$),e}(),(null===k||void 0===k||null===(t=k.dispositionStateData)||void 0===t?void 0:t.showDisposition)&&Object(u.jsx)(Ci,{}),(null===k||void 0===k||null===(n=k.searchStoreData)||void 0===n?void 0:n.showSearchStore)&&Object(u.jsx)(po,{onStoreSelectFinish:Q}),(null===k||void 0===k?void 0:k.scheduleOrderData.showScheduleOrder)&&Object(u.jsx)(Fo,{onStoreSelectFinish:Q})]})})},Uo=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.className,i=void 0===a?"":a,c=e.clickHandler,o=void 0===c?null:c,r=n.src,s=void 0===r?"":r,d=n.alt,l=void 0===d?"":d,b=n.cardText,v=void 0===b?"":b,j=n.showButton,O=void 0===j||j,m=n.buttonText,f=void 0===m?"":m,p=n.buttonItem,h=void 0===p?"":p,g="".concat(f," on ").concat(v);return Object(u.jsxs)("div",{className:"communication-card ".concat(i),children:[Object(u.jsx)(S.a,{"data-testid":"image-component",srcFile:s||"",alt:l,className:"communicationCard-background"}),Object(u.jsxs)("div",{className:"communicationCard-content",children:[Object(u.jsxs)("div",{className:"communicationCard-text",children:[" ",v," "]}),O&&f&&Object(u.jsx)(Va.a,{"data-testid":"button-component-".concat(f),id:"communicationCard_".concat(h),className:"button whiteButton card-button communicationCard-button",type:"submit",onClickHandler:function(){o(h)},"aria-label":g,children:f})]})]})},Go=function(e){var t=e.contentData.routingContent,n=void 0===t?null:t,a=n&&function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var t=e.fields,n=t.headline,a=void 0===n?"":n,i=t.displayButton,c=void 0!==i&&i,o=e.fields.button&&e.fields.button.fields||{},r=o.buttonText,s=void 0===r?"":r,d=o.name,l=void 0===d?"":d,u=o.url,b=void 0===u?"":u,v=e.fields.desktopImage&&e.fields.desktopImage.fields&&e.fields.desktopImage.fields.file||{},j=v.url,O=void 0===j?"":j,m=v.alt;return{cardText:a,showButton:c,buttonText:s,buttonItem:l,buttonUrl:b,src:O,alt:void 0===m?"":m}}))}(n)||[],i=function(e){console.log("item selected",e)},c=function(e,t){return e.length%2!==0&&e.indexOf(t)===e.length-1},o=a.map((function(e,t,n){return Object(u.jsx)(Uo,{"data-testid":"communicationItem-click",contentData:e,className:"".concat(c(n,e)?"communicationCard-full":""),clickHandler:i},e.buttonItem)}));return Object(u.jsx)("div",{className:"communication_container",children:o})},Yo=n(379),Ko=n.n(Yo),Vo=(n(682),n(683),function(e){var t=e.settings,n=e.carousalRef;return Object(u.jsx)(Ko.a,Object(a.a)(Object(a.a)({},t),{},{ref:n,children:e.children}))});Vo.defaultProps={settings:null,carousalRef:null};var Wo=Vo,qo={YES_CONSTANT:"YES",NO_CONSTANT:"NO",SLIDE_CHANGE_INTERVAL:5e3,LIGHT:"LIGHT",BLACK_COLOR:"#202124",WHITE_COLOR:"#ffffff",CAROUSEL_IMAGE_CLICK:"carouselImgClick",daysOfTheWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],localizedUserSampleData:{type:"",store:{id:"",name:[{value:""}]}}},zo=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={valuesIndex:0},e.progressInterval=null,e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.progressInterval=setInterval((function(){e.setState({valuesIndex:e.state.valuesIndex+1})}),this.props.interval)}},{key:"componentWillUnmount",value:function(){clearInterval(this.progressInterval)}},{key:"render",value:function(){return this.props.children(this.props.values[this.state.valuesIndex])}}]),n}(c.a.Component);zo.defaultProps={interval:1e3};var Qo=zo,Jo=n(284),Xo=(n(684),function(e){var t=qo.SLIDE_CHANGE_INTERVAL,n=qo.LIGHT,a=qo.BLACK_COLOR,o=qo.WHITE_COLOR,r=e.contentData,s=void 0===r?[]:r,d=e.animationSpeed,l=void 0===d?t:d,b=e.clickHandler,v=e.clickImageAnalytics,O=e.isMobile,m=void 0!==O&&O,f=0,p=function(){var e;return(null===s||void 0===s||null===(e=s[0])||void 0===e?void 0:e.textColor.toUpperCase())===n?"white-color":"black-color"}(),h={dots:!0,infinite:!0,autoplaySpeed:1e3*l,slidesToShow:1,slidesToScroll:1,arrows:!1,adaptiveHeight:!0,autoplay:!0,accessibility:!0,beforeChange:function(e,t){f=t!==(null===s||void 0===s?void 0:s.length)?t:0,p=p=(null===s||void 0===s?void 0:s[f].textColor.toUpperCase())===n?"white-color":"black-color"},customPaging:function(e){var t=(e+1).toLocaleString("en-US",{minimumIntegerDigits:2}),n="white-color"===p?o:a;return e===f?Object(u.jsx)(Qo,{values:[0,33,66,100],children:function(e){return Object(u.jsx)(Jo.a,{value:e,text:t,styles:Object(Jo.b)({pathTransitionDuration:2.5,textColor:n,pathColor:n}),tabIndex:"0"})}}):Object(u.jsx)("div",{className:"".concat(p," carausel-paging"),"data-testid":"carausel-paging-handler-".concat(e),onClick:function(){return f=e},"aria-label":"Slide ".concat(t),tabIndex:"0",role:"button",children:Object(u.jsx)("span",{className:"carausel-pagingNo",children:t})})}},g=Object(i.useState)(window.innerHeight>window.innerWidth),N=Object(j.a)(g,2),E=N[0],I=N[1];Object(i.useEffect)((function(){if("onorientationchange"in window)return window.addEventListener("orientationchange",T),function(){window.removeEventListener("orientationchange",T)}}),[]);var T=function(){I(window.innerHeight<window.innerWidth)};return Object(u.jsx)(Vo,{settings:h,children:s.map((function(e,t){var a=e||{},i=a.smallText,o=a.largeText,r=a.buttonText,s=a.showButton,d=a.desktopSrc,l=a.mobileSrc,j=a.alt,O=a.textColor,f=a.analyticsData,p=s.toUpperCase()===qo.YES_CONSTANT,h=E||m?l:d,g="".concat(r," for ").concat(o);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:Object(x.lb)(p,"removePointer","marketing-hero-img-div"),tabIndex:"0",role:"clickable image","data-testid":"click-image-analytics-".concat(t),onClick:p?function(e){return e.preventDefault()}:function(){return v(f,t,e)},children:[Object(u.jsx)(S.a,{"data-testid":"image-component",srcFile:h,isContentfulImage:!0,alt:j,className:"carausel-image"}),i&&Object(u.jsx)("div",{className:"".concat(O.toUpperCase()===n?"color-white":"color-black"," smallTxtHero"),children:i}),o&&Object(u.jsx)("div",{className:"".concat(O.toUpperCase()===n?"color-white":"color-black"," largeTextHero"),children:o}),p&&r&&Object(u.jsx)(Ot.a,{className:"button redButton carauselOrderNow ","aria-label":Object(x.ub)(g),"data-testid":"click-handler-".concat(t),onClickHandler:function(){return b(f,t,null,e)},children:Object(u.jsx)("span",{children:r})})]},t)},t)}))})});Xo.defaultProps={};var Zo=Xo,$o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var t=e.fields,n=t.headline,a=void 0===n?"":n,i=t.subHeadline,c=t.altText,o=void 0===c?"":c,r=t.showButton,s=void 0===r?"":r,d=t.buttonType,l=void 0===d?"":d,u=t.background,b=void 0===u?"":u,v=t.onClick,j=t.name,O=(e.fields.analyticsData||{}).fields,m=void 0===O?{}:O;return{smallText:a,largeText:i,alt:o,desktopSrc:(e.fields.desktopImage&&e.fields.desktopImage.fields&&e.fields.desktopImage.fields.file).url,mobileSrc:(e.fields.mobileImage&&e.fields.mobileImage.fields&&e.fields.mobileImage.fields.file).url,buttonText:l,showButton:s,textColor:b,analyticsData:m,linkTo:v,name:j}}))},er=function(){var e=Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.orderNow.name,{"%event%":"orderNow"},x.E);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tr=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return er(),(a=[]).push({event:"homepageBannerCTA",bannerContent:t.item_name,bannerContentIndex:n},{event:"select_promotion",ecommerce:{items:[{item_name:t.item_name,item_id:t.item_id,item_category:t.item_category,promotion_id:t.promotion_id,promotion_name:t.promotion_name,creative_name:t.creative_name,location_id:t.location_id,index:n,price:t.price}]}}),e.next=5,je.a.registerEvent(void 0,{data:a[0]},x.E);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nr=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=[]).push({event:"select_promotion",ecommerce:{items:[{item_name:t.item_name,item_id:t.item_id,item_category:t.item_category,promotion_id:t.promotion_id,promotion_name:t.promotion_name,creative_name:t.creative_name,location_id:t.location_id,index:n,price:t.price}]}},{event:"homepageBannerCTA",bannerContent:t.item_name,bannerContentIndex:n}),e.next=4,je.a.registerEvent(void 0,{data:a[0]},x.E);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ar=function(e,t,n,a){var i=e.filter((function(e){return function(e,t){var n=(new Date).getTime(),a=new Date(e).getTime(),i=new Date(t).getTime();return n>a&&n<i}(e.fields.startDate,e.fields.endDate)})).filter((function(e){return!e.fields.applicableDays||function(e){var t=qo.daysOfTheWeek[(new Date).getDay()];return e.find((function(e){return e.toLowerCase()===t.toLowerCase()}))}(e.fields.applicableDays)})).filter((function(e){return""===t||""===n||""===a?!(e.fields.disposition&&e.fields.disposition.length>0||e.fields.includeTheseStoresOnly&&e.fields.includeTheseStoresOnly.length>0):function(e,t,n,a,i){return void 0===e&&void 0===t||0===e.length&&0===t.length||((null===e||void 0===e?void 0:e.length)>0&&(null===t||void 0===t?void 0:t.length)>0?e&&e.find((function(e){return e.toLowerCase()===n.toLowerCase()}))&&t&&t.find((function(e){return e.fields.storeId===a&&e.fields.storeName===i})):e&&e.find((function(e){return e.toLowerCase()===n.toLowerCase()}))||t&&t.find((function(e){return e.fields.storeId===a&&e.fields.storeName===i})))}(e.fields.disposition,e.fields.includeTheseStoresOnly,t,n,a)}));return i},ir=function(e){var t,n=e.contentData,a=void 0===n?{}:n,c=e.history,o=a.carousalContent,r=void 0===o?"":o,s=a.animationSpeed,d=qo.CAROUSEL_IMAGE_CLICK,l=Ae.a.SELECTED_TILE_DATA,b=JSON.parse(localStorage.getItem(T.R.DISPOSITION_NEW)),v=localStorage.getItem(T.R.SERVICE_TYPE),O=(b||qo.localizedUserSampleData).store,m=O.id,f=void 0===m?"":m,p=O.name[0].value,h=null!==(t=r&&ar(r,v,f,void 0===p?"":p))&&void 0!==t?t:[],g=h&&$o(h),I=Object(i.useContext)(E.a).userOrderStateDispatch,S=Object(N.c)((function(e){return e.tenantReducer})),C=Object(i.useState)(Object(x.Hb)(window.innerWidth)),A=Object(j.a)(C,2),y=A[0],_=A[1],D=function(){var e=Object(x.Hb)(window.innerWidth);_(e)};Object(i.useEffect)((function(){window.addEventListener("resize",D)}),[y]);var R=function(e,t,n,a){n!==d&&nr(e,t),tr(e,t),I({type:l,value:{selectedData:{name:a.name}}}),localStorage.setItem("selectedTile",JSON.stringify({name:a.name})),localStorage.setItem("tenantReducer",JSON.stringify(S)),c.push({pathname:"".concat(a.linkTo)})};return Object(u.jsx)("div",{className:"market-hero",children:g&&Object(u.jsx)(Zo,{contentData:g,animationSpeed:s,clickHandler:R,clickImageAnalytics:function(e,t,n){nr(e,t),R(e,t,d,n)},isMobile:y})})};ir.defaultProps={history:{}};var cr={NINE_TILES:9,FIVE_TILES:5,SIX_TILES:6,SEVEN_TILES:7,BROWSE_CATEGORIES:"browsecategory",VIEW_ALL_MENU:"viewAllMenu",MENU:"/menu",ADD_TO_CART:"addToCart",ITEM_QUANTITY:1},or=n.p+"static/media/finger_lickin.fc21c805.svg",rr=n.p+"static/media/black_right_arrow.a801582c.svg",sr=n(380),dr=n.n(sr),lr=function(e){var t=e.item,n=e.tenantReducer,a=e.classNames,i=e.navigateToPLP,c=e.children;return Object(u.jsxs)(L.b,{className:"menu-cards","data-testid":"tiles-click-".concat(t.name),onClick:function(){return i(t)},tabIndex:"0",to:"menu/".concat(t.url),children:[Object(u.jsx)(S.a,{"data-testid":"",srcFile:Object(x.S)(t.imageName,n,!1,!0),defaultPath:Object(x.S)(null,n,!0),className:a}),c]},t.name)},ur=Object(o.i)((function(e){var t,n=Ae.a.SELECTED_TILE_DATA,a=void 0===n?"":n,o=e.isMobile,r=cr.FIVE_TILES,s=cr.SIX_TILES,d=cr.SEVEN_TILES,l=cr.VIEW_ALL_MENU,b=cr.MENU,v=(null!==(t=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,j=(v=void 0===v?{}:v).categories,O=void 0===j?{}:j,m=dr()(O,(function(e){return"Menu"===e.name||e.isHidden})),f=m.length,p=Object(i.useContext)(E.a).userOrderStateDispatch,h=Object(N.c)((function(e){return e.tenantReducer})),g=function(e){var t={name:e.name};0===Object.keys(e).length&&(t={}),p({type:a,value:{selectedData:t}}),localStorage.setItem("selectedTile",JSON.stringify(t)),localStorage.setItem("tenantReducer",JSON.stringify(h))};return o||f!==r?o||f!==s?!o&&f>=d?function(){var e,t=JSON.parse(JSON.stringify(m)).slice(0,7).map((function(e,t){return Object(u.jsxs)(L.b,{className:"menu-cards","data-testid":"tiles-click-".concat(e.name),onClick:function(){return g(e)},tabIndex:"0",to:"menu/".concat(e.url),children:[Object(u.jsx)(S.a,{"data-testid":"",srcFile:Object(x.S)(e.imageName,h,!1,!0),defaultPath:Object(x.S)(null,h,!0),className:""}),Object(u.jsxs)("section",{className:"menu-text",children:[" ",e.name," "]})]},e.name)}));return e=Object(u.jsxs)(L.b,{className:"single-lickin-card menu-cards","data-testid":"tiles-click-seven",onClick:function(){return g({})},tabIndex:"0",to:b,children:[Object(u.jsx)(S.a,{"data-testid":"",srcFile:"".concat(or)||"",alt:"",className:"single-img"}),Object(u.jsxs)("section",{className:"all-menu-text",children:[" ",Object(Se.e)(l),Object(u.jsx)("span",{className:"menu-arrow-span",children:Object(u.jsx)(S.a,{srcFile:rr,alt:"",className:"more-arrow-img"})})]})]}),Object(u.jsxs)(c.a.Fragment,{children:[t,e]})}():o?function(){var e,t=m.map((function(e,t){return Object(u.jsxs)(L.b,{className:"menu-cards","data-testid":"tiles-click-".concat(e.name),onClick:function(){return g(e)},to:"menu/".concat(e.url),children:[Object(u.jsx)(S.a,{"data-testid":"",srcFile:Object(x.S)(e.imageName,h,!1,!0),defaultPath:Object(x.S)(null,h,!0),className:""}),Object(u.jsxs)("div",{className:"menu-text",children:[" ",e.name," "]})]},e.name)}));return e=Object(u.jsx)("div",{className:"single-lickin-card menu-cards",children:Object(u.jsxs)(L.b,{className:"full-lickin-card menu-cards","data-testid":"tiles-click-six",onClick:function(){return g({})},tabIndex:"0",to:b,children:[Object(u.jsx)(S.a,{"data-testid":"",srcFile:"".concat(or)||"",alt:Object(Se.e)(l),className:"mobile-single-img"}),Object(u.jsxs)("div",{className:"all-menu-text",children:[" ",Object(Se.e)(l),Object(u.jsx)(S.a,{srcFile:rr,alt:Object(Se.e)(l),className:"more-arrow-img"})]})]})}),Object(u.jsxs)(c.a.Fragment,{children:[t,e]})}():null:function(){var e;console.log("drawTilesSixdrawTilesSix");var t=m.map((function(e,t){return Object(u.jsx)(lr,{item:e,tenantReducer:h,classNames:"",navigateToPLP:g,children:Object(u.jsxs)("div",{className:"menu-text",children:[" ",e.name," "]})},e.name)}));return e=Object(u.jsxs)(L.b,{className:"full-lickin-card menu-cards","data-testid":"tiles-click-six",onClick:function(){return g({})},tabIndex:"0",to:b,children:[Object(u.jsx)(S.a,{"data-testid":"",srcFile:"".concat(or)||"",alt:Object(Se.e)(l),className:"double-img"}),Object(u.jsxs)("div",{className:"all-menu-text",children:[" ",Object(Se.e)(l),Object(u.jsx)("span",{className:"menu-arrow-span",children:Object(u.jsx)(S.a,{srcFile:rr,alt:Object(Se.e)(l),className:"more-arrow-img"})})]})]}),Object(u.jsxs)(c.a.Fragment,{children:[t,e]})}():function(){var e=JSON.parse(JSON.stringify(m)),t=e.shift();return Object(u.jsxs)("div",{className:"d-flex","data-testid":"menu-five-tiles",tabIndex:"0",children:[Object(u.jsx)("div",{className:"first-of-five",children:Object(u.jsxs)(L.b,{className:"menu-cards","data-testid":"tiles-click-".concat(t.name),onClick:function(){return g(t)},tabIndex:"0",to:"menu/".concat(t.url),children:[Object(u.jsx)(S.a,{"data-testid":"",srcFile:Object(x.S)(t.imageName,h,!1,!0),defaultPath:Object(x.S)(null,h,!0),alt:t.name||"menu",className:"w-100"}),Object(u.jsxs)("div",{className:"menu-text",children:[t.name," "]})]},t.name)}),Object(u.jsx)("div",{className:"rest-of-five",children:e.map((function(e,t){return Object(u.jsx)("div",{className:"small-four",children:Object(u.jsx)(lr,{item:e,tenantReducer:h,classNames:"w-100 small-four-img",navigateToPLP:g,children:Object(u.jsxs)("div",{className:"menu-text",children:[e.name," "]})})},e.name)}))})]})}()})),br=function(){var e=Object(i.useState)(Object(x.Hb)(window.innerWidth)),t=Object(j.a)(e,2),n=t[0],a=t[1],c=cr.BROWSE_CATEGORIES,o=function(){var e=Object(x.Hb)(window.innerWidth);a(e)};return Object(i.useEffect)((function(){window.addEventListener("resize",o)}),[n]),Object(u.jsxs)("div",{className:"general-menu-container","data-testid":"generic-component",children:[Object(u.jsxs)("div",{className:"browse-parent d-flex mx-2",children:[Object(u.jsx)("h2",{className:"browse",children:Object(Se.e)(c)}),Object(u.jsx)("div",{className:"horizontal-line"})]}),Object(u.jsx)(ur,{className:"",isMobile:n})]})},vr="/images/offers/lg/",jr="/images/items/no-image.jpg",Or="offerApplied",mr=4,fr=9,pr="Valid to",hr={SPEED:200,SLIDES_TO_SHOW:3,SLIDES_TO_SCROLL:1},gr={VIEW_DETAILS:"viewdetails",REDEEM:"redeem"},Nr={OFFERS_AND_DEALS:"offerDeals",VIEW_ALL_DEALS:"viewAllDeal"},xr=vr,Er=".jpg",Ir=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push(t),e.next=4,je.a.registerEvent(void 0,{data:n[0]},x.E);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tr=function(e){var t=e.className,n=e.clickNextCard,a=void 0===n?null:n;return Object(u.jsx)("div",{className:t,onClick:function(){a()},onKeyPress:function(){a()},tabIndex:"0",role:"button","aria-label":"next","data-testid":"next-button-handler"})},Sr=function(e){var t=e.className,n=e.clickPrevCard,a=void 0===n?null:n;return Object(u.jsx)("div",{className:t,onClick:function(){a()},tabIndex:"0",role:"button","aria-label":"previous","data-testid":"prev-button-handler"})},Cr=n.p+"static/media/TimerRibbon.c063bffb.svg",Ar=n.p+"static/media/RedFilled_Ribbon.a9720417.svg",yr=n.p+"static/media/ViewDetailsArrow.53c29b5a.svg",_r=n(48),Dr=function(e){var t=e.isDealModalOpen,n=e.handleClose,o=e.data,r=void 0===o?{}:o,s=e.couponApplyHandler,d=Object(i.useState)(Object(x.Hb)(window.innerWidth)),l=Object(j.a)(d,2),b=l[0],v=l[1],O=b?{id:"dealDetailsPopUp",role:"dialog",modalTitleId:"dealDetailsPopUp",show:{isDealModalOpen:t},classNames:"deals-module-modal",showCloseBtn:!0,closeButtonHandler:n,modalTitle:Object(Se.e)(_r.m),autoFocus:!0}:{id:"dealDetailsPopUp",role:"dialog",modalTitleId:"dealDetailsPopUp",show:{isDealModalOpen:t},classNames:"deals-module-modal",showCloseBtn:!0,closeButtonHandler:n,modalTitle:Object(Se.e)(_r.l),autoFocus:!0};Object(i.useEffect)((function(){return window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}}));var m=function(){v(Object(x.Hb)(window.innerWidth))};return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},O),{},{"data-testid":"offers-deals-modal-testid",children:Object(u.jsxs)("div",{className:"offers-coupon-mid-box",children:[Object(u.jsx)("h4",{className:"offers-modal-mid-header",children:null===r||void 0===r?void 0:r.heading}),(null===r||void 0===r?void 0:r.endTime)&&Object(u.jsx)("h5",{className:"offers-deals-product-valid",children:"".concat(Object(Se.e)(_r.t)," ").concat(Object(wt.e)(null===r||void 0===r?void 0:r.endTime))}),Object(u.jsx)("p",{className:"offers-modal-mid-desc",children:null===r||void 0===r?void 0:r.description}),Object(u.jsx)("div",{className:"offers-modal-deals-footer",children:Object(u.jsx)(Ot.a,{"data-testid":"redeem-btn-testid",disabled:null===r||void 0===r?void 0:r.isApplied,onClick:function(){return e=null===r||void 0===r?void 0:r.discountCode,n(),void s(e);var e},className:"redeem-btn",children:Object(u.jsx)("span",{className:"btn-text",children:(null===r||void 0===r?void 0:r.isApplied)?Object(Se.e)(_r.p):Object(Se.e)(_r.q)})})})]})}))})},Rr=function(e){var t=Object(i.useState)(0),n=Object(j.a)(t,2),a=n[0],o=n[1],r=Object(i.useState)({}),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)(0),v=Object(j.a)(b,2),O=v[0],m=v[1],f=Object(i.useState)(!1),p=Object(j.a)(f,2),h=p[0],g=p[1],N=Object(i.useState)(0),x=Object(j.a)(N,2),E=x[0],I=x[1],T=c.a.useRef(null),C=e.contentData,A=void 0===C?[]:C,y=e.onOffersViewAll,_=void 0===y?null:y,D=e.onRedeem,R=void 0===D?null:D,w=e.tenantId,k=void 0===w?"":w,L=void 0===hr?{}:hr,P=void 0===gr?{}:gr,M=void 0===Nr?{}:Nr,F=void 0===mr?null:mr,H=void 0===pr?"":pr,B=void 0===fr?null:fr,U=jr,G=Or,Y=L.SPEED,K=void 0===Y?null:Y,V=L.SLIDES_TO_SHOW,W=void 0===V?null:V,q=L.SLIDES_TO_SCROLL,z=void 0===q?null:q,Q=P.VIEW_DETAILS,J=void 0===Q?"":Q,X=P.REDEEM,Z=void 0===X?"":X,$=M.OFFERS_AND_DEALS,ee=void 0===$?"":$,te=M.VIEW_ALL_DEALS,ne=void 0===te?"":te,ae=function(e){var t=Object(wt.j)(e);l(t),g(!0),nt({offerTitle:e.titleValue})},ie={dots:!1,infinite:!1,speed:K,slidesToShow:W,slidesToScroll:z,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(u.jsx)(Tr,{clickNextCard:function(){var e;a<A.length-1&&(e=a+z>A.length-W-1?A.length-W:a+z,o(e),T.current.slickGoTo(e))}}),prevArrow:Object(u.jsx)(Sr,{clickPrevCard:function(){a>0&&(o(a-z),T.current.slickGoTo(a-z))}}),beforeChange:function(e,t){return m(t)},variableWidth:!0,accessibility:!0,responsive:[{breakpoint:1950,settings:{slidesToShow:4,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1720,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1e3,settings:{slidesToShow:3,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:880,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0}}]},ce=function(e,t,n,a,i){return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(S.a,{srcFile:"".concat(Object(Lt.a)(Ht.E)).concat(k).concat(a),alt:"No-Image",defaultPath:"".concat(Object(Lt.a)(Ht.E)).concat(k).concat(U),className:"offersImageText-background"}),Object(u.jsxs)("div",{className:"offersCard-content",children:[Object(u.jsx)("div",{className:"offersImageTextCard-title",children:Object(wt.k)(n)}),Object(u.jsx)("div",{className:"offersCard-text",children:Object(wt.k)(t)}),Object(u.jsxs)("div",{className:"offersButton-item",children:[Object(u.jsx)(Ot.a,{"data-testid":"view-details-btn-img-txt",onClick:function(){return ae(i)},className:"offersView-details","aria-label":"".concat(Object(Se.e)(J)," ").concat(n),children:Object(Se.e)(J)}),Object(u.jsx)(Ot.a,{className:"offers-redeem button transparent-btn black-border whiteButton blackBorder",onClick:function(){return R(e)},disabled:null===i||void 0===i?void 0:i.isApplied,"data-testid":"offer-and-promtion-image-text-button","aria-label":"".concat(Object(Se.e)(Z)," ").concat(n),children:(null===i||void 0===i?void 0:i.isApplied)?Object(Se.e)(G):Object(Se.e)(Z)})]})]})]})},oe=function(e,t,n){return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(S.a,{srcFile:"".concat(Object(Lt.a)(Ht.E)).concat(k).concat(t),className:"offersOnlyImage-background",alt:"No-Image",defaultPath:"".concat(Object(Lt.a)(Ht.E)).concat(k).concat(U)}),Object(u.jsx)("div",{className:"offersCard-content offersFullImageCard-content",children:Object(u.jsxs)("div",{className:"offersButton-item fullImageCardButton-item",children:[Object(u.jsx)(Ot.a,{"data-testid":"view-details-btn-img",onClick:function(){return ae(n)},className:"offersView-details","aria-label":"imageCard_".concat(Object(Se.e)(J)),children:Object(Se.e)(J)}),Object(u.jsx)(Ot.a,{className:"offers-redeem button transparent-btn black-border whiteButton blackBorder",onClick:function(){return R(e)},disabled:null===n||void 0===n?void 0:n.isApplied,"data-testid":"offer-and-promtion-image-button","aria-label":"imageCard_".concat(Object(Se.e)(Z)),children:(null===n||void 0===n?void 0:n.isApplied)?Object(Se.e)(G):Object(Se.e)(Z)})]})})]})},re=function(e,t,n,a,i){return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("section",{className:"offersCard-content",children:[Object(u.jsx)("section",{className:"offersOnlyTextCard-title",children:n}),Object(u.jsx)("section",{className:"offersOnlyTextCard-text",children:t}),Object(u.jsxs)("section",{className:"validity",children:[H," ",Object(u.jsx)("span",{children:Object(ye.e)(Object(ye.q)(a),"DD/MM/YY")})]}),Object(u.jsxs)("section",{className:"offersButton-item",children:[Object(u.jsx)(Ot.a,{"data-testid":"view-details-btn-txt",onClick:function(){return ae(i)},className:"offersView-details","aria-label":"".concat(Object(Se.e)(J),"_textCard"),children:Object(Se.e)(J)}),Object(u.jsx)(Ot.a,{className:"offers-redeem button transparent-btn black-border whiteButton blackBorder",onClick:function(){return R(e)},disabled:null===i||void 0===i?void 0:i.isApplied,"data-testid":"offer-and-promtion-text-button","aria-label":"".concat(Object(Se.e)(Z),"_textCard"),children:(null===i||void 0===i?void 0:i.isApplied)?Object(Se.e)(G):Object(Se.e)(Z)})]})]})})},se=function(e){if((null===e||void 0===e?void 0:e.showTimer)&&Object(wt.g)(null===e||void 0===e?void 0:e.validityEndTime)){var t=Object(u.jsxs)("span",{className:"coupon-time-block",children:[Object(u.jsx)("img",{className:"offers-timer",src:Pt}),Object(u.jsx)(Ft,{endTime:null===e||void 0===e?void 0:e.validityEndTime})]});return Object(u.jsxs)("div",{className:"offersRibbon-container",children:[Object(u.jsx)(Ca.a,{src:Cr,className:"offers-ribbon"}),Object(u.jsx)("span",{className:"offersTimer-text",children:t})]})}if(null===e||void 0===e?void 0:e.header){var n=null===e||void 0===e?void 0:e.header;return Object(u.jsxs)("div",{className:"offersRibbon-container",children:[Object(u.jsx)(Ca.a,{src:Ar,className:"offers-ribbon"}),Object(u.jsx)("span",{className:"ribbon-text",children:n})]})}};return Object(i.useLayoutEffect)((function(){var e=function(){var e=window.innerWidth>1023?[347,.1*window.innerWidth]:[287,20],t=Object(j.a)(e,2),n=t[0],a=t[1],i=window.innerWidth-a,c=Math.ceil(i/n);return 1===c&&(c+=1),c},t=function(){return I(e())};window.addEventListener("resize",t),t()}),[]),Object(u.jsxs)("div",{className:"offersCard-container","data-testid":"offersCard-container-test",children:[Object(u.jsx)("div",{className:"offers-Icon",children:Object(u.jsx)(Ca.a,{src:Aa})}),Object(u.jsxs)("div",{className:"offersContainerHeader-items",children:[Object(u.jsx)("h2",{className:"offersContainer-header",children:Object(Se.e)(ee)}),Object(u.jsxs)("div",{className:"view-all-text",children:[Object(u.jsx)("a",{className:"offersViewAll-link",onClick:_,"data-testid":"view-all-deals-handler",tabIndex:"0",children:Object(Se.e)(ne)}),Object(u.jsx)(Ca.a,{className:"offersViewAlldeals-arrow",src:yr})]})]}),Object(u.jsxs)("div",{className:"offersCard-list",children:[Object(u.jsx)("div",{className:"offersCarousal-list",children:Object(u.jsx)(Wo,{settings:ie,carousalRef:T,children:A.map((function(e,t){var n=e||{},i=n.cardType,c=n.couponCode,o=n.smallText,r=n.titleValue,s=n.imageSrc,d=n.validityEndTime;return t<B&&Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"offers-card ".concat(t===a+E-1&&"offersCard-fade lastOffersCard-fade"),children:[se(e),"image-text"===i&&ce(c,o,r,s,e),"image"===i&&oe(c,s,e),"text"===i&&re(c,o,r,d,e)]})},t)}))})}),A.length>F&&Object(u.jsx)("div",{className:"offers-slideContainer",children:Object(u.jsx)("input",{className:"offers-slider",type:"range",min:"0",max:A.length-W,value:O,id:"myRange",onChange:function(e){m(e.target.value),T.current.slickGoTo(e.target.value)},tabIndex:"-1","aria-hidden":"true"})})]}),h&&Object(u.jsx)(Dr,{"data-testid":"deals-modal",data:d,couponApplyHandler:R,isDealModalOpen:h,handleClose:function(){return g(!1)}})]})},wr=n(35),kr=function(e){var t=Object(i.useState)([]),n=Object(j.a)(t,2),c=n[0],o=n[1],r=Object(N.c)((function(e){return e.appStateReducer})).userStatus,s=void 0===r?{}:r,d=s.localized,l=void 0!==d&&d,b=s.loggedIn,v=void 0!==b&&b,O=Ae.a.DISPOSITION_DATA,m=Object(i.useContext)(E.a).userOrderStateDispatch,f=Object(N.c)((function(e){return e.tenantReducer})),p=Object(N.c)((function(e){return e.profileReducer})),h=f.tenantId,g=void 0===h?"":h,I=Object(N.c)((function(e){return e.cartReducer})),T=I.applicableCoupons,S=void 0===T?[]:T,C=I.cartData,A=void 0===C?{}:C,y=Object(N.b)();Object(i.useEffect)((function(){if(S.length>0){var e=function(e){return e.map((function(e){var t,n,i,c,o,r,s,d,l,u,b,v,j,O,m;return Object(a.a)({couponCode:null===e||void 0===e?void 0:e.code,titleValue:(null===e||void 0===e||null===(t=e.promotionDetails)||void 0===t?void 0:t.title)&&(null===e||void 0===e||null===(n=e.promotionDetails)||void 0===n?void 0:n.title.length)&&Object(wt.c)(null===e||void 0===e||null===(i=e.promotionDetails)||void 0===i||null===(c=i.title[0])||void 0===c?void 0:c.value),smallText:(null===e||void 0===e||null===(o=e.promotionDetails)||void 0===o?void 0:o.description)&&(null===e||void 0===e||null===(r=e.promotionDetails)||void 0===r?void 0:r.description.length)&&(null===e||void 0===e||null===(s=e.promotionDetails)||void 0===s||null===(d=s.description[0])||void 0===d?void 0:d.value),imageSrc:(null===e||void 0===e||null===(l=e.promotionDetails)||void 0===l?void 0:l.image)&&(null===e||void 0===e||null===(u=e.promotionDetails)||void 0===u?void 0:u.image.length)&&xr+(null===e||void 0===e||null===(b=e.promotionDetails)||void 0===b||null===(v=b.image[0])||void 0===v?void 0:v.value)+Er,validityEndTime:null===e||void 0===e?void 0:e.endDateTime,termsAndConditions:Object(wt.a)(null===e||void 0===e||null===(j=e.promotionDetails)||void 0===j?void 0:j.conditions),isApplicable:null===e||void 0===e?void 0:e.isApplicable,isApplied:null===e||void 0===e?void 0:e.isApplied,isRewards:null===e||void 0===e?void 0:e.isRewards,cardType:null===e||void 0===e||null===(O=e.promotionDetails)||void 0===O?void 0:O.cardType},Object(wt.h)(null===e||void 0===e||null===(m=e.promotionDetails)||void 0===m?void 0:m.customProperties))}))}(Object(x.n)(S));o(e)}}),[S]);Object(i.useEffect)((function(){g&&wr.e&&(l&&(null===A||void 0===A?void 0:A.id)?y(Object(St.g)({basketId:null===A||void 0===A?void 0:A.id,tenantId:g})):y(v?Object(St.h)({tenantId:g,userId:null===p||void 0===p?void 0:p.customerId}):Object(St.i)({tenantId:g})))}),[l,v,g,p,wr.e]);var _=function(e){navigator&&navigator.clipboard&&navigator.clipboard.writeText(e),m({type:_r.r})},D=function(t){l?(_(t),Object(x.wb)(e.history)):(m({type:O,value:{showDisposition:!0}}),_(t))};return Object(u.jsx)("div",{className:"offers-container","data-testid":"offer-container",children:Object(u.jsx)(Rr,{"data-testid":"offer-items",contentData:c,onOffersViewAll:function(){e.history.push({pathname:"/offers"}),Ir({event:"viewAllDeals"})},onRedeem:function(e){Ir({event:"redeemOffer",offerTitle:e}),D(e)},tenantId:g})})},Lr={DESKTOP_MAX_WIDTH:"(max-width: 1023px)"},Pr=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.clickHandler,c=Object(i.useState)(""),o=Object(j.a)(c,2),r=o[0],s=o[1],d=n.email,l=void 0===d?"":d,b=n.headline,v=void 0===b?"":b,O=n.subHeadline,m=void 0===O?"":O,f=n.mobileSrc,p=void 0===f?"":f,h=n.desktopSrc,g=void 0===h?"":h,N=n.buttonText,x=void 0===N?"":N;return Object(u.jsxs)("div",{className:"loyalty-crm",children:[Object(u.jsxs)("picture",{children:[Object(u.jsx)("source",{media:Lr.DESKTOP_MAX_WIDTH,srcSet:p,alt:"",className:"loyalty-img"}),Object(u.jsx)("img",{src:g,alt:"",className:"loyalty-img"})]}),Object(u.jsxs)("div",{className:"loyalty-content",children:[Object(u.jsx)("div",{className:"loyalty-headline",children:v}),Object(u.jsx)("div",{className:"loyalty-subheadline",children:m}),Object(u.jsxs)("form",{className:"loyalty-email",onSubmit:function(e){e.preventDefault(),a(r)},children:[Object(u.jsx)("div",{className:"loyalty-mailbox",children:Object(u.jsx)(Rt,{placeholder:l,onChange:function(e){s(e.target.value)},value:r,"data-testid":"loyalty-input"})}),Object(u.jsx)(Va.a,{className:"button blackButton loyalty-button","data-testid":"loyalty-submit","aria-label":x,children:x})]})]})]})},Mr=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push(t),e.next=4,je.a.registerEvent(void 0,{data:n[0]},x.E);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fr=function(e){var t=e.contentData,n=t&&function(e){var t=e.DesktopImage,n=e.button,a=e.email,i=void 0===a?"":a,c=e.headline,o=void 0===c?"":c,r=e.subHeadline,s=void 0===r?"":r,d=e.mobileImage,l=(t&&t.fields&&t.fields.file).url,u=void 0===l?"":l,b=(d&&d.fields&&d.fields.file).url,v=void 0===b?"":b,j=n&&n.fields,O=j.buttonText,m=void 0===O?"":O,f=j.name,p=void 0===f?"":f,h=j.url;return{desktopSrc:u,mobileSrc:v,email:i,headline:o,subHeadline:s,buttonText:m,buttonItem:p,buttonUrl:void 0===h?"":h}}(t);return Object(u.jsx)(Pr,{contentData:n,clickHandler:function(e){e&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())?Mr({event:"subscribeToLoyalty",subscribe:"Successful"}):Mr({event:"subscribeToLoyalty",subscribe:"Unsuccessful"})}})},Hr=n(220),Br=n(186),Ur=n(82),Gr=function(e,t){if(e&&t){var n={};e.replace(/%(.*?)%/g,(function(e,t){n[e]=t})),Object.entries(n).forEach((function(n){var a,i=Object(j.a)(n,2),c=i[0],o=i[1],r=null!==(a=t[o])&&void 0!==a?a:"N/A",s=new RegExp(c,"ig");e=e.replace(s,r)}))}return e},Yr=function(e){var t=e.page,n=e.seoObj,a=Object(i.useState)(null),c=Object(j.a)(a,2),o=c[0],r=c[1],s=Object(i.useState)(""),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(N.c)((function(e){var t,n,a;return{seoContent:null!==(t=null===e||void 0===e||null===(n=e.contentReducer)||void 0===n||null===(a=n.response)||void 0===a?void 0:a.seoStructureData)&&void 0!==t?t:null}})).seoContent;return Object(i.useEffect)((function(){if(!Object(O.isEmpty)(v)&&!Object(O.isEmpty)(t)){var e,a=null!==v&&void 0!==v?v:{},i=a.template,c=void 0===i?{}:i,o=a.seo,s=void 0===o?[]:o,d=(null!==(e=null===s||void 0===s?void 0:s.find((function(e){var n;return(null===(n=e.fields)||void 0===n?void 0:n.title)===t})))&&void 0!==e?e:{}).fields,l=(d=void 0===d?{}:d).templateData,u=void 0===l?{}:l,j=d.data,m=void 0===j?{}:j,f=Object(Ur.documentToHtmlString)(c);if(!Object(O.isEmpty)(f)){var p=Object(Br.a)(f.replace(/<p>|<\/p>/gi,""));p=Gr(p,u),p=Gr(p,n);var h=Object(Br.a)(p);b(h)}if(!Object(O.isEmpty)(m)){var g=JSON.stringify(m);g=Gr(g,n),r(g)}}}),[t,Gr,v,n]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(Hr.a,{children:[l,Object(u.jsx)("script",{type:"application/ld+json",children:o})]})})};Yr.defaultProps={page:null,seoObj:null};var Kr="We Think You\u2019ll Love These",Vr=4,Wr=1024,qr=3,zr=1,Qr={SPEED:200,SLIDES_TO_SHOW:3,SLIDES_TO_SCROLL:1},Jr={PDP_SPEED:200,PDP_SLIDES_TO_SHOW:4,PDP_CONTENT_DATA_MAX_LENGTH_TO_SCROLL:5},Xr=function(e){var t=e.className,n=e.clickNextCard,a=void 0===n?null:n;return Object(u.jsx)("div",{className:t,onClick:function(){a()},tabIndex:"0","aria-label":"next button","data-testid":"next-button-handler"})},Zr=function(e){var t=e.className,n=e.clickPrevCard,a=void 0===n?null:n;return Object(u.jsx)("div",{className:t,onClick:function(){a()},tabIndex:"0","aria-label":"previous button","data-testid":"prev-button-handler"})},$r=n.p+"static/media/heartIcon_inactive.5590264f.svg",es=n.p+"static/media/heartIcon_active_white.3039e363.svg",ts=n.p+"static/media/heartIcon_activeFavourite.531db664.svg",ns=n.p+"static/media/heartIcon_inactiveFavourite.179b2734.svg",as=function(e){var t=e.itemQuantity,n=e.itemCount,a=e.updateItemQuantity,i=e.quantityAction,c=e.item,o=e.itemName,r=e.cartItemCount,s=e.maxItemCountPerLineItem,d=e.hideChild,l=void 0!==d&&d,b="Decreases quantity by 1 item for ".concat(o),v="Increases quantity by 1 item for ".concat(o);return Object(u.jsxs)("div",{className:"cart-food-quantity-change",children:[n===t?Object(u.jsx)(Va.a,{className:"button quantity-decrease",disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!l&&Object(u.jsx)("span",{children:"-"})}):Object(u.jsx)(Va.a,{className:"button quantity-decrease",ariaLable:b,onClickHandler:function(e){return a(c,i.Decrease,e)},"data-testid":"quantity-minus",children:!l&&Object(u.jsx)("span",{children:"-"})}),Object(u.jsx)("span",{className:"cart-food-quantity",children:n}),Object(u.jsx)("span",{className:"sr-only",role:"alert",children:"Quantity updated to ".concat(n)}),Object(u.jsx)(Va.a,{className:".transparent-btn button quantity-increase",ariaLable:v,"data-testid":"quantity-plus",onClickHandler:function(e){return a(c,i.Increase,e)},disabled:0!==s&&r+n>s,children:!l&&Object(u.jsx)("span",{children:"+"})})]})},is=n(78),cs=n(21),os=n(70),rs=n.n(os),ss=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.menuNavigation.name,{"%event%":"menuNavigation","%menuNavigationLink%":t,"%menuIndex%":n},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ds=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=[]).push(Object(Re.a)({event:t.eventType},n,t.selectedData)),console.log(a),e.next=5,je.a.registerEvent(void 0,{data:a[0]},x.E);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ls=function(){var e=Object(be.a)(ue.a.mark((function e(t,n,a){var i,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=[]).push((i={event:t.eventType},Object(Re.a)(i,n,t.selectedData[n]),Object(Re.a)(i,a,t.selectedData[a]),i)),console.log(c),e.next=5,je.a.registerEvent(void 0,{data:c[0]},x.E);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),us=function(){var e=Object(be.a)(ue.a.mark((function e(t,n,a,i){var c,o;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=[]).push((c={event:t.eventType},Object(Re.a)(c,n,t.selectedData[n]),Object(Re.a)(c,a,t.selectedData[a]),Object(Re.a)(c,i,t.selectedData[i]),c)),console.log(o),e.next=5,je.a.registerEvent(void 0,{data:o[0]},x.E);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),bs=function(e,t){var n=JSON.parse(JSON.stringify(e)),a=[];return(null===t||void 0===t?void 0:t.length)&&t.forEach((function(e){var t=null===n||void 0===n?void 0:n.find((function(t){var n=t.isHidden,a=void 0!==n&&n,i=t.items;return!a&&(null===i||void 0===i?void 0:i.length)&&i[0].id===e.id}));t&&a.push(t)})),a},vs=function(e,t,n,a,i,c){var o;return(null===e||void 0===e?void 0:e.categories)&&0===(null===e||void 0===e||null===(o=e.products)||void 0===o?void 0:o.length)&&0==Object.keys(t).length?js(e.categories[0],n,a,i):Object.keys(t).length>0?js(t,n,a,i):js(e,n,a,i)},js=function(e,t,n,a){var i,c={};return null===e||void 0===e||null===(i=e.products)||void 0===i?void 0:i.map((function(e){return e.items.forEach((function(e,i){var o=Object(x.gb)(e.availability[0],a).toFixed(2);o=o?parseFloat(o):"NA",c={item_name:e.name,item_id:e.id,price:o,item_category:t,item_list_name:t,item_list_id:n,index:i,quantity:"1"}})),c}))},Os=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.viewItemListPlp.name,{data:{event:"view_item_list",ecommerce:{item_list:{items:t}}}},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ms=function(e,t){var n={},a=e.find((function(e){return e.name.trim()===t}))||{};return 0===Object.keys(a).length&&(a=e.find((function(e){var a;if((null===(a=e.categories)||void 0===a?void 0:a.length)>0)for(var i in e.categories)if(e.categories[i].id===t)return n=e.categories[i],!0;return!1}))),{selectedCategory:a,selectedSubcategory:n}},fs=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=null===e||void 0===e?void 0:e.find((function(e){var n=e.url,a=e.isHidden,i=e.categories,c=!a&&(null===n||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase());return c||(c=i.find((function(e){var n=e.url;return!e.isHidden&&(null===n||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}))),c}));if(c)is.scroller.scrollTo(c.name.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:i?-150:-100});else if(t&&(n("category"),a(!0)),!rs()(e)){var o=null===e||void 0===e?void 0:e.find((function(e){return!e.isHidden}));o&&is.scroller.scrollTo(o.name.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:i?-140:-100})}return!!c},ps=function(e){return null===e||void 0===e?void 0:e.isStoreClosed},hs=function(e){var t=cs.d.ADD_TO_CART_OCCASSION,n=cs.d.STORE_CLOSED_BUTTON_TEXT,a=Object(Se.e)(t),i=Object(Se.e)(n);return(null===e||void 0===e?void 0:e.isStoreClosed)&&(a=i),{btnText:a}},gs=n.p+"static/media/Single_Arrow_Edit.538cdcff.svg",Ns=function(e){var t=e.basketLineItemId,n=e.customizableFoodItemsList,a=e.SetCustomizableFoodItemsList,c=e.calculateTotalAmountHandler,o=e.isEditSelection,r=(e.handleClose,Object(N.b)()),s=bi.a.RESET_MODGROUP_IDS_UPDATE,d=Object(i.useContext)(E.a),l=d.userOrderState,b=d.userOrderStateDispatch,v=Ae.a.MINI_PDP_DATA,O=Ae.a.FROMFLAGEDIT,m=Ae.a.EDIT_CLICKED,f=Dn.a.QUANTITY_ACTION,p=n[t],h=Object(N.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails})),g=Object(i.useState)(!1),I=Object(j.a)(g,2),T=I[0],S=I[1],C=Object(i.useState)(!1),A=Object(j.a)(C,2),y=(A[0],A[1]),_=function(e,i){p.quantity=i===f.Increase?(null===p||void 0===p?void 0:p.quantity)+1:(null===p||void 0===p?void 0:p.quantity)-1;var o=n;o[t]=p,a(o),c()};Object(i.useEffect)((function(){var e,t=!0;null===p||void 0===p||null===(e=p.modGrps)||void 0===e||e.map((function(e){t*=e.modifiers[0].isDefault})),y(t)}),[p.modGrps]),Object(i.useEffect)((function(){Object(x.cb)(h,p,l,T,r,St.t),S(!1)}),[h,T]);return Object(u.jsxs)(u.Fragment,{children:[o?Object(u.jsx)("div",{className:"EditItemsCard",onClick:function(){return function(){var e,n;b({type:v,value:{id:null===p||void 0===p||null===(e=p.foodItems)||void 0===e?void 0:e.id,flag:O,foodLineId:t}}),b({type:s}),b({type:m,value:{cartEditClicked:!1}}),r(Object(ui.c)({tenantId:null===p||void 0===p?void 0:p.tenantId,catalogName:null===p||void 0===p?void 0:p.catalog,itemId:null===p||void 0===p||null===(n=p.foodItems)||void 0===n?void 0:n.id})),S(!0)}()},children:Object(u.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"DisplayNameFont",children:null===p||void 0===p?void 0:p.displayName}),Object(u.jsx)("div",{className:"customizableProducts-Default",children:Object(x.db)(p.modGrps)})]}),Object(u.jsx)("img",{className:"arrow-icon","data-testid":"arrow-click-edit",src:gs})]})}):Object(u.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"DisplayNameFont",children:null===p||void 0===p?void 0:p.displayName}),Object(u.jsx)("div",{className:"customizableProducts-Default",children:Object(x.db)(p.modGrps)})]}),Object(u.jsx)("div",{className:"PlusAndMinus",children:Object(u.jsx)(as,{itemCount:null===p||void 0===p?void 0:p.quantity,itemQuantity:1,"data-testid":"QuantityModifier_OnClick",updateItemQuantity:_,quantityAction:f,maxItemCountPerLineItem:null===p||void 0===p?void 0:p.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})})]}),Object(u.jsx)("div",{className:"LineSeparator"})]})},xs="addNewProduct",Es="updateCart",Is=function(e){var t=e.addNewProductHandler,n=e.currencySymbol,a=(e.currencyConversionFactor,e.updateCartHandler),i=e.customizableFoodItemsList,c=e.SetCustomizableFoodItemsList,o=e.totalAmount,r=e.calculateTotalAmountHandler,s=e.isEditSelection,d=e.handleClose,l=xs,b=Es,v=Object.keys(i).length;return Object(u.jsxs)("div",{children:[Object.keys(i).map((function(e){return Object(u.jsx)(Ns,{"data-testid":"ModalTemplate_QuantityModifier",addNewProductHandler:t,basketLineItemId:e,customizableFoodItemsList:i,SetCustomizableFoodItemsList:c,calculateTotalAmountHandler:r,isEditSelection:s,handleClose:d})})),s?Object(u.jsx)("div",{className:"editSelectionsItem",children:Object(u.jsx)("button",{className:"button whiteButton blackBorder add-new-product","data-testid":"add-new-product-for-edit","aria-label":"Add new product",tabindex:"0",onClick:function(){return t()},children:Object(Se.e)(l)})}):Object(u.jsxs)("div",{className:v<2?"FinalButton":"FinalDivButtons",children:[Object(u.jsx)("div",{className:"AddNew",children:Object(u.jsx)("span",{className:"addNewItem",onClick:t,children:Object(Se.e)(l)})}),Object(u.jsx)("div",{className:"ButtonAndPopupLink",children:Object(u.jsxs)("button",{disabled:!1,className:"button activeBtn redButton Update-cart-button ","aria-label":"Update Cart",tabindex:"0",onClick:function(){return a()},children:[Object(u.jsx)("span",{className:"TextInButton",children:Object(Se.e)(b)+" "}),Object(u.jsx)("span",{children:n+o})]})})]})]})},Ts=function(e){var t=e.filteredPreviousData,n=e.tenantData,c=e.dname,o=e.cardId,r=e.categoryId,s=e.itemCount,d=e.availability,l=e.imageName,b=e.itemFoodlineId,v=e.customizable,O=e.product,m=void 0===O?{}:O,f=e.isFavouriteMenu,p=void 0!==f&&f,h=e.cartData,g=e.clickHandler,E=e.handleClose,I=e.foodId,T=e.isEditSelection,S=e.headerText,C=Object(N.b)(),A=n.tenantId,y=Object(i.useState)({}),_=Object(j.a)(y,2),D=_[0],R=_[1],w=Object(i.useState)(0),k=Object(j.a)(w,2),L=k[0],P=k[1],M=n.currencyConversionFactor,F=n.currencySymbol,H={id:"CustomizedModal",role:"dialog",modalTitleId:"SELECT QUANTITY",show:!0,classNames:"CustomizedModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:E,modalTitle:S},B=Object(i.useState)(-1),U=Object(j.a)(B,2),G=U[0],Y=U[1],K=Object(i.useState)([]),V=Object(j.a)(K,2),W=V[0],q=V[1],z=function(){Y(-1),E&&E()},Q=function(){0===W.length&&0===G?z():W&&(null===W||void 0===W?void 0:W.length)&&G<=W.length&&(!function(){var e,t;C(Object(St.v)({params:{basketId:null===h||void 0===h?void 0:h.id,basketLineItemId:null===(e=W[G])||void 0===e?void 0:e.basketLineItemId},tenantId:A},{quantity:null===(t=W[G])||void 0===t?void 0:t.quantity}))}(),Y(G+1))};Object(i.useEffect)((function(){Q()}),[W]),Object(i.useEffect)((function(){if(-1===G){var e,t=Object(a.a)({},D);null===h||void 0===h||null===(e=h.foodLines)||void 0===e||e.forEach((function(e){var a,i,c,o;(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.customizable)&&(null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.id)===I&&(t[null===e||void 0===e?void 0:e.id]={tenantId:A,basketLineItemId:null===e||void 0===e?void 0:e.id,quantity:null===e||void 0===e?void 0:e.quantity,unitPrice:null===e||void 0===e?void 0:e.unitPrice,displayName:null===e||void 0===e||null===(c=e.item)||void 0===c?void 0:c.displayName,modGrps:null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.modGrps,maxItemCountPerLineItem:null===n||void 0===n?void 0:n.maxItemCountPerLineItem,previousQty:null===e||void 0===e?void 0:e.quantity,foodItems:null===e||void 0===e?void 0:e.item,catalog:null===h||void 0===h?void 0:h.catalog,categorySelected:r})})),R(t),Y(0)}else G===W.length?(z(),C(Object(St.s)(new Date))):Q()}),[null===h||void 0===h?void 0:h.foodLines]),Object(i.useEffect)((function(){J()}),[D]);var J=function(){var e=0;Object.values(D).forEach((function(t){e+=t.quantity*t.unitPrice})),P((e/M).toFixed(2))},X=Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},H),{},{children:Object(u.jsx)(Is,Object(a.a)(Object(a.a)({},e),{},{"data-testid":"ModalTemplate",filteredPreviousData:t,addNewProductHandler:function(e){p?g(e,m,{productName:c,productImage:l,productPrice:Object(x.gb)(d[0],M)}):g(e,o,v,r,s,{productName:c,productImage:l,productPrice:Object(x.gb)(d[0],M)},b),E&&E()},currencySymbol:F,currencyConversionFactor:M,updateCartHandler:function(){if((null===h||void 0===h?void 0:h.id)&&A){var e=Object.values(D).filter((function(e){return(null===e||void 0===e?void 0:e.previousQty)!==(null===e||void 0===e?void 0:e.quantity)&&e}));q(e)}},customizableFoodItemsList:D,SetCustomizableFoodItemsList:R,totalAmount:L,calculateTotalAmountHandler:J,isEditSelection:T,handleClose:E}))}));return Ii.a.createPortal(X,document.getElementById("modal-popups"))},Ss=n.p+"static/media/Non_veg_dot_Icon.1b0fc8fd.svg",Cs=n.p+"static/media/Veg_dot_Icon.2636651d.svg",As=n.p+"static/media/Product_Card_Icon.6391b56a.svg",ys=n.p+"static/media/ribbonRedOutlined.36f99748.svg",_s=n.p+"static/media/heartIcon_active_red.2738ae06.svg",Ds=n(155),Rs=n.p+"static/media/Takeaway_Inprogress.bb877163.svg",ws=n.p+"static/media/Call-white.06c542e3.svg",ks=n.p+"static/media/Strips.4f336307.svg",Ls={Non_veg_dot_Icon:Ss,Veg_dot_Icon:Cs,Product_Card_Icon:As,ribbonRedOutlined:ys,TimerIcon:Pt,heartIcon_inactive:$r,heartIcon_active:es,heartIcon_active_red:_s,heartIcon_inactive_red:ns,BucketIcon:Ds.a,ConfirmedImg:Mn,TakeAwayImg:Rs,TakeawayCompleted:Pn,phoneImg:ft,Direction:pt,CallIcon:ws,ArrowIcon:De,HeaderLogo:Ta,Strips:ks},Ps=function(e,t,n,a,i){return Object(x.lb)(e||t||n||a||i,Ls.ribbonRedOutlined,null)};var Ms=function(e){var t,n,a=e.getCardTypeName,c=e.cardType,o=e.allowClickOnProductCard,r=e.discount,s=e.specials,d=e.exclusive,l=e.timer,b=e.cardId,v=e.customizable,O=e.getProductImageClassName,m=e.tenantData,f=e.imageName,p=e.onCardClickHandler,h=e.categoryId,g=e.dname,I=e.availability,C=e.newitem,A=e.topseller,y=e.customlabelfield,_=e.getSpecificRibbonBanner,D=e.userParams,R=e.favouriteItems,w=e.item,k=e.classFavouriteIconActive,L=e.getCardName,P=e.favouriteButtonClickHandler,M=e.itemCount,F=e.classFavouriteIconInActive,H=e.getMenuProductHeader,B=e.veg,U=e.servingCount,G=e.getVegNonvegClassName,Y=e.menuProductPriceClassName,K=e.checkForBasePriceInMenu,V=e.baseprice,W=e.cardCat,q=e.displayPrice,z=e.getPriceClassName,Q=e.menuProductDescriptionClassName,J=e.longDescription,X=e.updateItemQuantity,Z=e.configureOptions,$=e.storeClosedData,ee=e.classesCardButton,te=e.classEnableAddToCart,ne=e.enableAddToCartButton,ae=e.checkLoading,ie=e.menuCardBtnText,ce=e.clickHandler,oe=e.itemFoodlineId,re=e.openCostomizedModal,se=e.setOpenCostomizedModal,de=e.filteredPreviousData,le=e.cartData,ue=e.CARD_TYPE,be=e.setShowTopScrollBtn,ve=(e.FoodId,Object(N.b)()),je=bi.a.RESET_MODGROUP_IDS_UPDATE,Oe=Ae.a.MINI_PDP_DATA,me=Ae.a.FROMFLAGEDIT,fe=Ae.a.EDIT_CLICKED,pe=Object(i.useContext)(E.a),he=(pe.userOrderState,pe.userOrderStateDispatch),ge=Object(i.useState)(!1),Ne=Object(j.a)(ge,2),xe=Ne[0],Ee=Ne[1],Ie=Object(i.useState)(Object(x.Hb)(window.innerWidth)),Te=Object(j.a)(Ie,2),Ce=Te[0],ye=Te[1],_e=cr.ITEM_QUANTITY,De=Dn.a.QUANTITY_ACTION,Re=Object(x.lb)(null===D||void 0===D?void 0:D.loggedIn,T.Db,""),we=Z.allowAddToCartButton,ke=void 0===we||we,Le=Ls.Non_veg_dot_Icon,Pe=Ls.Veg_dot_Icon,Fe=Ls.Product_Card_Icon,He=Ls.TimerIcon,Ye=Ls.heartIcon_inactive,Ke=Ls.heartIcon_active,Ve=Ls.heartIcon_active_red,We=Ls.heartIcon_inactive_red;Object(i.useEffect)((function(){window.addEventListener("resize",qe)}),[Ce]);var qe=function(){ye(Object(x.Hb)(window.innerWidth))},ze=function(){return Object(u.jsxs)("div",{className:Y(c),children:[K(V,W)&&q(V,null===m||void 0===m?void 0:m.currencyConversionFactor),Object(u.jsxs)("span",{className:z(V,W),children:[Me.CURRENCY,Object(x.gb)(I[0],null===m||void 0===m?void 0:m.currencyConversionFactor).toFixed(2)]})]})},Qe=function(){return Object(u.jsxs)("div",{className:G(c),children:[B?Object(Se.e)(Me.VEG):Object(Se.e)(Me.NON_VEG),U&&Object(u.jsx)("div",{className:"Dot"}),Me.SERVES,U]})},Je=function(){if(null===D||void 0===D?void 0:D.loggedIn)return Object(u.jsxs)("picture",{children:[Object(u.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(x.lb)("small-menu-product-card"===L,Array.isArray(R)&&R.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===w||void 0===w?void 0:w.id)}))?k(c):F(c),Array.isArray(R)&&R.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===w||void 0===w?void 0:w.id)}))?Ve:We),alt:"",className:"menu-product-save ".concat(Re),"data-testid":"fav-item-source",onClick:function(){return P()}}),Object(u.jsx)("source",{media:"(min-width: 1023px)",srcSet:Array.isArray(R)&&R.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===w||void 0===w?void 0:w.id)}))?Ke:Ye,alt:"",className:"menu-product-save ".concat(Re),"data-testid":"fav-item-largeScreen",onClick:function(){return P()}}),Object(u.jsx)("img",{src:Object(x.r)(Array.isArray(R),null===R||void 0===R?void 0:R.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===w||void 0===w?void 0:w.id)})))?Ke:Ye,alt:"",className:"menu-product-save ".concat(Re),"data-testid":"save-product-".concat(b),onClick:function(){return P()}})]})},Xe=function(){return Object(u.jsx)(S.a,{"data-testid":"product-image",className:O(c),defaultPath:Object(x.S)(null,m,!0),srcFile:Object(x.S)(f,m),onClick:function(e){return o&&p(e,b,v,h,{productName:g,productImage:f,productPrice:Object(x.gb)(I[0],null===m||void 0===m?void 0:m.currencyConversionFactor)})},alt:""})};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:a(c,o,r,s,d,l),"data-testid":"click-allow-on-product-".concat(b),id:b,children:[Object(x.Db)()&&v&&Object(u.jsx)("div",{className:"position-absolute p-2 m-1 bg-dark text-white rounded-pill",children:"Customizable"}),c!==ue.SMALL&&Xe(),Object(u.jsx)(Ca.a,{src:s?Fe:Ps(y,r,d,C,A),className:Object(x.lb)(s,"specials-product-ribbon",Object(x.lb)(Object(x.s)(d,y),"exclusive-product-ribbon","discount-product-ribbon"))}),Object(u.jsx)("span",{className:Object(x.lb)(s,"specials-ribbon-text","discount-ribbon-text"),children:l?Object(u.jsxs)("div",{children:[Object(u.jsx)(Ca.a,{src:He,className:"product-timer"}),Object(u.jsx)("span",{className:"product-timer-text",children:Object(Se.e)(Me.TIMER)})]}):_(s,r,d,C,A,y)}),!Ce&&Je(),Object(u.jsxs)("div",{className:"menu-card-content","data-testid":"menu-card-content-pdp-nav",onClick:function(e){return o&&p(e,b,v,h,{productName:g,productImage:f,productPrice:Object(x.gb)(I[0],null===m||void 0===m?void 0:m.currencyConversionFactor)})},children:[Object(u.jsx)("div",{className:H(c,r,s,d,{timer:l,newitem:C,topseller:A,customlabelfield:y}),children:g[0].value}),Ce?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"description-and-image",children:[Object(u.jsx)("div",{className:Q(c),id:"longDescription",children:J[0].value}),c===ue.SMALL&&Xe()]}),Object(u.jsxs)("div",{className:"PriceVegNonveg",children:[ze(),Qe(),Object(u.jsx)("div",{className:"hearticonDiv",children:Je()})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(x.lb)(!B,Le,Pe)}),Qe(),ze(),Object(u.jsx)("div",{className:Q(c),id:"longDescription",children:J[0].value})]})]}),Object(u.jsxs)("div",{className:"quantityAddtocart ".concat(M?"cardwithQuantity "+Re:"cardwithNoquantity"),children:[!!M&&function(e,t,n,a){return Object(u.jsx)(as,{itemCount:e,itemQuantity:_e,updateItemQuantity:t,quantityAction:De,item:void 0,itemName:n,maxItemCountPerLineItem:a,cartItemCount:1,hideChild:!0})}(M,X,g[0].value,null===m||void 0===m?void 0:m.maxItemCountPerLineItem),ke&&$&&Object(u.jsx)("div",{className:ee(M,Re),children:M<1?Object(u.jsxs)(Va.a,{tabIndex:"0",className:te(ne,c,ae,$),"data-testid":"add-to-cart-".concat(b),disabled:ps($),onClickHandler:function(e){var t;(null===(t=ie($))||void 0===t?void 0:t.enabled)&&M<=0&&ce(e,b,v,h,M,{productName:g,productImage:f,productPrice:Object(x.gb)(I[0],null===m||void 0===m?void 0:m.currencyConversionFactor)},oe),e.preventDefault(),e.stopPropagation()},"aria-label":(null===(t=ie($))||void 0===t?void 0:t.btnText)+g[0].value,children:[null===(n=ie($))||void 0===n?void 0:n.btnText,Object(x.j)($.isStoreClosed)]}):v&&Object(u.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:function(){1===M?(he({type:Oe,value:{id:null===w||void 0===w?void 0:w.mdmId,flag:me,foodLineId:oe}}),he({type:je}),he({type:fe,value:{cartEditClicked:!1}}),ve(Object(ui.c)({tenantId:null===m||void 0===m?void 0:m.tenantId,catalogName:null===le||void 0===le?void 0:le.catalog,itemId:null===w||void 0===w?void 0:w.mdmId})),ve(Object(St.t)({showProductListingModal:!0,categorySelected:h}))):(Ee(!0),se(!0))},children:Object(Se.e)(Be)})})]})]}),Object(u.jsx)("div",{children:re&&function(){var t;return Object(u.jsx)(Ts,{handleClose:function(){se(!1),Ee(!1)},filteredPreviousData:de,updateItemQuantity:X,tenantData:m,dname:g,clickHandler:ce,cardId:b,categoryId:h,itemCount:M,availability:I,imageName:f,itemFoodlineId:oe,customizable:v,setOpenCostomizedModal:se,openCostomizedModal:re,cartData:le,setShowTopScrollBtn:be,foodId:null===(t=e.item)||void 0===t?void 0:t.mdmId,isEditSelection:xe,headerText:xe?Object(Se.e)(Ue):Object(Se.e)(Ge)})}()})]})},Fs=Fe,Hs=function(e,t,n,a,i,c){return e===Fs.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===Fs.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===Fs.SMALL?function(e,t,n,a,i){return e&&(t||n||a||i)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||n||a||i)?"small-menu-product-card product-card-active":!e&&(t||n||a||i)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card"}(t,n,a,i,c):e===Fs.CAROUSAL?"carousal-menu-product-card":void 0},Bs=function(e){return e===Fs.LARGE?"menu-product-image":e===Fs.MEDIUM?"medium-menu-product-image":e===Fs.SMALL?"small-menu-product-image":e===Fs.CAROUSAL?"carousal-menu-product-image":void 0},Us=function(e,t,n,a,i){var c=i.timer,o=i.newitem,r=i.topseller,s=i.customlabelfield;return e===Fs.LARGE?"menu-product-header":e===Fs.MEDIUM?"medium-menu-product-header":e===Fs.SMALL?t||n||a||c||o||r||s?"small-menu-product-header-shift":"small-menu-product-header":e===Fs.CAROUSAL?"carousal-menu-product-header":void 0},Gs=function(e){return e===Fs.LARGE?"menu-vegOrNonVeg":e===Fs.MEDIUM?"medium-menu-vegOrNonVeg":e===Fs.SMALL?"small-menu-vegOrNonVeg":e===Fs.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0},Ys=function(e){return e===Fs.LARGE?"menu-product-price":e===Fs.MEDIUM?"medium-menu-product-price":e===Fs.SMALL?"small-menu-product-price":e===Fs.CAROUSAL?"carousal-menu-product-price":""},Ks=function(e,t){return e&&"recommended"!==t?"availableprice-withbaseprice":""},Vs=function(e){return e===Fs.LARGE?"menu-product-description":e===Fs.MEDIUM?"medium-menu-product-description":e===Fs.SMALL?"small-menu-product-description":e===Fs.CAROUSAL?"carousal-menu-product-description":""},Ws=function(e,t){return e?"cardButton "+t:"cardButtonOnly "+t},qs=function(e){var t=cr.ADD_TO_CART,n=Object(Se.e)(t),a="",i=!0;return(null===e||void 0===e?void 0:e.isStoreNone)?(n="Store Closed",a="no-store-selected",i=!1):(null===e||void 0===e?void 0:e.isStoreClosed)&&(n="Store Closed",a="store-closed",i=!1),{btnText:n,className:a,enabled:i}},zs=function(e,t,n,a){return e?"".concat(function(e,t){var n,a="button activeBtn";switch(a+=t?" blackButton":" redButton",e){case Fs.LARGE:n="menu-cart-button";break;case Fs.MEDIUM:n="medium-menu-cart-button";break;case Fs.SMALL:n="small-menu-cart-button";break;case Fs.CAROUSAL:n="carousal-menu-cart-button";break;default:n=""}return"".concat(a," ").concat(n)}(t,n)," ").concat(qs(a).className):"button btn-black medium-menu-cart-button"},Qs=function(e,t,n,a,i,c){return c?Object(u.jsx)("span",{"data-testid":"exclusive-id",children:c}):e||(t||(n?Object(u.jsx)("span",{"data-testid":"exclusive-id",children:Object(Se.e)(Me.EXCLUSIVE_DEAL)}):a?Object(u.jsx)("span",{"data-testid":"new-id",children:Object(Se.e)(Me.NEW)}):Object(x.lb)(i,Object(u.jsx)("span",{"data-testid":"topseller-id",children:Object(Se.e)(Me.TOP_SELLER)}),null)))},Js=function(e){return e===Fs.CAROUSAL?es:ts},Xs=function(e){return e===Fs.CAROUSAL?$r:ns},Zs=function(e,t){return Boolean(e)&&"recommended"!==t},$s=function(e,t){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"price-display",children:"old price"}),Object(u.jsxs)("span",{className:"base-price-menu",children:[Me.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]})},ed=function(e){var t,n=e.cardId,c=e.cardType,o=e.discount,r=e.specials,s=e.exclusive,d=e.timer,l=e.availability,b=void 0===l?[]:l,v=e.tenantData,O=e.customizable,m=e.categoryId,f=e.activeId,p=(e.openAlertModal,e.addFavourite),h=e.removeFavourite,g=e.item,E=e.isHidden,I=e.cardFor,T=e.setShowTopScrollBtn,S=e.userParams,C=Dn.a.QUANTITY_ACTION,A=Object(N.b)(),y=null===v||void 0===v?void 0:v.tenantId,_=v.componentOptions,D=(void 0===_?{}:_).PlpProductCard,R=(void 0===D?{}:D).allowClickOnProductCard,w=void 0!==R&&R,k=Object(N.c)((function(e){return e.cartReducer})),L=Object(N.c)((function(e){var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),P=Object(x.sb)(k),M=P.cartData,F=void 0===M?{}:M,H=P.isAddItemLoading,B=void 0!==H&&H,U=Object(i.useState)(0),G=Object(j.a)(U,2),Y=G[0],K=G[1],V=Object(i.useState)(null),W=Object(j.a)(V,2),q=W[0],z=W[1],Q=Object(i.useState)(0),J=Object(j.a)(Q,2),X=J[0],Z=J[1],$=null===L||void 0===L?void 0:L.id,ee=Object(N.c)((function(e){var t;return Object(x.vb)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),te=Object(i.useState)(!0),ne=Object(j.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(i.useState)("product"),oe=Object(j.a)(ce,2),re=oe[0],se=oe[1],de=(null!==(t=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,le=(de=void 0===de?{}:de).productMapById,ve=void 0===le?{}:le,je=Object(i.useState)(""),Oe=Object(j.a)(je,2),me=Oe[0],fe=Oe[1],pe=Object(i.useState)(0),he=Object(j.a)(pe,2),ge=he[0],Ne=he[1],xe=Object(i.useState)([]),Ee=Object(j.a)(xe,2),Ie=Ee[0],Te=Ee[1],Se=Object(i.useState)(!1),Ce=Object(j.a)(Se,2),Ae=Ce[0],ye=Ce[1],_e=Object(i.useState)(""),De=Object(j.a)(_e,2),Re=De[0],we=De[1];Object(i.useEffect)((function(){I&&se(I)}),[I]),Object(i.useEffect)((function(){var e=Object(x.Bb)(F)?Object(x.Y)(n,F):{},t=Object(x.lb)(Object(x.Bb)(e),e.count,0),a=Object(x.lb)(Object(x.Bb)(e),e.matchedItemFoodLineId,""),i=Object(x.lb)(Object(x.Bb)(e),e.entriesCount,0),c=Object(x.lb)(Object(x.Bb)(e),e.itemUnitPrice,"");K(t),z(a),Z(i),Ne(c)}),[F,n]);var ke=Object(i.useCallback)((function(){fe(Hs(c,w,o,r,s,d))}));Object(i.useEffect)((function(){ke()}),[ke]);var Le=function(){var e=Object(be.a)(ue.a.mark((function e(t,n,a,i){var c,o,r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(x.tb)(null===(c=a[0])||void 0===c?void 0:c.price),r={mdmId:n.mdmId,id:n.id,name:n.name,imageName:n.imageName,description:n.longDescription,quantity:1,isCustomized:n.customizable,price:o/(null===v||void 0===v?void 0:v.currencyConversionFactor),additionalProperties:n.additionalProperties},e.next=4,p(t,r,i);case 4:return e.next=6,A(Object(St.t)({showProductListingModal:!1,categorySelected:m}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){ie(!0)}),[Y]);var Pe=function(e){if(null===F||void 0===F?void 0:F.id){var t=null===F||void 0===F?void 0:F.foodLines.filter((function(t){var n;return(null===t||void 0===t||null===(n=t.item)||void 0===n?void 0:n.id)===e}));Te(t)}we(e),ye(!0)},Me=Object(x.r)(B,f===n);return!E&&Object(u.jsx)(Ms,Object(a.a)(Object(a.a)({},e),{},{getCardTypeName:Hs,"data-testid":"MenuPlpTestId",allowClickOnProductCard:w,getProductImageClassName:Bs,getSpecificRibbonBanner:Qs,favouriteItems:ee,classFavouriteIconActive:Js,getCardName:me,favouriteButtonClickHandler:function(){Object(x.r)(Array.isArray(ee),null===ee||void 0===ee?void 0:ee.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===g||void 0===g?void 0:g.id)})))?h(y,$,g.id):Le(y,g,b,$)},itemCount:Y,classFavouriteIconInActive:Xs,getMenuProductHeader:Us,getVegNonvegClassName:Gs,menuProductPriceClassName:Ys,checkForBasePriceInMenu:Zs,cardCat:re,displayPrice:$s,getPriceClassName:Ks,menuProductDescriptionClassName:Vs,updateItemQuantity:function(e,t){if(S.localized){var n=Number((ge/(null===v||void 0===v?void 0:v.currencyConversionFactor)).toFixed(2)),a={foodName:null===g||void 0===g?void 0:g.name,foodItemId:null===g||void 0===g?void 0:g.mdmId,cartPrice:n,modifiers:[],quantity:Y,foodLineId:q},i=Ni({cartId:null===F||void 0===F?void 0:F.id},null===v||void 0===v?void 0:v.tenantId,void 0,ve,void 0,A,void 0).itemQuantityHandler;t===C.Increase?O&&Y>=1?Pe(null===a||void 0===a?void 0:a.foodItemId):(!O&&ie(!1),i(a,C.Increase)):X>1?Pe(null===a||void 0===a?void 0:a.foodItemId):(ie(!1),i(a,C.Decrease))}},classesCardButton:Ws,classEnableAddToCart:zs,enableAddToCartButton:ae,checkLoading:Me,menuCardBtnText:qs,itemFoodlineId:q,openCostomizedModal:Ae,filteredPreviousData:Ie,setOpenCostomizedModal:ye,cartData:F,CARD_TYPE:Fs,setShowTopScrollBtn:T,FoodId:Re}))},td=function(e){var t=e.handleClose,n=e.ProductListingModalForm,a=e.headerText,i=e.modalTitleId,o=void 0===i?"":i;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{id:"ProductListingModalPopup",role:"dialog",modalTitleId:o,show:!0,classNames:"product-listing-module-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:a,autoFocus:!0,children:n})})},nd=n.p+"static/media/Check_Icon.b40df6e7.svg",ad={MODALHEADERTEXT:"selectOption",UPLIFTPLACEHOLDER:"upSize",CONFIRMBUTTONTXT:"confirmSelection",REGULAR:"Regular",ADDTOCART:"addToCart",UPDATECART:"updateCart",SETFLAGCASE:{DEFAULT:"default",FROMEDIT:"fromEdit",ITEMINCLUDES:"itemIncludes"},SINGLE:"single"},id=function(e,t,n,a,i){var c=ad.SETFLAGCASE,o=Ae.a.FROMFLAGEDIT;if(0===e.length){if(a&&t.minipdpData.fromFlag!==o)return c.DEFAULT;if(t.minipdpData.fromFlag===o&&function(e,t){return!!Object(x.Bb)(t)&&t.filter((function(t){return t.id===e})).length>0}(n,i))return c.FROMEDIT}else if(null===e||void 0===e?void 0:e.includes(n))return c.ITEMINCLUDES},cd=function(e,t){return"".concat("carousal"===e?"carousal-modifier-item-card":"modifier-item-card"," ").concat(t?"selected":"")},od=function(e){return"carousal"===e?"carousal-modifier-product-save":"modifier-product-save"},rd=function(e){return"carousal"===e?"carousal-modifier-card-image":"modifier-card-image"},sd=function(e,t){var n=e.analyticsObject,a=e.currLocation;t||$e(n,a)},dd=function(e){var t=e.cardData,n=e.min,a=e.max,c=e.savedModifierHandler,r=e.savedModifiers,s=e.cardType,d=e.tenantReducer,l=e.modgrpId,b=e.modGrpName,v=e.updatedItems,O=e.getCartModifiers,m=t.id,f=t.name,p=t.size,h=t.dname,g=t.isDefault,N=t.imageName,I=t.isHidden,T=t.calorificInfo,C=h&&h.length&&h[0].value,A=Object(i.useState)(!1),y=Object(j.a)(A,2),_=y[0],D=y[1],R=Object(i.useContext)(E.a),w=R.userOrderState,k=R.userOrderStateDispatch,L=w.pdpScreenCommons.modGroupIdsUpdated,P=bi.a.MODGROUP_IDS_UPDATE,M=bi.a.UPDATE_DEFAULT_MODGROUP,F=Ae.a.CONFIRM_UPSIZE_ANALYTICS,H=ad.SETFLAGCASE,B=Object(o.g)();Object(i.useEffect)((function(){switch(id(v,w,m,g,O)){case H.DEFAULT:case H.FROMEDIT:D(!0),c(t,!0,r);break;case H.ITEMINCLUDES:D(!0);break;default:D(!1)}}),[m,v,g,O]);return!I&&Object(u.jsxs)("div",{className:cd(s,_),"data-testid":"click-save-product",onClick:function(){if(g||L.includes(l)){if(g){var e=L.filter((function(e){return e!==l}));k({type:M,value:e})}}else k({type:P,value:l});var i={analyticsObject:{name:f,size:p},currLocation:Object(x.C)(B.pathname)};1===n&&1===a?(sd(i,_),!_&&D(!0),c(t,"single",r)):_&&r.length>n&&r.length<=a?(D(!1),c(t,!1,r)):!_&&r.length>=n&&r.length<a&&(sd(i,_),D(!0),c(t,!0,r)),k({type:F,value:{confirmUpsizeName:b}})},children:[Object(u.jsx)(S.a,{defaultPath:Object(x.S)(null,d,!0),srcFile:Object(x.S)(N,d),className:rd(s)}),Object(u.jsxs)("picture",{children:[Object(u.jsx)("source",{media:"(max-width: 1023px)",srcSet:_?nd:null,alt:"",className:od(s)}),Object(u.jsx)("img",{src:_?nd:null,alt:"",className:od(s)})]}),Object(u.jsxs)("div",{className:"modifier-card-content",children:[Object(u.jsx)("div",{className:"title",children:C}),T&&Object(u.jsx)("div",{className:"caloricInfo",children:T})]})]})},ld=n.p+"static/media/HamburgerDownArrow.1198b568.svg",ud=n.p+"static/media/filter_options_stoke.1119938d.svg",bd=function(e,t,n){console.log(t);var a=-1,i=t.map((function(e){return e.size&&{name:e.size,rate:Object(x.gb)(e.availability[0],n)}})).filter((function(e){return e})).sort((function(e,t){return e.rate-t.rate})),c=e.map((function(e){return e.size&&{name:e.size,rate:Object(x.gb)(e.availability[0],n)}})).filter((function(e){return e})).sort((function(e,t){return e.rate-t.rate}));return Array.from(new Set(i.map((function(e){return e.name})))).map((function(e){return i.find((function(t){return t.name===e}))})).forEach((function(e){a="regular"!=e.name?c.findIndex((function(t){return t.name==e.name&&t.rate!=e.rate})):-1})),a>=0&&c.splice(a,1),Array.from(new Set(c.map((function(e){return e.name})))).map((function(e){return c.find((function(t){return t.name===e}))}))},vd=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"upsizeOrder",addOnType:t,location:"Customization Modal"}),e.next=4,je.a.registerEvent(void 0,{data:n[0]},x.E);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jd=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"confirmUpsize",changesMade:t}),e.next=4,je.a.registerEvent(void 0,{data:n[0]},x.E);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Od=function(e,t){if(e!==t)return Object(u.jsx)("span",{children:":"})},md=function(e,t,n){return e.rate&&e.name!==t?"+".concat(n).concat(e.rate):""},fd=function(e,t,n){return e&&e.length&&bd(e,t,n).length>0},pd=function(e){var t=e.data,n=e.min,o=e.max,r=e.showSelectedModifier,s=e.modgrpId,d=e.modGrpName,l=ad.REGULAR,b=void 0===l?"":l,v=ad.UPLIFTPLACEHOLDER,O=void 0===v?"":v,m=ad.SINGLE,f=Object(i.useContext)(E.a),p=f.userOrderState,h=f.userOrderStateDispatch,g=Object(i.useState)([]),I=Object(j.a)(g,2),T=I[0],S=I[1],C=Object(i.useState)({}),A=Object(j.a)(C,2),y=A[0],_=A[1],D=Object(i.useState)(!1),R=Object(j.a)(D,2),w=R[0],k=R[1],L=Object(i.useState)([]),P=Object(j.a)(L,2),M=P[0],F=P[1],H=Object(i.useState)(!0),B=Object(j.a)(H,2),U=B[0],G=B[1],Y=Object(i.useState)(Object(x.Hb)(window.innerWidth)),K=Object(j.a)(Y,2),V=K[0],W=K[1],q=Object(i.useState)(t),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(N.c)((function(e){return e.cartReducer})),Z=Object(N.c)((function(e){return e.tenantReducer})),$=Z.currencySymbol,ee=Z.currencyConversionFactor,te=Object(i.useState)({}),ne=Object(j.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(i.useState)({}),oe=Object(j.a)(ce,2),re=oe[0],se=oe[1],de=Object(i.useRef)(null),le=Object(i.useRef)(null),ue=Object(i.useRef)(null),be={dots:!1,infinite:!0,speed:200,slidesToShow:2,slidesToScroll:1,adaptiveHeight:!0,autoplay:!1,arrows:!1,focusOnSelect:!0};Object(i.useEffect)((function(){var e=t.length?JSON.parse(JSON.stringify(t)):[],n=function(e,t){return Object(x.Bb)(e)?t.filter((function(t){return t.size===e.name})):t}(y,e);J(Object(so.a)(n))}),[t]);var ve=function(e,n,i){var c=e.id;if(n===m)t.forEach((function(e){e.id===c&&F([e.id])})),S([Object(a.a)(Object(a.a)({},e),{},{itemId:c,modgrpId:s})]);else if(n){!i.some((function(t){return t.id===e.id}))&&S([].concat(Object(so.a)(i),[Object(a.a)(Object(a.a)({},e),{},{itemId:c,modgrpId:s})]))}else if(i.length){var o=i.filter((function(e){return e.itemId!==c}));S(o)}},je=function(){var e=Object(x.Hb)(window.innerWidth);W(e)};Object(i.useEffect)((function(){var e=function(e,t,n,a){var i,c=Ae.a.FROMFLAGEDIT,o=bi.a.MODGROUP_IDS_UPDATE;if((null===t||void 0===t||null===(i=t.minipdpData)||void 0===i?void 0:i.fromFlag)===c){var r,s,d,l=a.foodLines.find((function(e){return e.id===t.minipdpData.foodLineId})),u=null===l||void 0===l||null===(r=l.item)||void 0===r||null===(s=r.modGrps)||void 0===s?void 0:s.find((function(t){return t.id===e}));return u?(u.modifiers.filter((function(e){return!e.isDefault})).length&&!(null===t||void 0===t||null===(d=t.pdpScreenCommons)||void 0===d?void 0:d.modGroupIdsUpdated.includes(u.id))&&n({type:o,value:u.id}),u.modifiers):{}}return{}}(s,p,h,null===X||void 0===X?void 0:X.cartData);se(e)}),[]),Object(i.useEffect)((function(){r(T)}),[JSON.stringify(T)]),Object(i.useEffect)((function(){window.addEventListener("resize",je)}),[V]),Object(i.useEffect)((function(){w?document.addEventListener("click",Oe):document.removeEventListener("click",Oe)}),[w]);var Oe=function(e){(de.current&&de.current===e.target||le.current&&ue.current&&le.current!==e.target&&!ue.current.contains(e.target))&&k(!1)},me=function(){k(!0)},fe=function(){k(!w)},pe=function(e,n){_(e);var a=t.filter((function(t){return t.size===e.name}));J(a),vd(n),k(!w)},he=function(e,n,a){var i=function(e,t,n){return Object(x.Bb)(t)?(e(t),n.filter((function(e){return e.size===t.name}))):n}(_,e,t);J(i),vd(n),G(!a),k(!1)},ge=function(){_({}),ie({}),G(!0)},Ne=function(){var e=md(y,b,$);return Object(x.lb)(e.length>0,":","")};return V?Object(u.jsxs)(c.a.Fragment,{children:[fd(t,T,ee)&&Object(u.jsx)("div",{className:"uplift-dropdown","data-testid":"mob-uplift-dropdown",children:Object(u.jsxs)("div",{className:"language-select-uplift","data-testid":"mobile-dropdown-filter",onClick:me,children:[Object(u.jsx)("span",{"data-testid":"uplift-order-text",children:Object(x.lb)(y.name,y.name+Ne(),Object(Se.e)(O))}),Object(u.jsx)("span",{className:"selected-rate",children:md(y,b,$)}),Object(u.jsx)("img",{className:"dropdown-img-ham",src:ld})]})}),w&&Object(u.jsx)("div",{className:"mobile-modal-filter-background",ref:de,children:Object(u.jsxs)("div",{className:"mobile-modal-filter",children:[Object(u.jsx)("div",{className:"mobile-modal-filter-container",children:Object(u.jsxs)("ul",{className:"mobile-filter-list",children:[Object(u.jsx)("li",{className:U&&0===Object.keys(y).length?"mobile-filter-list-items-selected":"mobile-filter-list-items-default","data-testid":"mobile-click-default",onClick:ge,children:Object(u.jsx)("div",{className:"mobile-rate-container",children:Object(Se.e)(O)})}),bd(t,T,ee).map((function(e){return Object(u.jsx)("li",{className:e.name===ae.name?"mobile-filter-list-items-selected":"mobile-filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:function(){return function(e){k(!0),ie(e),G(!1)}(e)},children:Object(u.jsxs)("div",{className:"mobile-rate-container",children:[Object(u.jsx)("span",{className:"mobile-filter-item-name",children:e.name}),Od(e.name,b),Object(u.jsx)("span",{className:"mobile-filter-item-rate",children:e.name!==b?"+".concat($).concat(e.rate.toFixed(2)):""})]})},e.name)}))]})}),Object(u.jsx)("div",{className:"mobile-modal-filter-button","data-testid":"mobile-filter-done",onClick:function(){return he(ae,d,ae.name===y.name)},children:Object(Se.e)("done")})]})}),Object(u.jsx)("div",{className:"modifier-list-items",children:Q&&Q.length>2&&re?Object(u.jsx)(Wo,{settings:be,children:Q&&Q.length&&re?Q.map((function(e,t){return Object(u.jsx)(dd,{cardType:"carousal",min:n,max:o,cardData:e,savedModifierHandler:ve,savedModifiers:T,tenantReducer:Z,modgrpId:s,modGrpName:d,updatedItems:M,getCartModifiers:re},t)})):null}):Q&&Q.length&&re?Q.map((function(e,t){return Object(u.jsx)(dd,{cardType:"regular",min:n,max:o,cardData:e,savedModifierHandler:ve,savedModifiers:T,tenantReducer:Z,modgrpId:s,modGrpName:d,updatedItems:M,getCartModifiers:re},t)})):null})]}):Object(u.jsxs)(c.a.Fragment,{children:[fd(t,T,ee)&&Object(u.jsxs)("div",{className:"uplift-dropdown","data-testid":"desktop-uplift-dropdown",children:[Object(u.jsxs)("div",{className:"language-select-uplift",ref:le,"data-testid":"desktop-dropdown-filter",onClick:fe,children:[Object(u.jsx)("span",{"data-testid":"uplift-order-text",children:Object(x.lb)(y.name,y.name+Ne(),Object(Se.e)(O))}),Object(u.jsx)("span",{className:"selected-rate",children:md(y,b,$)}),Object(u.jsx)("img",{className:"dropdown-img-ham",src:ld})]}),w&&Object(u.jsx)("div",{ref:ue,children:Object(u.jsx)("ul",{className:"filter-list",children:bd(t,T,ee).map((function(e){return function(e,t,n,a,i,c){return Object(u.jsxs)("li",{className:"filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:function(){return t(e,n)},children:[Object(u.jsx)("span",{children:e.name}),Object(u.jsxs)("div",{className:"rate-container",children:[Object(u.jsx)("span",{className:"filter-item-rate",children:e.name!==a?"+".concat(i).concat(e.rate):""}),e.name===c.name&&Object(u.jsx)(Ca.a,{src:ud,className:"selected-stroke"})]})]},e.name)}(e,pe,d,b,$,y)}))})})]}),Object(u.jsx)("div",{className:"modifier-list-items",children:Q&&Q.length&&re?Q.map((function(e,t){return Object(u.jsx)(dd,{min:n,max:o,cardData:e,savedModifierHandler:ve,savedModifiers:T,tenantReducer:Z,modGrpName:d,modgrpId:s,updatedItems:M,getCartModifiers:re},t)})):null})]})};var hd=function(e){var t=e.grouplist,n=void 0===t?[]:t,a=e.getSelectedModifiers,o=e.selectedModifiers,r=e.source,s=void 0===r?"":r,d=bi.a.PDP,l=Object(i.useState)(n),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useState)([]),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(i.useContext)(E.a).userOrderState.pdpScreenCommons,N=g.currentAccordian,I=g.modGroupIdsUpdated,T=function(e){null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault()};Object(i.useEffect)((function(){!function(){var e=function(e){var t=e.length?e:[];return t.map((function(e,t){return e.expanded=0===t,e})),t}(n);O(Object(so.a)(e))}()}),[JSON.stringify(n)]),Object(i.useEffect)((function(){if(Object(x.r)(N,s===d)){var e=((null===n||void 0===n?void 0:n.length)?JSON.parse(JSON.stringify(n)):[]).map((function(e,t){if(e.id===N){var n,a=(null===(n=e.modifiers)||void 0===n?void 0:n.length)>1?300:0,i=document.getElementById("accordion-"+N).offsetTop;window.scrollTo({top:i-a,behavior:"smooth"}),e.expanded=!0}else e.expanded=!1;return e}));O(Object(so.a)(e))}}),[N,JSON.stringify(n)]);var S=function(e){var t,n,a;if(e.length){t=e.map(JSON.stringify),n=new Set(t),a=Array.from(n).map(JSON.parse);var i=[];if(p.length){i=p;var c=p.findIndex((function(e){return e[0].modgrpId===a[0].modgrpId}));c>=0?(i.splice(c,1,a),h(Object(so.a)(i))):h([].concat(Object(so.a)(i),[a]))}else h((function(e){return[].concat(Object(so.a)(e),[a])}))}};Object(i.useEffect)((function(){p.length&&a(p),o(p)}),[p]);var C=function(e){var t,n=[],a=Object(ve.a)(p);try{for(a.s();!(t=a.n()).done;){var i,c=t.value,o=Object(ve.a)(c);try{for(o.s();!(i=o.n()).done;){var r=i.value;r.modgrpId===e&&r.dname&&r.dname.length&&n.push(r.dname[0].value)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){a.e(s)}finally{a.f()}return n.join(", ")};return v.map((function(e,t){var n=e.id,a=e.name,i=e.modifiers,o=e.expanded,r=e.min,s=e.max,d=function(e){var t=!1;return I&&I.length&&Object(so.a)(new Set(I)).includes(e)&&(t=!0),t}(n);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"accordian-container",id:"accordion-"+n,"data-testid":"product-listing-accordion-".concat(t),children:[Object(u.jsxs)("div",{className:"accordian-header",children:[Object(u.jsxs)("div",{className:"".concat(o?"accordion active":"accordion"),"data-testid":"toggle-accordion-".concat(n),onClick:function(e){return function(e,t){e&&T();var n=v.length?JSON.parse(JSON.stringify(v)):[];n.map((function(e,n){return e.id===t&&(e.expanded=!e.expanded),e})),O(Object(so.a)(n))}(e,n)},children:[Object(u.jsx)("span",{className:"accordion-test",tabIndex:"0",children:a}),d?Object(u.jsx)("span",{className:"updatedBadge",children:Object(Se.e)("updated")}):null]}),Object(u.jsx)("span",{className:"selected-mod",children:p.length&&C(n)})]}),Object(u.jsx)("div",{className:"".concat(o?"panel panel-active":"panel"),children:Object(u.jsx)(pd,{modgrpId:n,modGrpName:a,data:i,min:r,max:s,showSelectedModifier:S})})]})},t)}))},gd=n(94),Nd=function(e){var t=document.querySelector(".product-listing-component form .accordion-test");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},xd=function(e){var t,n=e.data,a=e.categoryId,o=e.handleClose,r=e.showPriceContent,s=void 0===r||r,d=e.source,l=void 0===d?"":d,b=n.id,v=n.modgrps,O=n.availability,f=void 0===O?[]:O,p=Object(i.useContext)(E.a),h=p.userOrderState,g=p.userOrderStateDispatch,I=h.confirmUpsizeName,T=h.minipdpData,S=Object(i.useState)(v),C=Object(j.a)(S,2),A=C[0],y=C[1],_=Object(i.useState)([]),D=Object(j.a)(_,2),R=D[0],w=D[1],k=Object(N.b)(),L=Object(N.c)((function(e){return e.tenantReducer})),P=Object(N.c)((function(e){return e.cartReducer})),M=P||{},F=M.cartData,H=void 0===F?{}:F,B=M.isAddItemLoading,U=void 0!==B&&B,G=L.currencySymbol,Y=L.tenantId,K=L.currencyConversionFactor,V=L.maxItemCountPerLineItem,W=(null!==(t=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,q=(W=void 0===W?{}:W).productMapById,z=void 0===q?{}:q,Q=Object(i.useState)(0),J=Object(j.a)(Q,2),X=J[0],Z=J[1],$=Object(x.gb)(f[0],K),ee=ad.ADDTOCART,te=ad.UPDATECART,ne=Ae.a.FROMFLAGEDIT,ae=Ae.a.EDIT_CLICKED,ie=(cs.d.ACCOUNT_FAV_PAGE,Object(i.useState)(1)),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=Object(i.useState)(0),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=cr.ITEM_QUANTITY,ve=Object(i.useState)(!1),je=Object(j.a)(ve,2),Oe=je[0],me=je[1],fe=Object(i.useState)(null),pe=Object(j.a)(fe,2),he=pe[0],ge=pe[1];Object(i.useEffect)((function(){var t;null===(t=e.callBackToPDP)||void 0===t||t.call(e,{modifierGrp:A,modifiedItemPrice:X})}),[A]),Object(i.useEffect)((function(){var e=Object(x.Bb)(H)?Object(x.Y)(b,H):{},t=Object(x.Bb)(e)?e.count:0;if(ue(t),T.fromFlag===ne){var n=Object(x.Bb)(H)?Object(x.Z)(T.foodLineId,H):{},a=Object(x.Bb)(n)?n.count:1;re(a)}}),[H]),Object(i.useEffect)((function(){return function(){g({type:ae,value:{cartEditClicked:!1}})}}),[g,ae]);Object(i.useEffect)((function(){Oe&&!U&&o(he)}),[Oe,U]),Object(i.useEffect)((function(){return window.addEventListener("keydown",Nd),function(){window.removeEventListener("keydown",Nd)}}));var Ne,xe=T.fromFlag===ne?Object(Se.e)(te):Object(Se.e)(ee);return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("div",{className:"modal-body-row product-listing-component","data-testid":"product-listing-component",children:Object(u.jsx)("form",{className:"form",children:Object(x.Bb)(v)?Object(u.jsx)(hd,{grouplist:v,getSelectedModifiers:function(e){var t=0,n=[];e.forEach((function(e){var i={};i.id=e[0].modgrpId,i.modifiers=[],e.forEach((function(e){var n={},c=JSON.parse(JSON.stringify(e));n.id=c.id,n.quantity=c.defaultQuantity,n.modGrps=c.modgrps,n.categoryId=a,i.modifiers.push(n);var o=Object(x.gb)(e.availability[0],K);t+=o})),n.push(i)})),Z($+t),y(n)},selectedModifiers:w,source:l}):null})}),s&&Object(u.jsx)("div",{className:"price-content",children:Object(u.jsxs)("div",{className:"price-content-parent","data-testid":"product-listing-button-comp",children:[oe?Object(u.jsx)(as,{itemCount:oe,itemQuantity:be,updateItemQuantity:function(e,t){t===Dn.a.QUANTITY_ACTION.Increase?re((function(e){return e+1})):re((function(e){return e-1}))},quantityAction:Dn.a.QUANTITY_ACTION,item:void 0,maxItemCountPerLineItem:V,cartItemCount:le+1}):null,Object(u.jsxs)(Ot.a,{className:"button start-order-btn ".concat(U?"blackButton":"redButton"," customizeCartButton"),id:"startOrderItemButton","data-testid":"product-listing-button",type:"submit",name:"product-listing-button",onClickHandler:function(e){return function(e){var t,i,c,o,r="";e.stopPropagation(),e.preventDefault(),ge(e),me(!0);var s=null!==(t=null===z||void 0===z?void 0:z[null===n||void 0===n?void 0:n.id])&&void 0!==t?t:{},d=s.categoryId,l=void 0===d?"NA":d,u=s.categoryName,v=void 0===u?"NA":u;m.a.forEach(R,(function(e){r+="".concat(e[0].name,", ")})),Object(gd.a)({item_name:Object(x.ab)(null===n||void 0===n?void 0:n.name),item_id:Object(x.ab)(null===n||void 0===n?void 0:n.id),item_category:v,price:Object(x.ab)((null===n||void 0===n||null===(i=n.availability)||void 0===i||null===(c=i[0])||void 0===c?void 0:c.price)/K),item_variant:Object(x.ab)(null===(o=r)||void 0===o?void 0:o.trim()),item_list_name:v,item_list_id:l,index:1,quantity:oe}),T.fromFlag!==ne?k(Object(St.a)({params:{basketId:P&&P.cartData&&P.cartData.id},tenantId:Y},[{Id:b,categoryId:a,quantity:oe,modGrps:A}])):k(Object(St.w)({params:{basketId:P&&P.cartData&&P.cartData.id,basketLineItemId:T.foodLineId},tenantId:Y},{Id:b,quantity:oe,modGrps:A})),k(Object(St.s)(new Date)),g({type:Dn.a.SET_ADDED_LOCATION,value:{itemLocation:{itemid:b,addedFrom:"PLP-Model"}}}),jd(I)}(e)},children:[Object(u.jsx)("span",{className:"title-for-button",children:"".concat(xe)}),Object(u.jsx)("span",{className:"currency-symbol",children:"".concat(G," ").concat((Ne=X,(oe*Ne).toFixed(2)))})]})]})})]})},Ed=function(e){if(e){var t,n=JSON.parse(JSON.stringify(e));return n.modgrps=null===(t=e.modgrps)||void 0===t?void 0:t.filter((function(e){return!e.isHidden})),n}return{}},Id=function(e){var t=e.isModal,n=void 0===t||t,a=e.showPriceContent,i=void 0===a||a,c=e.callBackToPDP,o=e.data,r=void 0===o?{}:o,s=e.source,d=void 0===s?"":s,l=ad.MODALHEADERTEXT,b=void 0===l?"":l,v=Object(N.c)((function(e){return e.menuReducer.currentItemDetails})),j=Object(x.Bb)(r)?Ed(r):Ed(v),O=Object(N.b)(),m=Object(N.c)((function(e){return e.cartReducer})),f=function(e){e.stopPropagation(),e.preventDefault(),O(Object(St.t)({showProductListingModal:!1,categorySelected:""}))},p=Object(u.jsx)(xd,{data:j,categoryId:m.categorySelected,handleClose:f,showPriceContent:i,callBackToPDP:c,"data-testid":"product-listing-modal-enabled",source:d}),h=Object(u.jsx)(td,{handleClose:f,ProductListingModalForm:p,headerText:Object(Se.e)(b),"data-testid":"product-listing-inside-modal"}),g=Object(u.jsx)("div",{className:"pdp-custm",children:p});return n?Ii.a.createPortal(h,document.getElementById("modal-popups")):g},Td=function(e){var t=e.cardRenderer,n=e.productList,a=e.carousal,i=e.header,c=void 0===i?"":i,o=e.subHeader,r=void 0===o?"":o,s=e.settings,d=e.maxLengthToScroll,l=e.slidesToShow,b=e.rangeValue,v=e.onUpdateRange,j=e.showProductListingModal,O=e.isMobile,m=e.recommendedRule,f=e.flagUpsellCrossell;return Object(u.jsxs)(u.Fragment,{children:[Boolean(null===n||void 0===n?void 0:n.length)&&Object(u.jsxs)("div",{className:"recommendedCard-container","data-testid":"recommendedCard-container-test",children:[Object(u.jsxs)("div",{className:"recommendedContainerHeader-items",children:[Object(u.jsxs)("div",{className:r?"pdp-carousal-header":"recommendedContainer-header",children:[Object(u.jsx)("span",{className:"main-header",children:c}),r&&Object(u.jsx)("span",{className:"sub-header",children:r})]}),Object(u.jsxs)("span",{className:"count_box",children:[Math.round(b+1),"/",n.length]})]}),Object(u.jsxs)("div",{className:"recommendedCard-list",children:[Object(u.jsx)("div",{className:"recommendedCarousal-list",children:Object(u.jsx)(Wo,{settings:s,carousalRef:a,children:t()})}),n.length>d&&Object(u.jsx)("div",{className:"recommended-slideContainer",children:Object(u.jsx)("input",{className:"recommended-slider",type:"range",min:"0",max:n.length-l,value:b,id:"myRange","data-testid":"myRange",onChange:v})})]})]}),Object(x.r)(j,m===f)&&Object(u.jsx)("div",{className:"pdp-custm-container ".concat(O?"mobile":""),children:Object(u.jsx)("div",{className:"d-flex",children:Object(u.jsx)(Id,{})})})]})},Sd=function(e){var t=document.getElementsByClassName("slick-prev")[0]||{style:{display:"block"}};t.style.display=e>0?"block":"none"},Cd=function(e){var t,n,a,o,r,s=e.isMobile,d=e.IndulgentData,l=Dn.a.INDULGENT_ADD_ON,b=Dn.a.ADD_TO_CART_CLICK,v=l.HEADER,O=l.SLIDES_TO_SCROLL,m=l.SLIDES_TO_SHOW,f=l.ADD_TO_CART,p=Object(i.useState)(0),h=Object(j.a)(p,2),g=h[0],I=h[1],T=Object(i.useState)(0),C=Object(j.a)(T,2),A=C[0],y=C[1],_=Object(i.useState)(1),D=Object(j.a)(_,2),R=D[0],w=D[1],k=Object(i.useContext)(E.a),L=k.userOrderState,P=k.userOrderStateDispatch,M=Object(N.b)(),F=Object(N.c)((function(e){return{cartReducer:e.cartReducer||{},userParams:e.appStateReducer.userStatus||{},tenantReducer:e.tenantReducer||{}}})),H=F.cartReducer,B=F.userParams,U=F.tenantReducer,G=Object(x.Ab)(L.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):L.dispositionNew,Y=G?G.store:{},K=(null===Y||void 0===Y||null===(t=Y.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(a=n.catalogs)||void 0===a?void 0:a.length)&&(null===Y||void 0===Y||null===(o=Y.summary)||void 0===o||null===(r=o.menu)||void 0===r?void 0:r.catalogs[0])||(null===U||void 0===U?void 0:U.genericMenuName)||"",V=c.a.useRef(null),W={dots:!1,infinite:!1,speed:500,slidesToShow:m,slidesToScroll:O,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(u.jsx)(Tr,{clickNextCard:function(){if(g<d.length-1){var e=0;e=g+O>d.length-m-1?d.length-m:g+O,Sd(e),I(e),V.current.slickGoTo(e)}}}),prevArrow:Object(u.jsx)(Sr,{clickPrevCard:function(){g>0&&(I(g-O),V.current.slickGoTo(g-O)),Sd(g-O)}}),beforeChange:function(e,t){return y(t)},afterChange:function(e,t){return I(e)},variableWidth:!0,accessibility:!0,responsive:[{breakpoint:2600,settings:{slidesToShow:5,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1720,settings:{slidesToShow:4,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1366,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1050,settings:{slidesToShow:2,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1023,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0,beforeChange:function(e,t){w(Math.round(t+1))}}}]};return Object(u.jsxs)("div",{className:"indulgent-container",children:[Object(u.jsxs)("div",{className:"indulgent-header-container",role:"heading","aria-level":"2",children:[Object(u.jsx)("span",{className:"indulgent-header",children:Object(Se.e)(v)}),s?Object(u.jsxs)("span",{className:"indulgent-carousal-count","data-testid":"indulgent-count-test",children:[R,"/",d&&d.length]}):null]}),Object(u.jsx)("div",{className:"indulgent-card-list",children:Object(u.jsx)(Wo,{settings:W,carousalRef:V,children:d.map((function(e,t){return Object(u.jsxs)("div",{className:"indulgent-card",children:[Object(u.jsx)(S.a,{"data-testid":"",className:"indulgent-card-image",defaultPath:Object(x.S)(null,U,!0),srcFile:Object(x.S)(e.imageName,U)}),Object(u.jsxs)("div",{className:"indulgent-card-content",children:[Object(u.jsx)("div",{className:"indulgent-card-header",children:e.dname[0].value}),Object(u.jsxs)("div",{className:"indulgent-card-price",children:[U.currencySymbol,(e.availability[0].price/U.currencyConversionFactor).toFixed(2)]}),Object(u.jsxs)(Ot.a,{className:"button redButton indulgent-card-button","aria-label":Object(Se.e)(f)+" "+e.dname[0].value,"data-testid":"add-to-cart",onClickHandler:function(t){!function(e,t,n,a){var i=t.split("_")[0]||"";e.stopPropagation(),B.localized?n?M(Object(ui.c)({tenantId:U.tenantId,catalogName:K,itemId:t})):(M(Object(St.a)({params:{basketId:H&&H.cartData&&H.cartData.id},tenantId:U.tenantId},[{Id:t,categoryId:i,quantity:1,modGrps:[]}])),M(Object(St.s)(new Date))):P({type:b,value:{addToCart:!0,productItemId:t,categoryId:i,oldProduct:a,customizable:n,catalogs:K,fromPdpPage:!1}})}(t,e.id,!1,{productName:e.dname[0].value,productImage:e.imageName,productPrice:e.availability[0].price/U.currencyConversionFactor}),t.preventDefault(),t.stopPropagation()},children:[Object(Se.e)(f),Object(u.jsx)(S.a,{className:"add-to-cart-Icon",srcFile:Ds.a})]})]})]},t)}))})}),s||d.length<3?null:Object(u.jsx)("div",{className:"indulgent-slideContainer","data-testid":"indulgent-mobile-test",children:Object(u.jsx)("input",{className:"indulgent-slider",type:"range",min:"0",max:d.length-function(){var e=window.innerWidth;return e>1350&&e<1650?4:e>1650&&e<=1920?5:m}(),value:A,id:"myRange",onChange:function(e){y(e.target.value),V.current.slickGoTo(e.target.value)}})})]})},Ad=Jr,yd=Qr,_d=zr,Dd=Wr,Rd=Vr,wd=qr,kd=Ae.a.ADD_TO_CART_CLICK,Ld=Ae.a.MINI_PDP_DATA,Pd=Ae.a.FROMFLAGPLP,Md=Ae.a.EDIT_CLICKED,Fd=(Ae.a.PDP_URL,bi.a.RESET_MODGROUP_IDS_UPDATE),Hd=bi.a.UPSELL,Bd=bi.a.PDP,Ud=yd.SPEED,Gd=yd.SLIDES_TO_SHOW,Yd=yd.SLIDES_TO_SCROLL,Kd=Ad.PDP_SLIDES_TO_SHOW,Vd=Ad.PDP_CONTENT_DATA_MAX_LENGTH_TO_SCROLL,Wd=function(e,t){var n="recommended-card";return e===t+wd&&(n+=" recommendedCard-fade"),n},qd=function(e){var t,n,c,r,s,d=e.products,l=e.storeClosedData,b=e.header,v=void 0===b?"":b,O=e.subHeader,m=void 0===O?"":O,f=e.cssClass,p=void 0===f?"":f,h=e.recommendedRule,g=e.source,I=void 0===g?"":g,S=Object(i.useState)(0),C=Object(j.a)(S,2),A=C[0],y=C[1],_=Object(i.useState)(0),D=Object(j.a)(_,2),R=D[0],w=D[1],k=Object(i.useRef)(null),L=Object(i.useState)(Object(x.Hb)(window.innerWidth)),P=Object(j.a)(L,2),M=P[0],F=P[1],H=Object(i.useContext)(E.a),B=H.userOrderState,U=H.userOrderStateDispatch,G=Object(N.b)(),Y=function(e){return{maxLengthToScroll:"pdp-recommendations"===e||"pdp-combo"===e?Vd:Rd,slidesToShow:"pdp-recommendations"===e||"pdp-combo"===e?Kd:Gd}}(p),K=Y.maxLengthToScroll,V=Y.slidesToShow,W=B.dispositionStateData,q=(void 0===W?T.Hb:W).dispositionType,z=void 0===q?localStorage.getItem("dispositionType"):q,Q=Object(i.useState)(),J=Object(j.a)(Q,2),X=J[0],Z=J[1],$=Object(N.c)((function(e){return{tenantReducer:Object(x.sb)(e.tenantReducer),cartReducer:Object(x.sb)(e.cartReducer),userParams:Object(x.sb)(e.appStateReducer.userStatus)}})),ee=$.tenantReducer,te=$.cartReducer,ne=$.userParams,ae=Object(x.sb)(te).showProductListingModal,ie=void 0!==ae&&ae,ce=Object(o.g)(),oe=((null===ee||void 0===ee?void 0:ee.componentOptions)||T.Hb).PlpProductCard,re=void 0===oe?T.Hb:oe,se=Object(x.Ab)(B.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):B.dispositionNew,de=se?se.store:T.Hb,le=(null===de||void 0===de||null===(t=de.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(c=n.catalogs)||void 0===c?void 0:c.length)&&(null===de||void 0===de||null===(r=de.summary)||void 0===r||null===(s=r.menu)||void 0===s?void 0:s.catalogs[0])||(null===ee||void 0===ee?void 0:ee.genericMenuName)||"",ue=null===d||void 0===d?void 0:d.filter((function(e){return!e.isHidden})),be=I===Bd?ue:null===ue||void 0===ue?void 0:ue.filter((function(e){var t=ya.b.channel,n=function(e){var t=T.db;return e===T.r&&(t=T.q),e===T.v&&(t=T.u),t}(z);return e.channel===t&&e.service===n})),ve=Ni(void 0,void 0,void 0,void 0,U,G,void 0).showCartAlert,je=function(){ve(!0)},Oe={dots:!1,infinite:!1,speed:Ud,slidesToShow:V,slidesToScroll:Yd,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:[{breakpoint:Dd,settings:{slidesToShow:_d,arrows:!0,swipeToSlide:!0}}]},me=function(){var e=Object(x.Hb)(window.innerWidth);F(e)};Object(i.useEffect)((function(){window.addEventListener("resize",me)}),[M]);var fe=Object(a.a)(Object(a.a)({},Oe),{},{nextArrow:Object(u.jsx)(Xr,{clickNextCard:function(){if(R<be.length-1){var e=0;e=R+Yd>be.length-V-1?be.length-V:R+Yd,Sd(e),w(e),k.current.slickGoTo(e)}}}),prevArrow:Object(u.jsx)(Zr,{clickPrevCard:function(){R>0&&(w(R-Yd),k.current.slickGoTo(R-Yd)),Sd(R-Yd)}}),beforeChange:function(e,t){return y(t)},afterChange:function(e,t){return w(e)}}),pe=function(e,t,n,a){var i,c=t.split("_")[0]||"";(h===Hd&&et(),e&&e.stopPropagation(),ne.localized)?n?(Z(h),U({type:Ld,value:{id:t,flag:Pd,foodLineId:""}}),U({type:Fd}),U({type:Md,value:{cartEditClicked:!0}}),G(Object(ui.c)({tenantId:ee.tenantId,catalogName:le,itemId:t}))):(G(Object(St.a)({params:{basketId:null===te||void 0===te||null===(i=te.cartData)||void 0===i?void 0:i.id},tenantId:ee.tenantId},[{Id:t,categoryId:c,quantity:1,modGrps:T.Eb}])),G(Object(St.s)(new Date))):U({type:kd,value:{addToCart:!0,productItemId:t,categoryId:c,oldProduct:a,customizable:n,catalogs:le,fromPdpPage:!1}})},he=Object(N.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((function(){var e=Object(x.nb)(he,B);Object(x.r)(e,X===h)&&G(Object(St.t)({showProductListingModal:!0,categorySelected:""}))}),[he,B.minipdpData.itemId,B.cartEditClicked]),Object(i.useEffect)((function(){ie&&G(Object(St.t)({showProductListingModal:!1,categorySelected:""}))}),[ce]);var ge=function(e,t,n){G(Object(ui.a)({tenantId:e,customerId:n},t))},Ne=function(e,t,n){G(Object(ui.b)({tenantId:e,customerId:t,itemId:n}))};return Boolean(null===be||void 0===be?void 0:be.length)&&Object(u.jsx)(Td,Object(a.a)({cardRenderer:function(){return be.map((function(e,t){var n=Object(x.rb)(e.additionalProperties),i=n.length&&n.reduce((function(e,t){var n=t.key,i=t.value;return Object(a.a)(Object(a.a)({},e),{},Object(Re.a)({},n,"True"==i||"False"!=i&&i))}),T.Hb);return Object(u.jsx)("div",{className:Wd(t,R),children:Object(u.jsx)(ed,Object(a.a)(Object(a.a)({item:e,cardId:e.id,cardType:"medium",cardFor:"recommended",configureOptions:re,tenantData:ee,servingCount:null===i||void 0===i?void 0:i.servings,button:e.button,categoryId:"",clickHandler:pe,customizable:e.customizable,onCardClickHandler:function(){},userParams:ne,storeClosedData:l,addFavourite:ge,removeFavourite:Ne,"data-testid":"menu-card-component",openAlertModal:je},i),e),e.id)})}))},productList:Object(so.a)(be),carousal:k,header:v,subHeader:m,settings:fe,maxLengthToScroll:K,slidesToShow:V,rangeValue:A,onUpdateRange:function(e){y(e.target.value),k.current.slickGoTo(e.target.value),Sd(e.target.value)},showProductListingModal:ie,isMobile:M,flagUpsellCrossell:X},e))},zd=function(e){var t,n,c=e.products,o=e.country,r=e.cssClass,s=void 0===r?"":r,d=Object(i.useContext)(E.a).userOrderState,l=Object(i.useState)(!1),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useMemo)((function(){return Object(x.Ab)(d.currentStoreInfo)?Object(x.b)(localStorage.getItem("currentStoreInfo")):d.currentStoreInfo}),[d.currentStoreInfo]),f=Object(x.sb)(null===m||void 0===m||null===(t=m.summary)||void 0===t?void 0:t.timings),p=f.futureDates,h=f.scheduled,g=f.asap,N=Object(x.sb)(h).unavailibilities,I=Object(x.sb)((null===h||void 0===h||null===(n=h.periods)||void 0===n?void 0:n.length)&&(null===h||void 0===h?void 0:h.periods[0])),T=I.interval,S=void 0===T?0:T,C=I.startEndTime,A=void 0===C?{}:C,y=A.from,_=A.to,D=Object(i.useCallback)((function(){if(Object(x.Bb)(m)){var e,t,n=null===(e=m.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,a=Qi(y,_,S,null===g||void 0===g?void 0:g.isAvailable,1===(null===p||void 0===p?void 0:p.length)&&(null===o||void 0===o?void 0:o.toUpperCase())===Ze,N);"CLOSED"!==n||a.length?O(!1):O(!0)}else O(!1)}),[m]);return Object(i.useEffect)((function(){D()}),[D]),Object(u.jsx)("div",{className:"recommended-container ".concat(s),"data-testid":"recommended-container",children:Object(u.jsx)(qd,Object(a.a)({"data-testid":"recommended-items",products:c,storeClosedData:{isStoreClosed:v}},e))})},Qd={MSGTXT1:"clearCartAwareText",MSGTXT2:"clearCartActionText",MSGTXT3:"clearCartCompleteText"},Jd="continue",Xd="cancel",Zd=n.p+"static/media/Cart_Error.f878d4a7.svg",$d=function(e){var t=(Object(N.c)((function(e){return e.cartReducer}))||{}).cartData,n=void 0===t?{}:t,a=(Object(N.c)((function(e){return e.tenantReducer}))||{}).tenantId,c=void 0===a?"":a,o=Object(i.useContext)(E.a),r=o.userOrderState,s=o.userOrderStateDispatch,d=r.modalToOpenOnConfirm,l=r.modalOpenFrom,b=r.confirmCallBack,v=Object(N.b)(),j=Qd,O=Jd,m=Xd,f=Ae.a.SHOW_CLEAR_CART_ALERT,p=Ae.a.DISPOSITION_DATA,h=Ae.a.SEARCH_ORDER_DATA,g=Ae.a.SCHEDULE_ORDER_DATA,I=Ae.a.clearCartChangeFlag,T=Ae.a.orderTypeAlertTitle,S=Ae.a.searchStoreAlertTitle,C=Object(x.Ab)(r.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):r.dispositionNew,A=function(){s({type:f,value:{showCartClearAlert:!1}}),l===I&&s({type:g,value:{showScheduleOrder:!0,selectedStoreInfo:C.store,changeFlow:!0}})};return Object(u.jsx)(Ti,{handleClose:A,classNames:"clear-cart-modal",CartAlertForm:Object(u.jsx)(xi,{splitTitle:j,imageSrc:Zd,altText:"cart-error",confirmButtonText:Object(Se.e)(O),cancelButtonText:Object(Se.e)(m),cancelHandler:A,confirmHandler:function(){if(n.discountLines.length>0){var e=n.discountLines.map((function(e){return e.id}));v(Object(St.k)({params:{basketId:n.id},tenantId:c,shouldClearCart:!0},e))}else v(Object(St.l)({basketId:n.id,tenantId:c}));v(Object(St.s)(new Date)),s({type:f,value:{showCartClearAlert:!1}}),b&&b(),d===T?s({type:p,value:{showDisposition:!0}}):d===S&&s({type:h,value:{showSearchStore:!0}})}})})},el=("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}).REACT_APP_TENANT_IMAGE_BASE_URL,"15895bb59f7b4bb588ee933f8cd5344a/images/items/"),200),tl=3,nl=1,al=1024,il=1,cl=n.p+"static/media/Reorder.55ee8463.svg",ol="cancel",rl="Account - Occasions",sl="HomePage - Reorder",dl={LARGE_CARRY_BAG:"largeCarryBag",ADD_HOPE_TEXT:"addhope",SEARCH_IN_CART:"SEARCH_IN_CART",SET_DISPOSITION:"SET_DISPOSITION",CLOSED:"CLOSED",DELIVER_TO:"deliveryTo",WHEN:"when",PLEASE_REVIEW_YOUR_ORDER:"pleaseReviewYourOrder",QUICK_ORDER:"quickOrder",TODAY:"today",ASAP:"asap",ITEMS:"items",WANT_TO_MODIFY:"wantToModify",ITEM_ADDED_TO_CART_MSG:"itemAddedToCartMsg",KEEP_SHOPING:"keepShoping",ADD_A_COUPON:"addACoupon",SUBTOTAL:"subTotal",GST:"GST",REST_HANDLING:"cartIncluTax",DISCOUNT:"DiscountText",TOTAL:"total",CONTINUE_TO_PAYMEN:"continuePayment",CLEAR_CART_MSG:"clearCartActionText",CLEARE_AWARE_MSG:"clearCartAwareText",CLEAR_CART_COMPLETE_MSG:"clearCartCompleteText",STORE_CLOSED:"storeClosed",DELIVERY_NOT_AVAIALABLE:"deliveryNotAvailable",PRICE_CHANGE_TEXT:"cartItems",PRICE_CHANGE_MAIN:"priceChangedCartMain",ITEM_UNAVAILABLE:"itemUnavailable",SERVICE_CHANNEL:"web",UNAVAILABLE:"unavailable",UNAVAILABLE_TEXT:"unavailableCartText",DINE_IN:"dine-in",TAKEAWAY:"takeaway",DINE_IN_TEXT:"dineIn",GENERIC_ERROR:"generic_error",CHECKOUT:"checkout",DISPOISTIONUN_AVAL:"dispositionUnavalMsg",UNAVAILABLE_ERROR:"sorryUnaval",CART:"cart",SCHEDULE_ORDER_DATA:"scheduleOrderData",CHANGE_ORDER_SETTING:"changeOrderSettings"},ll=Dn.a.ANALYTICS_EVENTS,ul=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){var a,i;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=[]).push(Object(Re.a)({event:t.eventType},n,t.selectedData)),console.log(i,"reoder"),e.next=5,je.a.registerEvent(null===we.a||void 0===we.a||null===(a=we.a.add_to_cart)||void 0===a?void 0:a.name,{data:i[0]},x.E);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bl=function(e,t){var n=t.foodLineItem,a=t.checkProductPriceAndAvail,i=t.itemMapById,c=t.reOrderAnalyticEvent,o=t.menuItemsMapById,r=null===n||void 0===n?void 0:n.filter((function(e){var t;return a(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id,i)}));0!==(null===r||void 0===r?void 0:r.length)&&c&&function(e,t,n){var a=window.location.href,i=Object(so.a)(e).map((function(e,i){var c,o,r,s,d,l,u=((null===e||void 0===e?void 0:e.unitPrice)/t).toFixed(2),b=[];null===e||void 0===e||null===(c=e.item)||void 0===c||null===(o=c.modGrps)||void 0===o||o.forEach((function(e){var t;b.push(null===e||void 0===e||null===(t=e.modifiers[0])||void 0===t?void 0:t.name)}));var v=null!==(r=null===n||void 0===n?void 0:n[null===e||void 0===e||null===(s=e.item)||void 0===s?void 0:s.id])&&void 0!==r?r:{},j=v.categoryId,O=void 0===j?T.X:j,m=v.categoryName,f=void 0===m?T.X:m,p=localStorage.getItem(T.m);return{item_name:Object(x.s)(null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.name,T.X),item_id:Object(x.s)(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.id,T.X),item_category:f,price:Object(x.s)(parseFloat(u),T.X),item_variant:Object(x.s)(b.join(", "),T.X),item_list_name:(null===a||void 0===a?void 0:a.endsWith(T.a))?p:Object(Se.e)(sl),item_list_id:O,index:i+1,quantity:null===e||void 0===e?void 0:e.quantity}}));ul({eventType:ll.ADD_TO_CART,selectedData:{add_to_cart:{items:i}}},T.B)}(r,e,o)},vl=function(){var e=Object(be.a)(ue.a.mark((function e(){var t,n,a=arguments;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"NA",e.next=3,je.a.registerEvent(null===we.a||void 0===we.a||null===(t=we.a.trackOrder)||void 0===t?void 0:t.name,{data:{event:"trackOrder",orderValue:n}},x.E);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jl=function(e,t){return t&&"".concat(Object(ye.l)(e,"llll").split(" ")[0]," ").concat(Object(ye.l)(e,t.toUpperCase()))},Ol=function(e){var t=e.order,n=e.tenantReducerData,a=e.reorderBtnHandler,c=e.viewRecipetHandler,o=Object(i.useState)(Object(x.Hb)(window.innerWidth)),r=Object(j.a)(o,2),s=r[0],d=r[1],l=n.dateFormat,b=n.currencyConversionFactor,v=n.currencySymbol,O=n.addHope,m=n.carryBag,f=t.items,p=(void 0===f?[]:f).filter((function(e){return(null===e||void 0===e?void 0:e.name)!==O&&(null===e||void 0===e?void 0:e.name)!==m})),h=function(){var e=Object(x.Hb)(window.innerWidth);d(e)};return Object(i.useEffect)((function(){return window.addEventListener("resize",h),function(){window.removeEventListener("resize",h)}}),[s]),Object(u.jsxs)("div",{className:"pastorder-card ml-0",children:[Object(u.jsx)("p",{className:"pastorder-card-main-text mt-3 mb-1",children:t.name?t.name:jl(t.orderedOn,l)}),Object(u.jsxs)("p",{className:"pastorder-card-decomposition-text",children:["".concat(p.length," Items")," \u2022 ",Object(x.H)(t.service)," \u2022","".concat(v).concat((t.total/b).toFixed(2))]}),Object(u.jsxs)("div",{className:"pastorder-pastorders-images",children:[p.map((function(e,t){return t<3?Object(u.jsxs)("div",{className:"item-desc",children:[Object(u.jsx)("span",{className:"item-quantity",children:null===e||void 0===e?void 0:e.quantity}),Object(u.jsx)("span",{className:"item-name",children:null===e||void 0===e?void 0:e.name})]},t):null})),p.length>3&&Object(u.jsx)("span",{children:"..."})]}),Object(u.jsxs)("div",{className:"pastorder-card-button-conatiner",children:[Object(u.jsx)("p",{className:"pastorder-view-details","data-testid":"view-reciept-".concat(null===t||void 0===t?void 0:t.id),onClick:c,children:Object(Se.e)("viewReceipt")}),Object(u.jsxs)(Ot.a,{"data-testid":"pastorder-card-button-test",className:"pastorder-card-button","aria-label":"Reorder button",children:[Object(u.jsx)("img",{src:cl,className:"account-icon mr-1"}),Object(u.jsx)("span",{onClick:function(){a(t),function(e,t){ul({eventType:"reorder",selectedData:e.name?e.name:jl(e.orderedOn,l)},"orderName")}(t)},"data-testid":"pastorder-btn-test-".concat(null===t||void 0===t?void 0:t.id),children:Object(Se.e)("reorderBtn")})]})]})]})},ml=function(e){var t=e.onCancel,n=e.onContinue,a=dl.CLEAR_CART_MSG,i=dl.CLEARE_AWARE_MSG,c=dl.CLEAR_CART_COMPLETE_MSG;return Object(u.jsxs)("div",{className:"reorder-modal-container",children:[Object(u.jsxs)("div",{className:"reorder-error-container",children:[Object(u.jsx)("img",{src:Zd,alt:"error-cart-icon",className:"error-icon mb-3"}),Object(u.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(u.jsx)("span",{children:Object(Se.e)(i)}),Object(u.jsx)("span",{className:"red-text",children:Object(Se.e)(a)}),Object(u.jsx)("span",{children:Object(Se.e)(c)})]})]}),Object(u.jsxs)("div",{className:"reorder-modal-btn",children:[Object(u.jsx)(Ot.a,{"data-testid":"confirmation-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:t,children:Object(Se.e)("cancel")}),Object(u.jsx)(Ot.a,{"data-testid":"continue-button",className:"button blackButton blackBorder save-button",onClickHandler:n,children:Object(Se.e)("continue")})]})]})},fl=n(58),pl=n.n(fl),hl=n(135),gl=dl.DELIVER_TO,Nl=dl.TOTAL,xl=dl.DISCOUNT,El=dl.SUBTOTAL,Il=dl.WHEN,Tl=dl.PLEASE_REVIEW_YOUR_ORDER,Sl=dl.TODAY,Cl=dl.ASAP,Al=dl.ITEMS,yl=dl.WANT_TO_MODIFY,_l=dl.ITEM_ADDED_TO_CART_MSG,Dl=dl.KEEP_SHOPING,Rl=dl.ADD_A_COUPON,wl=dl.CONTINUE_TO_PAYMEN,kl=dl.PRICE_CHANGE_MAIN,Ll=dl.PRICE_CHANGE_TEXT,Pl=dl.UNAVAILABLE,Ml=dl.TAKEAWAY,Fl=dl.DINE_IN_TEXT,Hl=dl.STORE_CLOSED,Bl=dl.GENERIC_ERROR,Ul=dl.GST,Gl=dl.CLOSED,Yl=dl.SET_DISPOSITION,Kl=dl.SEARCH_IN_CART,Vl=dl.LARGE_CARRY_BAG,Wl=dl.ADD_HOPE_TEXT,ql=dl.DISPOISTIONUN_AVAL,zl=dl.UNAVAILABLE_ERROR,Ql=dl.QUICK_ORDER;var Jl=function(e){var t,n=e.onCancel,c=e.onContinue,r=e.onAddCoupon,s=e.storeInfo,d=void 0===s?{}:s,l=e.isBasketAdded,b=d.summary,v=void 0===b?{}:b,O=d.service,m=void 0===O?"":O,f=Object(x.sb)(v).status,p=void 0===f?{}:f,h=Object(x.sb)(p).currentStatus,g=(void 0===h?"":h)!==Gl,I=Object(N.b)(),C=Object(i.useState)(0),A=Object(j.a)(C,2),y=A[0],_=A[1],D=Object(i.useState)(0),R=Object(j.a)(D,2),w=R[0],k=R[1],L=Object(i.useState)(!1),P=Object(j.a)(L,2),M=P[0],F=P[1],H=Object(i.useState)(!1),B=Object(j.a)(H,2),U=B[0],G=B[1],Y=Object(i.useState)(),K=Object(j.a)(Y,2),V=K[0],W=K[1],q=Object(i.useContext)(E.a),z=q.userOrderState,Q=q.userOrderStateDispatch,J=Object(i.useState)(""),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(i.useState)(""),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)(0),ce=Object(j.a)(ie,2),re=ce[0],se=ce[1],de=Object(i.useState)(0),le=Object(j.a)(de,2),ue=le[0],be=le[1],ve=Object(i.useState)([]),je=Object(j.a)(ve,2),Oe=je[0],me=je[1],fe=Object(i.useState)(!1),pe=Object(j.a)(fe,2),he=pe[0],ge=pe[1],Ne=Object(i.useState)(!1),xe=Object(j.a)(Ne,2),Ee=xe[0],Ie=xe[1],Te=Object(i.useState)(!1),Ce=Object(j.a)(Te,2),Ae=Ce[0],_e=Ce[1],De=Object(x.Ab)(z.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):z.dispositionNew,Re=Object(N.c)((function(e){return e})),we=Re.tenantReducer,ke=Re.postOrderReducer,Le=Re.reorderReducer,Pe=Re.cartReducer,Me=Re.profileReducer,Fe=Re.appStateReducer,He=(null!==(t=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,Be=(He=void 0===He?{}:He).itemMapById,Ue=void 0===Be?{}:Be,Ge=Object(Se.e)(Hl),Ye=null===Ge||void 0===Ge?void 0:Ge.replace("%storeName%",null===v||void 0===v?void 0:v.name),Ke=Object(o.f)(),Ve=Object(x.sb)(Pe),We=Ve.cartData,qe=void 0===We?{}:We,ze=Ve.qrCodeScanTime,Qe=Object(x.sb)(qe).errors,Je=void 0===Qe?[]:Qe,Xe=we.tenantId,Ze=we.currencySymbol,$e=we.currencyConversionFactor,et=we.addHope,tt=we.carryBag,nt=Object(x.sb)(ke).orderAccepted,at=void 0===nt?{}:nt,it=Le.flatResponse,ct=Object(x.sb)(it).items,ot=void 0===ct?[]:ct,rt=Object(x.K)(Le).flatResponse,st=(rt=void 0===rt?{}:rt).itemMapById,dt=void 0===st?{}:st,lt=Me.customerId,ut=en.timingsSampleData,bt=Object(x.sb)(Fe).userStatus,vt=at.deliveryAddress,jt=void 0===vt?{}:vt,mt=at.foodLines,ft=void 0===mt?[]:mt,pt=at.subTotal,ht=at.total,gt=at.taxLines,Nt=void 0===gt?[]:gt,xt=at.additionalChargeLines,Et=void 0===xt?[]:xt,It=at.store,Tt=void 0===It?{}:It,Ct=at.service,At=void 0===Ct?"":Ct,yt=at.lang,_t=void 0===yt?"":yt,Dt=at.source,Rt=void 0===Dt?"":Dt,wt=at.catalog,kt=void 0===wt?"":wt,Lt=at.inclusiveTaxTotal,Pt=at.discountTotal,Mt=Object(x.sb)(Tt),Ft=Mt.storeId,Ht=void 0===Ft?"":Ft,Bt=(Mt.name,Mt.address),Ut=void 0===Bt?{}:Bt,Gt=Object(a.a)(Object(a.a)(Object(a.a)({},d),Tt),{},{id:Ht,addresses:[{address:{addressLines:[Object(x.R)(Ut)]},lang:_t}],name:[{lang:_t,value:Tt.name}]});Object(i.useEffect)((function(){if(Object(x.r)(et,tt)){ra(at,et,tt,Kl,{setAddHopeDataExistsId:ae,setAddHopeDataPrice:se},{setCarryBagDataExistsId:$,setCarryBagDataPrice:be},we);var e=Object(x.N)(ft,et,tt);me(e),function(e,t,n,a,i){e||t(n)}(l,Vt,e)}}),[at]);var Yt=function(e){var t=[],n=0,a=0;return null===e||void 0===e||e.map((function(e){var i=Wt(e.item.id,dt);"hidden"!==i&&(i?i&&i!==e.unitPrice?(a+=1,t.push({Id:e.item.id,quantity:e.quantity})):t.push({Id:e.item.id,quantity:e.quantity}):n+=1)})),_(n),k(a),{unAval:n,itemArr:t}},Kt=function(e){var t,n,i,c,o,r;I(Object(St.o)());var s=Yt(e);!function(e,t,n,a,i){t.unAval!==n.length&&e(Object(St.a)({params:{basketId:a},tenantId:i},t.itemArr))}(I,s,e,Ee,Xe);var d=(null===v||void 0===v?void 0:v.timings)||ut,l=d.futureDates,u=d.scheduled,b=d.asap,j=(null===u||void 0===u||null===(t=u.periods)||void 0===t?void 0:t.length)&&u.periods[0],O=j.interval,m=void 0===O?0:O,f=j.startEndTime,p=void 0===f?{}:f,h=p.from,g=p.to;Qi(h,g,m,null===b||void 0===b?void 0:b.isAvailable,1===l.length&&"INDIA"===(null===we||void 0===we?void 0:we.country));var N={time:"ASAP",interval:null===Gt||void 0===Gt||null===(n=Gt.summary)||void 0===n||null===(i=n.timings)||void 0===i||null===(c=i.scheduled)||void 0===c||null===(o=c.periods[0])||void 0===o?void 0:o.interval,date:new Date,selectedTime:"ASAP"};I(Object(Ra.b)(Object(a.a)(Object(a.a)({},bt),{},{localized:!0})));var E="".concat(null===jt||void 0===jt||null===(r=jt.addressLines)||void 0===r?void 0:r.join("")," ").concat(null===jt||void 0===jt?void 0:jt.city," ").concat(null===jt||void 0===jt?void 0:jt.state," ").concat(null===jt||void 0===jt?void 0:jt.country);Q({type:Yl,value:{newValue:{type:Object(x.G)(At),store:Gt,date:N.date,time:N.time,interval:N.interval,selectedTime:N.selectedTime,deliveryAddress:E},oldvalue:De}}),localStorage.setItem("dispositionNew",JSON.stringify({type:Object(x.G)(At),store:Gt,time:N.time,date:N.date,selectedTime:N.selectedTime,interval:N.interval,deliveryAddress:E})),localStorage.setItem("dispositionOld",JSON.stringify(De))};Object(i.useEffect)((function(){he&&(ge(!1),Kt(Oe))}),[dt,Oe,he,l]);var Vt=function(e){var t,n={storeId:Object(x.ub)(Ht),service:At,channel:ya.b.channel,requestedDateTime:{isForNow:!0,futureDateTime:0},customerId:lt,deliveryAddress:Object(a.a)(Object(a.a)({},jt),{},{name:Object(x.ub)(null===jt||void 0===jt?void 0:jt.name),pinCode:Object(x.ub)(null===jt||void 0===jt?void 0:jt.pinCode)}),catalog:kt,lang:_t,source:Rt},i=Object(x.Ib)(ze),c=localStorage.getItem(T.R.STORE_ID),o=null===(t=localStorage.getItem(T.R.DISPOSITION_TYPE))||void 0===t?void 0:t.toLowerCase();i&&ze&&(null===n||void 0===n?void 0:n.storeId)===c&&(null===n||void 0===n?void 0:n.service)===o?n.qrOrder={isQROrder:!0,qrScannedTime:ze}:I(Object(St.j)("")),I(Object(St.e)({data:n,tenantId:Xe,successCallback:null,errorCallback:function(){return Yt(e)}}))};Object(i.useEffect)((function(){if(l){var e=qe.id;Ie(e),I(Object(hl.b)({tenantId:Xe,catalogName:kt},{storeId:Ht,channel:ya.b.channel,service:At},(function(){return ge(!0)})))}}),[l,Oe]);var Wt=function(e,t){var n,a,i,c=Object(ye.h)(),o=Object(x.K)(null===t||void 0===t?void 0:t[e]),r=null===o||void 0===o||null===(n=o.availability)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.availableHours,s=null===r||void 0===r?void 0:r.startTime.time,d=null===r||void 0===r?void 0:r.endTime.time,l=Object(ye.d)(c,s,d);return(null===o||void 0===o?void 0:o.isHidden)?"hidden":l?null===o||void 0===o||null===(i=o.availability[0])||void 0===i?void 0:i.price:l},qt={foodLineItem:Oe,checkProductPriceAndAvail:Wt,itemMapById:dt,reOrderAnalyticEvent:Ae,menuItemsMapById:Ue};Object(i.useEffect)((function(){var e=function(e,t,n,a,i,c,o){var r=!1,s="";if(t){if(e.length>0)s=Object(Se.e)(Bl);else if(a>0)s=Object(Se.e)(zl);else if(i>0)s=i+" "+Object(Se.e)(Ll)+" "+Object(Se.e)(kl),r=!0;else if(null===c){var d=Object(Se.e)(ql);s=null===d||void 0===d?void 0:d.replace("%disposition%",Object(x.G)(o))}}else s=n;return{error:s,isPriceChange:r}}(Je,g,Ye,y,w,v,m),t=Object(x.r)(y>0,y!==Oe.length);G(Object(x.lb)(Object(x.s)(e.isPriceChange,t),!1,""!==e.error)),_e(Object(x.lb)(Object(x.w)(e.isPriceChange,t,""===e.error),!0,!1)),F(""!==e.error),W(e.error)}),[ot,y,w,g,Je,v]),Object(i.useEffect)((function(){!function(e,t,n){e&&Object(x.J)(Object(Se.e)(t),n)}(M,Ql,V)}),[M]);var zt=function(e){return e.toFixed(2)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"ReorderModal",children:[Object(u.jsx)("div",{className:"reorder-header",children:Object(u.jsx)("span",{className:"your-order",children:Object(Se.e)(Tl)})}),M&&Object(u.jsx)("div",{className:"error-container",children:Object(u.jsx)("div",{className:"error-sub-container",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(S.a,{srcFile:$t,className:"location-alert-icon mr-1"}),Object(u.jsx)("div",{className:"error-msg",children:V})]})})}),Object(u.jsx)("hr",{className:"horizontal-bar"}),Object(u.jsxs)("div",{className:"reorder-order-detail",children:["delivery"===At.toLowerCase()&&Object(u.jsxs)("div",{className:"reorder-details-heading",children:[Object(u.jsx)("span",{className:"reorder-sub-heading",children:Object(Se.e)(gl)}),Object(u.jsx)("span",{className:"reorder-sub-detail width-style-lg",children:Object(x.a)(jt)})]}),"delivery"!==At.toLowerCase()&&Object(u.jsxs)("div",{className:"reorder-details-heading",children:[Object(u.jsxs)("span",{className:"reorder-sub-heading",children:["dine-in"===At.toLowerCase()&&Object(Se.e)(Fl),"pickup"===At.toLowerCase()&&Object(Se.e)(Ml)+" FROM"]}),Object(u.jsx)("span",{className:"reorder-sub-detail width-style-lg",children:Object(x.R)(Ut)})]}),Object(u.jsxs)("div",{className:"reorder-details-heading",children:[Object(u.jsx)("span",{className:"reorder-sub-heading",children:Object(Se.e)(Il)}),Object(u.jsxs)("span",{className:"reorder-sub-detail width-style",children:[Object(Se.e)(Sl)," ",Object(Se.e)(Cl)]})]})]}),Object(u.jsx)("section",{className:"reorder-accordian",children:Object(u.jsx)("div",{className:"mt-2",children:Object(u.jsxs)(oe,{header:"".concat(ca(Oe)," ").concat(Al),"data-testid":"order-details",children:[Oe.map((function(e){var t,n,a,i=Wt(e.item.id,dt);return Object(u.jsx)("section",{className:"",children:Object(u.jsxs)("div",{className:"reorder-order-item",children:[Object(u.jsxs)("div",{className:"reorder-item-details mt-2",children:[Object(u.jsx)("div",{className:"item-count-box mr",children:Object(u.jsx)("span",{className:"item-count ml",children:e.quantity})}),Object(u.jsxs)("div",{className:"item-desc-section",children:[Object(u.jsx)("span",{className:"item-desc",children:null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.name}),Object(u.jsx)("span",{className:"item-desc-quantity",children:(a=null===e||void 0===e?void 0:e.item,pl()(a,"modGrps",[]).map((function(e){return e.modifiers})).flat().map((function(e){return" ".concat(e.quantity,"x ").concat(e.name)})).join())})]})]}),!i&&Object(u.jsxs)("div",{className:"unavialble-alert",children:[Object(u.jsx)(S.a,{srcFile:$t,className:"location-alert-icon"}),Object(u.jsx)("span",{className:"alert-text",children:Object(Se.e)(Pl)})]}),i&&i!==e.unitPrice&&Object(u.jsxs)("div",{className:"cart-item-price",children:[Object(u.jsxs)("span",{className:"old-price",children:[Ze,zt(e.unitPrice/$e)]}),Object(u.jsxs)("span",{className:"modified-price",children:[Ze,zt(i/$e)]})]}),i===e.unitPrice&&Object(u.jsxs)("span",{className:"item-amount",children:[Ze,zt((null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.unitPrice)/$e)]})]})})})),Object(u.jsxs)("div",{className:"reorder-modification-box mb-4",children:[Object(u.jsx)("span",{className:"reorder-heading mt-3",children:Object(Se.e)(yl)}),Object(u.jsx)("span",{className:"reorder-subheading mt-2",children:Object(Se.e)(_l)}),Object(u.jsxs)("div",{className:"reorder-modal-btn mt-3 mb-3",children:[Object(u.jsx)(Ot.a,{"data-testid":"keep-shoping-button",className:"button whiteButton ".concat(g?"blackBorder":"grayButton"),onClickHandler:g?function(){ul("keepShopping"),bl($e,qt),Ke.push({pathname:"/menu"}),sessionStorage.setItem("reorderClick",!1)}:null,children:Object(Se.e)(Dl)}),Object(u.jsx)(Ot.a,{"data-testid":"add-coupon-button",className:"button whiteButton ".concat(g?"blackBorder":"grayButton"),onClickHandler:Object(x.lb)(!g,null,(function(){r($e,qt,bl)})),children:Object(Se.e)(Rl)})]})]})]})})}),Object(u.jsxs)("div",{className:"reorder-order-detail",children:[Object(u.jsxs)("div",{className:"reorder-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:Object(Se.e)(El)}),Object(u.jsxs)("span",{className:"payment-amount",children:[Ze,zt(pt/$e)]})]}),Nt&&Object(u.jsxs)("div",{className:"reorder-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:Ul}),Object(u.jsxs)("span",{className:"payment-amount",children:[Ze,zt(Lt/$e)]})]}),Et.map((function(e){return Object(u.jsxs)("div",{className:"reorder-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:e.chargeType}),Object(u.jsxs)("span",{className:"payment-amount",children:[Ze,zt(e.amount/$e)]})]})})),Pt>0&&Object(u.jsxs)("div",{className:"reorder-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:Object(Se.e)(xl)}),Object(u.jsxs)("span",{className:"payment-amount",children:["\u2013 ",Ze,zt(Pt/$e)]})]}),"PICKUP"===At.toUpperCase()&&Z&&Object(u.jsxs)("div",{className:"reorder-payment-details",id:"priceListData",children:[Object(u.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(Se.e)(Vl)}),Object(u.jsx)("span",{className:"payment-amount",id:"amountStyle",children:ue})]}),Boolean(ne)&&Object(u.jsxs)("div",{className:"reorder-payment-details",id:"priceListData",children:[Object(u.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(Se.e)(Wl)}),Object(u.jsx)("span",{className:"payment-amount",id:"amountStyle",children:re})]}),Object(u.jsxs)("div",{className:"reorder-payment-details mt",children:[Object(u.jsx)("span",{className:"payment-total",children:Object(Se.e)(Nl)}),Object(u.jsxs)("span",{className:"payment-total-amount",children:[Ze,zt(ht/$e)]})]})]})]}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)(Ot.a,{"data-testid":"quick-reorder-cancel",className:"button whiteButton blackBorder cancel-btn btn-quick-order",onClickHandler:n,children:Object(Se.e)(ol)}),Object(u.jsx)(Ot.a,{"data-testid":"quick-order-continue-button",className:"button ".concat(Object(x.lb)(U,"grayButton","redButton")," "),onClickHandler:Object(x.lb)(U,null,(function(){c($e,qt,bl)})),children:Object(Se.e)(wl)})]})]})},Xl=n(226),Zl=function(e){var t="";switch(e){case T.bb.PHONEPE:t="phonePay";break;case T.bb.GOOGLE_PAY_SPOT:t="googlePay";break;case T.bb.PAYTM:t="paytm"}return t},$l=function(e){var t=e.paymentsContentReducer,n=(t=void 0===t?{}:t).tendersContent,a=(n=void 0===n?{}:n).items;return void 0===a?[]:a};function eu(e){var t=e.tender,n=e.setTender,c=e.allowedTenders,o=e.setIsValid,r=e.children,s=Object(N.b)();Object(i.useEffect)((function(){s(Object(Tt.a)({object:Object(I.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]);var d=Object(Xl.a)($l,(function(e){var t,n,i=[],c=null===(t=JSON.parse(null!==(n=localStorage.getItem(T.n.Setting.Storage.Store))&&void 0!==n?n:null))||void 0===t?void 0:t.module;return e.forEach((function(e){var t=e.fields;if(!c||function(e){var t;return null===c||void 0===c||null===(t=c.tenders)||void 0===t?void 0:t.includes(e)}(null===t||void 0===t?void 0:t.title)){var n=Object(a.a)(Object(a.a)({},t),"icon"in t&&Object(a.a)({},{icon:t.icon.fields.desktopImage.fields.file}));i.push(n)}})),i.sort((function(e,t){var n=e.title,a=t.title;return n>a?1:a>n?-1:0}))})),l=Object(N.c)(d);return Object(u.jsx)("div",{className:"payment-option-container",children:l&&c&&(null===l||void 0===l?void 0:l.map((function(e){var i=e.displayName,s=e.title,d=e.shortDescription,l=e.icon,b=(l=void 0===l?{}:l).url;return Object(u.jsx)(u.Fragment,{children:(null===c||void 0===c?void 0:c.includes(s.toLowerCase()))&&Object(u.jsxs)("div",{tabIndex:"0",className:"payment-option",children:[Object(u.jsx)("div",{className:"payment-option-header",children:Object(u.jsxs)("label",{for:s,className:"tender-type-label radioBtnsOption","data-testid":"radio-label-".concat(s),children:[Object(u.jsx)("input",{type:"radio",id:s,"data-testid":"radio-handler-".concat(s),name:"Tenders",value:s,onChange:function(e){return function(e,i,c){o(!1);var r=e.target.value;n(Object(a.a)(Object(a.a)({},t),{},{name:r,payload:{displayName:i,url:c}})),o(r===T.bb.PAY_BY_CASH||r===T.bb.PAYTM||r===T.bb.PHONEPE||r===T.bb.UPI||r===T.bb.GOOGLE_PAY_SPOT)}(e,i,b)}}),Object(u.jsx)("span",{className:Zl(s)}),!!i&&s!==T.bb.PAYTM&&i,!!b&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("img",{src:b,alt:"".concat(Zl(s)),className:"tender-image"})}),!!d&&Object(u.jsx)("p",{children:d})]})}),((null===t||void 0===t?void 0:t.name)===T.bb.CREDIT_CARD||(null===t||void 0===t?void 0:t.name)===T.bb.NET_BANKING||(null===t||void 0===t?void 0:t.name)===T.bb.OTHER_WALLET||(null===t||void 0===t?void 0:t.name)===T.bb.GIFT_CARD)&&s===(null===t||void 0===t?void 0:t.name)&&Object(u.jsx)("div",{className:"payment-option-child ".concat(s===(null===t||void 0===t?void 0:t.name)?"active":""),children:r})]})})})))})}var tu=n(406),nu=n(285),au="insufficientBalance",iu="invalidcardNumber",cu="emptyCardNumber",ou="emptyPin",ru="invalidPin",su="Check Balance",du="recipientemailplaceholder",lu="usernameplaceholder",uu="useremailplaceholder",bu="userphoneplaceholder",vu="messageplaceholder",ju="Cancel",Ou="Continue to Payment",mu="cardNumberText",fu="pinNumber",pu="balance",hu="mandatorynote",gu="custom",Nu="Active",xu="InActive",Eu={RECP_EMAIL:"recpt_mail",USER_FULL_NAME:"user_fullName",USER_EMAIL:"user_email",USER_PHONE:"user_phone",MESSAGE:"message"},Iu="MESSAGE",Tu="INFORMATION",Su=/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,Cu=/[0-9]/,Au=/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+/,yu={GIFTCARD_HEADER:"giftCardInformation",GIFTCARDNUM_INPUT:"giftcardNumber",GIFTCARDPN_INPUT:"pinNumber",EMAIL_ADDR:"Email Address",CANCEL_BUTTONT:"cancel",SUBMIT_BUTTON:"Submit",BALANCE_TEXT:"Balance:",CHECKBALANCE_BUTTON:"checkBalance",RESET_BUTTON:"Reset",INVALID_MODALTITLE:"ecard",INVALID_MODALCONTENT:"invalidcardNumber",INVALID_OKBUTTON:"OK"},_u={GIFTCARDNUM_SHOW:"giftCardnum",GIFTCARDNUM_SHOWSHOW:"giftpinNum",EMAIL_SHOW:"Email Address"},Du={CONGRATS_TEXT:"Congratulation",FEEDBACK_MESSAGE:"giftCardPurchageMsg",BUY_NEWGIFTCARD:"buyGiftCard"},Ru={FAILURE_TEXT:"purchasefailureheader",FAILURE_MESSAGE:"purchasefailuremsg",RETRY:"failureretry"},wu="paymentdeclined",ku="selectYourPaymentScreenHeader",Lu=ku,Pu=function(e){return e?"error":""},Mu=function(e,t){var n,i=Object(a.a)({},e);return i.value=t,!t||t.length<2?(i.error=!0,i.errorMessage=Object(Se.e)("emptyName")):(n=t,!Zt.b.test(n)||t.length>26?(i.error=!0,i.errorMessage=Object(Se.e)("invalidName")):(i.error=!1,i.errorMessage="")),i};function Fu(e){var t=e.formPayload,n=e.setFormPayload,o=e.setIsValid,r=Object(i.useState)({value:"",errorMessage:"",error:!1}),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)(Object(x.Hb)(window.innerWidth)),v=Object(j.a)(b,2),O=v[0],m=v[1];Object(i.useEffect)((function(){l({value:"",errorMessage:"",error:!1})}),[]);var f,p={emptyCardNumber:Object(Se.e)("emptyCardNumber"),invalidCardNumber:Object(Se.e)("invalidCard"),emptyExpiryDate:Object(Se.e)("emptyExpiry"),invalidExpiryDate:Object(Se.e)("invalidExpiry"),emptyCVC:Object(Se.e)("emptyCvv"),invalidCVC:Object(Se.e)("invalidCvv")},h=Object(tu.a)({errorMessages:p}),g=h.meta,E=h.getCardNumberProps,I=h.getExpiryDateProps,T=h.getCVCProps,S=h.getCardImageProps,C=h.getZIPProps,A=g.erroredInputs,y=g.touchedInputs,_=function(e){var i,c=e.target,o=c.name,r=c.value;!function(e,t){e&&t()}("name"===o,(function(){return l(Object(a.a)({},Mu(d,r)))})),n(Object(a.a)(Object(a.a)({},t),{},(i={},Object(Re.a)(i,o,Object(x.ub)(r).trim()),Object(Re.a)(i,"svgSource",S({images:nu.a})),i)))},D=function(){var e=Object(x.Hb)(window.innerWidth);m(e)},R=Object(N.c)((function(e){return e.tenantReducer})).countryCode;return Object(i.useEffect)((function(){Object(x.Ob)()}),[]),Object(i.useEffect)((function(){window.addEventListener("resize",D)}),[O]),Object(i.useEffect)((function(){o(Object(x.lb)(!Object.values(A).filter(Boolean).length,!0,!1))}),[A]),Object(i.useEffect)((function(){Cn(Object(Se.e)(Lu),d.error,d.errorMessage)}),[d.errorMessage,d.error]),Object(i.useEffect)((function(){var e=y.cardNumber&&A.cardNumber;Cn(Object(Se.e)(Lu),e,A.cardNumber)}),[y.cardNumber,A.cardNumber]),Object(i.useEffect)((function(){var e=y.expiryDate&&A.expiryDate;Cn(Object(Se.e)(Lu),e,A.expiryDate)}),[y.expiryDate,A.expiryDate]),Object(i.useEffect)((function(){var e=y.cvc&&A.cvc;Cn(Object(Se.e)(Lu),e,A.cvc)}),[y.cvc,A.cvc]),Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"col-12 payment-form-credit-card-container",children:[!O&&Object(u.jsx)("p",{className:"payment-mandatory-note",children:Object(Se.e)("mandatorynote")}),Object(u.jsx)("div",{className:"row creditCardRow",children:Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsx)(It,{type:"text",required:!0,"data-testid":"material-input",name:"name",placeholder:Object(Se.e)("nameOnCardText"),onChange:function(e){return _(e)},inputTestId:"cc-name-handler",autoComplete:"cc-name",onBlur:function(e){return _(e)},className:Pu(d.error),labelClassName:Pu(d.error),maxLength:"26"}),Object(u.jsxs)("label",{className:(f=d.error,f?"error":" "),children:[d.error&&Object(u.jsx)("img",{src:At,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:d.errorMessage})]})]})}),Object(u.jsx)("div",{className:"row creditCardRow",children:Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsxs)("div",{className:"field material-input",children:[Object(u.jsx)("input",Object(a.a)(Object(a.a)({},E()),{},{required:!0,"data-testid":"card-number-handler",className:"".concat(Object(x.lb)(A.cardNumber&&y.cardNumber,"error","")),onInput:function(e){return _(e)},autoComplete:"cc-number"})),Object(u.jsx)("label",{className:"".concat(Object(x.lb)(A.cardNumber&&y.cardNumber,"error","")),"data-testid":"card-number-handler",htmlFor:"cardNumber",children:Object(Se.e)("cardNumberText")})]}),Object(u.jsxs)("label",{className:"".concat(Object(x.lb)(A.cardNumber&&y.cardNumber,"error","")),children:[y.cardNumber&&A.cardNumber&&Object(u.jsx)("img",{src:At,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:y.cardNumber&&A.cardNumber})]}),Object(u.jsx)("div",{className:"card-number-image",children:Object(u.jsx)("svg",Object(a.a)({},S({images:nu.a})))})]})}),Object(u.jsxs)("div",{className:"row creditCardRow",children:[Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsxs)("div",{className:"field material-input",children:[Object(u.jsx)("input",Object(a.a)(Object(a.a)({},I()),{},{id:"expiryDate",required:!0,onInput:function(e){return _(e)},"data-testid":"expiry-date-handler",className:"".concat(Object(x.lb)(A.expiryDate&&y.expiryDate,"error","")),autoComplete:"cc-exp"})),Object(u.jsx)("label",{className:"".concat(Object(x.lb)(A.expiryDate&&y.expiryDate,"error","")),"data-testid":"expiry-date-handler",htmlFor:"expiryDate",children:Object(Se.e)("mmddText")})]}),Object(u.jsxs)("label",{className:"".concat(Object(x.lb)(A.expiryDate&&y.expiryDate,"error","")),children:[y.expiryDate&&A.expiryDate&&Object(u.jsx)("img",{src:At,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:y.expiryDate&&A.expiryDate})]})]}),Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsxs)("div",{className:"field material-input",children:[Object(u.jsx)("input",Object(a.a)(Object(a.a)({},T()),{},{id:"cvvData",required:!0,"data-testid":"cvv-handler",className:"".concat(A.cvc&&y.cvc?"error":""),onInput:function(e){return _(e)},autoComplete:"cc-csc",type:"password"})),Object(u.jsx)("label",{className:"".concat(A.cvc&&y.cvc?"error":""),"data-testid":"cvv-handler",htmlFor:"cvvData",children:Object(Se.e)("cvvText")})]}),Object(u.jsxs)("label",{className:"".concat(A.cvc&&y.cvc?"error":""),children:[y.cvc&&A.cvc&&Object(u.jsx)("img",{src:At,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:y.cvc&&A.cvc})]})]})]}),"in"!==R[0]&&Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsxs)("div",{className:"field material-input",children:[Object(u.jsx)("input",Object(a.a)(Object(a.a)({},C()),{},{id:"zip",required:!0,onInput:function(e){return _(e)},"data-testid":"zip-handler",className:"".concat(A.zip&&y.zip?"error":""),autoComplete:"off"})),Object(u.jsx)("label",{className:"".concat(A.zip&&y.zip?"error":""),"data-testid":"zip-handler",htmlFor:"zip",children:Object(Se.e)("billingPostalCodeText")})]}),Object(u.jsxs)("label",{className:"".concat(A.zip&&y.zip?"error":""),children:[y.zip&&A.zip&&Object(u.jsx)("img",{src:At,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:y.zip&&A.zip})]})]})})]})})}var Hu=function(e){var t=e.source,n=e.onClick,a=e.onChange,o=e.className,r=e.isDisplayLabel,s=void 0===r||r,d=e.label,l=e.labelClassName,b=e.optionLabelFieldName,v=e.optionCustomLabelFn,O=e.optionValueFieldName,m=e.optionClassName,f=e.selectedValue,p=e.placeholder,h=e.placeholderClassName,g=e.customSelectedLabelFn,N=e.dropdownClassName,x=function(e){return null===t||void 0===t?void 0:t.filter((function(t){return t[O]===e}))[0]},E=Object(i.useRef)(),I=Object(i.useState)(!1),T=Object(j.a)(I,2),S=T[0],C=T[1],A=Object(i.useState)(x(f)),y=Object(j.a)(A,2),_=y[0],D=y[1],R=function(e){var t=e.target.getAttribute("name");C(!("customSelect"!==t&&"customSelectSpan"!==t&&"customSelectArrow"!==t||S)&&!S),n&&n(e)},w=function(e,t,n){D(x(n)),a&&a(e,t,n),C(!1)},k=function(e){var t=e.target.getAttribute("name");"customSelect"!==t&&"customSelectSpan"!==t&&"customSelectArrow"!==t&&"customSelectOption"!==t&&"customSelectOptionSpan"!==t&&C(!1)},L=function(e){27===e.keyCode&&C(!1)};return Object(i.useEffect)((function(){return document.addEventListener("click",k,!1),document.addEventListener("keydown",L),function(){C(!1),document.removeEventListener("click",k,!1),document.removeEventListener("keydown",L)}}),[]),Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"global-custom-select-container col-12",children:[s&&Object(u.jsx)("span",{for:"customSelect",className:l||"",children:d}),Object(u.jsxs)(Ot.a,{class:"customSelect",ref:E,className:"".concat(o||""),onClickHandler:R,onKeyDownHandler:L,"data-testid":"customSelect",children:[Object(u.jsx)("span",{name:"customSelectSpan",className:h||"",onClick:R,"data-testid":"customSelectSpan",children:_&&g?g(_):_&&_[b]?_[b]:p||""}),Object(u.jsx)("img",{name:"customSelectArrow",className:"dropdown-img ".concat(S?"upArrow":""),onClick:R,"data-testid":"customSelectArrow",alt:""}),t&&Object(u.jsx)("div",{name:"customSelectList",className:"\n                global-custom-select-dropdown col-12 \n                ".concat(S?"open ":"","  \n                ").concat(N||""),children:null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(Ot.a,{class:"customSelectOption",className:"global-custom-select-dropdown-option col-12 \n                  ".concat(m||""),onClickHandler:function(t){return w(t,e,e[O])},"data-testid":"customSelectOption",children:Object(u.jsx)("span",{name:"customSelectOptionSpan","data-testid":"customSelectOptionSpan",onClick:function(t){return w(t,e,e[O])},children:v?v(e):e[b]})})}))})]})]})})};function Bu(e){var t=e.formPayload,n=e.setFormPayload,o=e.setIsValid,r=e.tender,s=Object(i.useState)([]),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(N.c)((function(e){return e})).paymentsReducer;Object(i.useEffect)((function(){var e=[];if(v&&(!l||0===(null===l||void 0===l?void 0:l.length))){var t,n,a;switch(null===r||void 0===r?void 0:r.name){case T.bb.NET_BANKING:(null===v||void 0===v?void 0:v.configuration)&&(e=null===v||void 0===v?void 0:v.configuration);break;case T.bb.OTHER_WALLET:(null===v||void 0===v?void 0:v.otherWallets)&&(e=null===v||void 0===v?void 0:v.otherWallets)}if(e&&(null===(t=e)||void 0===t?void 0:t.length)>0&&(null===(n=e)||void 0===n?void 0:n.sort))b(null===(a=e)||void 0===a?void 0:a.sort((function(e,t){return e.displayOrder-t.displayOrder})))}}),[v]);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)(Hu,{source:l,optionLabelFieldName:"bankName",optionValueFieldName:"bankId",placeholder:Object(x.lb)((null===r||void 0===r?void 0:r.name)===T.bb.NET_BANKING,Object(Se.e)("selectYourBankHeader"),Object(Se.e)("selectYourOtherWalletHeader")),customSelectedLabelFn:function(e){switch(null===r||void 0===r?void 0:r.name){case T.bb.NET_BANKING:return e&&(null===e||void 0===e?void 0:e.bankName)?null===e||void 0===e?void 0:e.bankName:Object(Se.e)("selectYourBankHeader");case T.bb.OTHER_WALLET:return e&&(null===e||void 0===e?void 0:e.bankName)?Object(Se.e)("otherWallet")+": "+(null===e||void 0===e?void 0:e.bankName):Object(Se.e)("selectYourOtherWalletHeader")}},onChange:function(e,i,c){n(Object(a.a)(Object(a.a)({},t),{},{bankId:c,bankName:null===i||void 0===i?void 0:i.bankName})),o(!!c)}})})})}var Uu=n(159);function Gu(e){var t=e.formPayload,n=e.setFormPayload,o=e.setIsValid,r=Object(i.useState)(!1),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)({value:"",errorMessage:"",error:!1}),v=Object(j.a)(b,2),O=v[0],m=v[1],f=Object(i.useState)({value:"",errorMessage:"",error:!1}),p=Object(j.a)(f,2),h=p[0],g=p[1],E=Object(i.useState)(""),I=Object(j.a)(E,2),T=I[0],S=I[1],C=Object(i.useState)(0),A=Object(j.a)(C,2),y=A[0],_=A[1],D=Object(i.useState)(!1),R=Object(j.a)(D,2),w=R[0],k=R[1],L=Object(i.useState)(""),P=Object(j.a)(L,2),M=P[0],F=P[1],H=Object(i.useState)(Object(x.Hb)(window.innerWidth)),B=Object(j.a)(H,2),U=B[0],G=B[1],Y=Object(i.useState)({}),K=Object(j.a)(Y,2),V=K[0],W=K[1],q=Cu,z=Object(N.c)((function(e){return e})),Q=z.tenantReducer,J=z.profileReducer,X=z.cartReducer,Z=Object(N.c)((function(e){return e.createBalanceReducer})).response,$=Object(N.b)(),ee=(Q||{}).tenantId,te=function(){var e=Object(x.Hb)(window.innerWidth);G(e)};Object(i.useEffect)((function(){var e=function(){var e,t=null===X||void 0===X||null===(e=X.cartData)||void 0===e?void 0:e.total,n=null===Q||void 0===Q?void 0:Q.currencyConversionFactor;return t||n?t/n:0}();_(e)}),[]),Object(i.useEffect)((function(){window.addEventListener("resize",te)}),[U]),Object(i.useEffect)((function(){m({value:"",errorMessage:"",error:!1}),g({value:"",errorMessage:"",error:!1}),S("")}),[]),Object(i.useEffect)((function(){var e={customerId:J.customerId,tenantId:ee,body:{cardNumber:O.value,cardPin:h.value}};ee&&void 0!==ee&&void 0!==O.value&&void 0!==h.value&&O.value.length>15&&h.value.length>5||(S(""),o(!1)),W(e)}),[O,h]),Object(i.useEffect)((function(){Z&&oe(Z)}),[Z]),Object(i.useEffect)((function(){Cn(Object(Se.e)(ku),null===O||void 0===O?void 0:O.error,null===O||void 0===O?void 0:O.errorMessage)}),[O.errorMessage,O.error]),Object(i.useEffect)((function(){Cn(Object(Se.e)(ku),null===h||void 0===h?void 0:h.error,null===h||void 0===h?void 0:h.errorMessage)}),[h.errorMessage,h.error]);var ne=function(e){return e?"formElement-error":"formElement"},ae=function(e){return e?"text-danger":" "},ie=function(e,t){e&&t()},ce=function(e){var t=e.target.value,n=e.target.name;ie("cardNumber"===n,(function(){return m(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?t.length<16||isNaN(t)?(n.error=!0,n.errorMessage=Object(Se.e)(iu)):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Se.e)(cu)),n}(O,t)))})),ie("pinNumber"===n,(function(){return g(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?t.length<6||isNaN(t)?(n.error=!0,n.errorMessage=Object(Se.e)(ru)):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Se.e)(ou)),n}(h,t)))}))},oe=function(e){e.cardStatus===Nu?(!function(e,t){if(t>e){k(!0);var n=Object(Se.e)(au);F(n),o(!1)}else k(!1),F(""),o(!0)}(e.cardBalance,y),S(e.cardBalance),n(Object(a.a)(Object(a.a)({},t),{},{AdditionalAttributes:{GiftCardNumber:O.value,GiftCardPin:h.value}}))):e.cardStatus===xu&&(S(""),l(!0),o(!1),n({}))};return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"col-12 payment-form-credit-card-container",children:[!U&&Object(u.jsx)("p",{className:"payment-mandatory-note",children:Object(Se.e)("mandatorynote")}),Object(u.jsx)("div",{className:"giftcardRow",children:Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsx)(It,{className:ne(O.error),type:"text",maxLength:16,onKeyPress:function(e){return function(e){q.test(e.key)||e.preventDefault()}(e)},required:!0,name:"cardNumber","data-testid":"cardNumber",placeholder:Object(Se.e)(mu),onChange:ce,value:O.value,inputTestId:"gc-number-handler",autoComplete:"gc-number"}),Object(u.jsxs)("div",{id:"cardNumber",className:ae(O.error),children:[O.error&&Object(u.jsx)("img",{src:At,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:O.errorMessage})]})]})}),Object(u.jsxs)("div",{className:"giftcardRow",children:[Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsx)(It,{className:ne(h.error),type:"password",maxLength:6,required:!0,name:"pinNumber","data-testid":"pinNumber",placeholder:Object(Se.e)(fu),onChange:ce,value:h.value,inputTestId:"pin-number-handler",autoComplete:"pin-number"}),Object(u.jsxs)("div",{id:"pinNumber",className:ae(h.error),children:[h.error&&Object(u.jsx)("img",{src:At,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:h.errorMessage})]})]}),Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsx)(It,{className:ne(w),type:"text",disabled:!0,required:!0,name:"balance","data-testid":"balance",placeholder:Object(Se.e)(pu),onChange:function(e){return function(e){var t=e.target,n=t.name,i=t.value;"cardNumber"===n?m(Object(a.a)(Object(a.a)({},O),{},Object(Re.a)({},n,(i||"").trim()))):g(Object(a.a)(Object(a.a)({},h),{},Object(Re.a)({},n,(i||"").trim())))}(e)},value:T,inputTestId:"balance-handler",autoComplete:"balance"}),Object(u.jsxs)("div",{id:"balance",className:ae(w),children:[w&&Object(u.jsx)("img",{src:At,alt:"",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:M})]})]})]}),Object(u.jsx)("div",{className:"giftcardRow  check-balance",children:Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)(Ot.a,{className:"button  whiteButton blackBorder add-more-menu","data-testid":"button",onClick:function(){$(Object(Uu.a)(V))},ariaLable:Object(Se.e)(yu.CHECKBALANCE_BUTTON),children:Object(Se.e)(yu.CHECKBALANCE_BUTTON)})})}),d&&Object(u.jsx)("div",{className:"checkBal-errorModal",children:Object(u.jsx)(Ti,{CartAlertForm:Object(u.jsx)(xi,{title:Object(Se.e)(yu.INVALID_MODALTITLE),contentMsg:Object(Se.e)(yu.INVALID_MODALCONTENT),cancelHandler:function(){l(!1)},cancelButtonText:Object(Se.e)(yu.INVALID_OKBUTTON)})})})]})})}function Yu(e){var t=e.formPayload,n=e.setFormPayload,a=e.tender,i=e.isValid,o=e.setIsValid;return Object(u.jsxs)(c.a.Fragment,{children:[(null===a||void 0===a?void 0:a.name)===T.bb.CREDIT_CARD&&Object(u.jsx)(Fu,{formPayload:t,setFormPayload:n,isValid:i,setIsValid:o}),((null===a||void 0===a?void 0:a.name)===T.bb.NET_BANKING||(null===a||void 0===a?void 0:a.name)===T.bb.OTHER_WALLET)&&Object(u.jsx)(Bu,{isValid:i,setIsValid:o,formPayload:t,setFormPayload:n,tender:a}),(null===a||void 0===a?void 0:a.name)===T.bb.GIFT_CARD&&Object(u.jsx)(Gu,{isValid:i,setIsValid:o,formPayload:t,setFormPayload:n})]})}var Ku=n(101);function Vu(e){var t=e.isClickAddPayment,n=e.setIsClickAddPayment,a=(e.cartData,e.isValidated),c=e.basketId,o=e.tenantId,r=e.tender,s=e.setTender,d=e.isValid,l=e.setIsValid,b=(e.checkoutProps,e.formPayload),v=e.setFormPayload,O=e.setIsPaymentTypeSelected,m=(e.currencyConversionFactor,e.onClose),f=e.onSubmit,p=Object(N.b)(),h=Object(i.useState)(!1),g=Object(j.a)(h,2),E=g[0],I=g[1],S=Object(i.useState)([]),C=Object(j.a)(S,2),A=C[0],y=C[1];return Object(i.useEffect)((function(){return t&&(Object(x.l)(),p(Object(St.x)({data:{id:c},tenantId:o},(function(e){var t;(null===e||void 0===e?void 0:e.allowedTenders)&&y(null===e||void 0===e||null===(t=e.allowedTenders)||void 0===t?void 0:t.map((function(e){return e.toLowerCase()})));I(!0),l(!1)})))),function(){Object(x.h)()}}),[t]),Object(i.useEffect)((function(){switch(null===r||void 0===r?void 0:r.name){case T.bb.NET_BANKING:p(Object(Ku.b)({tenantId:o}));break;case T.bb.OTHER_WALLET:p(Object(Ku.c)({tenantId:o}))}}),[null===r||void 0===r?void 0:r.name]),Object(i.useEffect)((function(){a&&p(Object(St.q)())}),[a]),Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsx)(lt.a,{children:Object(u.jsx)("div",{className:"proceedpayment-container",children:Object(u.jsx)("div",{className:"modal fade ".concat(E?"show":""),role:"dialog",children:Object(u.jsx)("div",{className:"modal-dialog modal-dialog-scrollable modal-lg",children:Object(u.jsxs)("div",{className:"modal-content",tabindex:"-1","aria-labelledby":"paymentOptionPopup",role:"dialog",children:[Object(u.jsxs)("div",{className:"modal-header-parent",children:[Object(u.jsx)("h2",{id:"paymentOptionPopup",children:Object(Se.e)("selectYourPaymentScreenHeader")}),Object(u.jsx)("button",{id:"CloseButton",type:"button",className:"close",onClick:function(){I(!1),n(!1),l(!1),s({name:"",payload:{}}),m&&m()},"data-testid":"dialog-conatiner-close","aria-label":Object(Se.e)("closePaymentModal"),children:"\xd7"})]}),Object(u.jsx)("div",{className:"modal-body",children:Object(u.jsx)(eu,{tender:r,setTender:s,"data-testid":"payment-opts",setIsValid:l,allowedTenders:A,children:Object(u.jsx)(Yu,{isValid:d,setIsValid:l,tender:r,formPayload:b,setFormPayload:v})})}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-dark","data-testid":"handle-submit",onClick:function(){I(!1),n(!1),O&&O(!0),f&&f()},disabled:!d,id:"submitButton",children:Object(Se.e)("Submit")})})]})})})})})})}var Wu=n(190),qu=n(79),zu=function(e,t,n,a,i,c,o,r,s,d){e&&!t?(n(!0),s&&s(!1),a({userEmail:i,userPhone:c}),o({name:"",payload:{}}),r&&r(!1),it({popupTitle:"SELECT YOUR PAYMENT"})):d()},Qu=function(e,t,n,a){a.request.tenders.push({type:null===t||void 0===t?void 0:t.name,amount:null===n||void 0===n?void 0:n.total}),e(Object(mt.b)(a))},Ju=function(e){var t=e.reorderModalOpen,n=e.setReorderModalOpen,c=e.isQuickReorderModalOpen,r=e.setQuickReorderModalOpen,s=e.storeInfo,d=Object(i.useContext)(E.a).userOrderStateDispatch,l=Object(N.b)(),b=dl.QUICK_ORDER,v=dl.CHECKOUT,O=dl.CART,m=Object(i.useState)(t),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(i.useState)(Object(x.Hb)(window.innerWidth)),I=Object(j.a)(g,2),T=I[0],S=I[1],C=Object(i.useState)({name:"",payload:{}}),A=Object(j.a)(C,2),y=A[0],_=A[1],D=Object(i.useState)(!1),R=Object(j.a)(D,2),w=R[0],k=R[1],L=Object(i.useState)(!1),P=Object(j.a)(L,2),M=P[0],F=P[1],H=Object(i.useState)(),B=Object(j.a)(H,2),U=B[0],G=B[1],Y=Object(i.useState)(),K=Object(j.a)(Y,2),V=K[0],W=K[1],q=Object(i.useState)(!1),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(i.useState)({}),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te=Object(i.useState)(!1),ne=Object(j.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(o.f)(),oe=Object(N.c)((function(e){return e.appStateReducer.userStatus})),re=Ae.a.TENDER_DATA,se=Ae.a.PAYMENET_FORM_PAYLOAD,de=Object(N.c)((function(e){return e})),le=de.cartReducer,ue=de.tenantReducer,be=de.profileReducer,ve=ue.tenantId,je=le.cartData,Oe=void 0===je?{}:je,me=le.isValidated,fe=void 0!==me&&me,pe=le.isBasketAdded,he=null===be||void 0===be?void 0:be.basic,ge=Oe||{},Ne=ge.discountLines,xe=void 0===Ne?[]:Ne,Ee=ge.id,Ie=function(){var e=function(e){var t=Object(a.a)({},e),n=t.firstName,i=void 0===n?"":n,c=t.middleName,o=void 0===c?"":c,r=t.lastName,s=void 0===r?"":r,d=t.email,l=void 0===d?"":d,u=t.phone;return{fullName:i||(""+o?o:""+s?s:""),email:l,phone:void 0===u?"":u}}(he),t=e.phone,n=e.email;G(t),W(n);var i=Boolean(n||t);k(i)};Object(i.useEffect)((function(){Object(x.Bb)(he)&&oe.loggedIn&&Ie()}),[he]);var Te=function(){var e=Object(x.Hb)(window.innerWidth);S(e)};Object(i.useEffect)((function(){return window.addEventListener("resize",Te),function(){window.removeEventListener("resize",Te)}}),[T]);var Ce=function(){l(Object(St.l)({basketId:Ee,tenantId:ve})),r(!1),n(!1),sessionStorage.setItem("reorderClick",!1)},ye={id:"reorderModal",role:"dialog",modalTitleId:"reorderModal",show:p,classNames:"Base-modal ".concat(T?"mobile-reorder-modal":"reorder-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:function(){return n(!1)},modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},_e={id:"QuickReorderModal",role:"dialog",modalTitleId:"QuickReorder",show:c,classNames:"Base-modal ".concat(T?"mobile-QuickReorder-modal":"QuickReorder-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:Ce,modalTitle:Object(Se.e)(b),closeDataTestId:"close-quick-reorder-modal",autoFocus:!0},De=Object(i.useState)(!1),Re=Object(j.a)(De,2),we=Re[0],ke=Re[1],Le=function(e){_(e),d({type:re,value:{tenderInfo:e,isPaymentAdded:!0}})},Pe=function(e){ee(e),d({type:se,value:{paymentFormPayload:e}})};return Object(u.jsxs)(u.Fragment,{children:[p&&Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},ye),{},{children:Object(u.jsx)(ml,{onCancel:function(){return n(!1)},onContinue:function(){if(xe.length>0&&Ee){var e=xe.map((function(e){return e.id}));l(Object(St.k)({params:{basketId:Ee},tenantId:ve,shouldClearCart:!0},e))}else Ee&&l(Object(St.l)({basketId:Ee,tenantId:ve}));r(!0),h(!1)}})})),c&&!we&&Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},_e),{},{children:Object(u.jsx)(Jl,{storeInfo:s,cartData:Oe,onCancel:Ce,onContinue:function(e,t,n){n(e,t),zu(w,ae,ie,ee,V,U,_,null,null),ke(!0),sessionStorage.setItem("reorderClick",!1)},isBasketAdded:pe,onAddCoupon:function(e,t,n){n(e,t),F(!0),ke(!0)}})})),Object(u.jsx)(Vu,{isClickAddPayment:ae,setIsClickAddPayment:ie,onSubmit:function(){ce.push({pathname:"/".concat(v)})},onClose:function(){n(!1),ke(!1),r(!1)},cartData:Oe,isValidated:fe,basketId:null===Oe||void 0===Oe?void 0:Oe.id,tenantId:ve,tender:y,setTender:function(e){return Le(e)},isValid:Q,setIsValid:J,formPayload:$,setFormPayload:function(e){return Pe(e)}}),M&&Object(u.jsx)(yn,{"data-testid":"coupon-modal",bucketId:Ee,isOpen:M,handleClose:function(e){"true"===e?(ce.push({pathname:"/".concat(O)}),sessionStorage.setItem("reorderClick",!1)):(ke(!1),F(!1),r(!0))}})]})},Xu=n(160),Zu=n.n(Xu),$u=void 0,eb=function(e){var t,n=e.orderItem,a=Object(N.c)((function(e){return e.tenantReducer})),c=a||{},o=c.currencySymbol,r=c.currencyConversionFactor,s=c.addHope,d=c.carryBag,l=Object(N.c)((function(e){return e.paymentsContentReducer})).tendersContent.items,b=void 0===l?[]:l,v=n.fulfillmentDateTime,O=n.deliveryAddress,m=n.store,f=n.foodLines,p=n.subTotal,h=n.total,g=n.taxLines,E=n.paymentReferences,T=n.posOrderId,S=n.inclusiveTaxTotal,C=n.additionalChargeLines,A=n.discountTotal,y=n.service,_=m.phoneNumber,D=cs.d.YOUR_ORDER,R=cs.d.DELIVER_TO,w=cs.d.PAYMENT,k=cs.d.ORDER_FROM,L=cs.d.GET_DIRECTION,P=cs.d.TOTAL,M=cs.d.SUBTOTAL,F=cs.d.ORDER,H=cs.d.AT,B=cs.d.COMPLETED,U=cs.d.GST,G=cs.d.DISCOUNT,Y=cs.d.SEARCH_IN_CART,K=cs.d.LARGE_CARRY_BAG,V=cs.d.ADD_HOPE_TEXT,W=Object(ye.l)(v,"ll"),q=Object(ye.l)(v,"h:mm A"),z=Object(i.useState)(""),Q=Object(j.a)(z,2),J=Q[0],X=Q[1],Z=Object(i.useState)(""),$=Object(j.a)(Z,2),ee=$[0],te=$[1],ne=Object(i.useState)(0),ae=Object(j.a)(ne,2),ie=ae[0],ce=ae[1],re=Object(i.useState)(0),se=Object(j.a)(re,2),de=se[0],le=se[1],ue=Object(i.useState)([]),be=Object(j.a)(ue,2),ve=be[0],je=be[1],Oe=Object(i.useState)(!1),me=Object(j.a)(Oe,2),fe=me[0],pe=me[1],he=Object(N.b)();Object(i.useEffect)((function(){he(Object(Tt.a)({object:Object(I.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]),Object(i.useEffect)((function(){if(Object(x.r)(s,d)){ra(n,s,d,Y,{setAddHopeDataExistsId:te,setAddHopeDataPrice:ce},{setCarryBagDataExistsId:X,setCarryBagDataPrice:le},a);var e=Object(x.N)(f,s,d);je(e)}}),[n]);var ge=function(e){return(e/r).toFixed(2)};return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"reciept-header",children:[Object(u.jsx)("span",{className:"your-order",children:Object(Se.e)(D)}),Object(u.jsxs)("span",{className:"receipt-number",children:[Object(Se.e)(F),"# ",T]})]}),Object(u.jsx)("hr",{className:"horizontal-bar"}),Object(u.jsxs)("div",{className:"reciept-order-detail",children:[Object(u.jsxs)("div",{className:"reciept-details-heading",children:[Object(u.jsx)("span",{className:"receipt-sub-heading",children:Object(Se.e)(B)}),Object(u.jsx)("span",{className:"receipt-sub-detail",children:W+" ".concat(Object(Se.e)(H)," ")+q})]}),O&&Object(u.jsxs)("div",{className:"reciept-details-heading",children:[Object(u.jsx)("span",{className:"receipt-sub-heading",children:Object(Se.e)(R)}),Object(u.jsxs)("span",{className:"receipt-sub-detail width-style-lg",children:[(null===O||void 0===O?void 0:O.addressLines[2])&&Object(u.jsxs)("span",{children:[null===O||void 0===O?void 0:O.addressLines[2],", "]}),(null===O||void 0===O?void 0:O.addressLines[1])&&Object(u.jsxs)("span",{children:[null===O||void 0===O?void 0:O.addressLines[1],", "]}),(null===O||void 0===O?void 0:O.addressLines[0])&&Object(u.jsxs)("span",{children:[null===O||void 0===O?void 0:O.addressLines[0],", "]}),(null===O||void 0===O?void 0:O.state)&&Object(u.jsxs)("span",{children:[null===O||void 0===O?void 0:O.state,", "]}),(null===O||void 0===O?void 0:O.pinCode)&&Object(u.jsxs)("span",{children:[null===O||void 0===O?void 0:O.pinCode,", "]}),(null===O||void 0===O?void 0:O.country)&&Object(u.jsx)("span",{children:null===O||void 0===O?void 0:O.country})]})]}),Object(u.jsxs)("div",{className:"reciept-details-heading",children:[Object(u.jsx)("span",{className:"receipt-sub-heading",children:Object(Se.e)(w)}),Object(u.jsx)("span",{className:"receipt-sub-detail",children:function(){var e,t,n,a,i,c,o,r,s=Zu()(E,{}),d=Zu()(b.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)===(null===s||void 0===s?void 0:s.paymentType)})),{});return"Only image"===(null===d||void 0===d||null===(e=d.fields)||void 0===e?void 0:e.displayFormat)?Object(u.jsx)("img",{src:null===d||void 0===d||null===(t=d.fields)||void 0===t||null===(n=t.icon)||void 0===n||null===(a=n.fields)||void 0===a||null===(i=a.desktopImage)||void 0===i||null===(c=i.fields)||void 0===c||null===(o=c.file)||void 0===o?void 0:o.url,alt:"paymentMethod"}):Object(u.jsx)("span",{className:"dateCompleted",children:null===d||void 0===d||null===(r=d.fields)||void 0===r?void 0:r.displayName})}()})]}),Object(u.jsxs)("div",{className:"reciept-details-heading",children:[Object(u.jsx)("span",{className:"receipt-sub-heading",children:Object(Se.e)(k)}),null!==m&&void 0!==m&&Object(u.jsxs)("span",{className:"receipt-sub-detail width-style-lg",children:[m.name,Object(u.jsx)("br",{}),null===m||void 0===m||null===(t=m.address)||void 0===t?void 0:t.addressLines]})]}),Object(u.jsxs)("div",{className:"CompletedCallAndDirection mt-2",id:"DirectionTest",children:[Object(u.jsx)("span",{children:" "}),Object(u.jsxs)("span",{className:"callAndDirection",children:[Object(u.jsxs)("span",{className:"KfcphoneNums",children:[Object(u.jsx)("img",{src:ft,alt:"phone",className:"KfcphoneIcon"}),Object(u.jsx)("a",{href:"tel:"+_,className:"anchorTags",children:function(e){e.substr(0,e.indexOf(" "));var t=e.substr(e.indexOf(" ")+1);return t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6)}(_)})]}),Object(u.jsxs)("span",{className:"KfcphoneNums",id:"DirectionClick",onClick:function(){return pe(!0)},children:[Object(u.jsx)("img",{src:pt,alt:"phone",className:"KfcDirectionIcon"}),Object(Se.e)(L)]})]})]})]}),Object(u.jsx)("section",{className:"reciept-accordian",children:Object(u.jsx)(oe,{header:"".concat(ve.length," ITEM"),children:ve.map((function(e){return Object(u.jsx)("section",{className:"",children:Object(u.jsxs)("div",{className:"reciept-order-item",children:[Object(u.jsxs)("div",{className:"reciept-item-details",children:[Object(u.jsx)("div",{className:"item-count-box mr",children:Object(u.jsx)("span",{className:"item-count ml",children:e.quantity})}),Object(u.jsxs)("div",{className:"item-desc-section",children:[Object(u.jsx)("span",{className:"item-desc",children:e.item.displayName}),Object(u.jsx)("span",{className:"item-desc-quantity",children:(t=e.item,pl()(t,"modGrps",[]).map((function(e){return e.modifiers})).flat().map((function(e){return"".concat(e.quantity,"x ").concat(e.name)})).join())})]})]}),Object(u.jsxs)("span",{className:"item-amount",children:[o,ge.call($u,e.item.quantity*e.item.unitPrice)," "]})]})});var t}))},"orderItem-".concat(n.id))}),Object(u.jsxs)("div",{className:"reciept-order-detail",children:[Object(u.jsxs)("div",{className:"reciept-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:Object(Se.e)(M)}),Object(u.jsxs)("span",{className:"payment-amount",children:[o,ge(p)]})]}),g&&Object(u.jsxs)("div",{className:"reciept-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:U}),Object(u.jsxs)("span",{className:"payment-amount",children:[o,ge(S)]})]}),C.map((function(e,t){return Object(u.jsxs)("div",{className:"reciept-payment-details",children:[Object(u.jsxs)("span",{className:"payment-type",children:[" ",e.chargeType]}),Object(u.jsxs)("span",{className:"payment-amount",children:[o,ge.call($u,e.amount)," "]})]},t)})),A>0&&Object(u.jsxs)("div",{className:"reciept-payment-details",children:[Object(u.jsx)("span",{className:"payment-type",children:Object(Se.e)(G)}),Object(u.jsxs)("span",{className:"payment-amount",children:[" ","- ",o,ge(A)]})]}),"PICKUP"===y.toUpperCase()&&J&&Object(u.jsxs)("div",{className:"reciept-payment-details",id:"priceListData",children:[Object(u.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(Se.e)(K)}),Object(u.jsx)("span",{className:"payment-amount",id:"amountStyle",children:de})]}),Boolean(ee)&&Object(u.jsxs)("div",{className:"reciept-payment-details",id:"priceListData",children:[Object(u.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(Se.e)(V)}),Object(u.jsx)("span",{className:"payment-amount",id:"amountStyle",children:ie})]}),Object(u.jsxs)("div",{className:"reciept-payment-details mt-4",children:[Object(u.jsx)("span",{className:"payment-total",children:Object(Se.e)(P)}),Object(u.jsxs)("span",{className:"payment-total-amount",children:[o,ge(h)]})]}),fe&&Object(u.jsx)("div",{children:Object(u.jsx)(xt,{"data-testid":"map-modal",isOpen:fe,handleClose:function(){return pe(!1)},OrderReducerData:n})})]})]})};var tb=function(e){var t=e.pastOrdersData,n=e.tenantReducerData,c=e.favouriteOrders,o=void 0===c?[]:c,r=Object(i.useState)(0),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)(!1),v=Object(j.a)(b,2),O=v[0],m=v[1],f=Object(i.useState)(!1),p=Object(j.a)(f,2),h=p[0],g=p[1],x=Object(i.useState)({}),E=Object(j.a)(x,2),I=E[0],T=E[1],S=Object(i.useState)({}),C=Object(j.a)(S,2),A=C[0],y=C[1],_=Object(i.useRef)(null),D=el,R=tl,w=nl,k=al,L=il,P=Object(i.useState)(!1),M=Object(j.a)(P,2),F=M[0],H=M[1],B=Object(i.useState)(0),U=Object(j.a)(B,2),G=U[0],Y=U[1],K=Object(N.b)(),V=Object(N.c)((function(e){return e})),W=V.tenantReducer,q=V.profileReducer,z=V.cartReducer,Q=V.postOrderReducer,J=W.tenantId,X=(Q||{}).orderAccepted,Z=void 0===X?{}:X,$=q.customerId,ee=z.cartData,te=void 0===ee?{}:ee,ne=function(e,t){var n;return[].concat(Object(so.a)(null===e||void 0===e||null===(n=e.slice())||void 0===n?void 0:n.filter((function(e){return void 0===t.find((function(t){return t.id===e.id}))}))),Object(so.a)(t))}(t,o).sort((function(e,t){return t.fulfillmentDateTime-e.fulfillmentDateTime})),ae={dots:!1,infinite:!1,speed:D,slidesToShow:R,slidesToScroll:w,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(u.jsx)(Tr,{clickNextCard:function(){if(d<ne.length-1){var e=0;e=d+w>ne.length-R-1?ne.length-R:d+w,l(e),_.current.slickGoTo(e)}}}),prevArrow:Object(u.jsx)(Sr,{clickPrevCard:function(){d>0&&(l(d-w),_.current.slickGoTo(d-w))}}),beforeChange:function(e,t){return Y(t)},afterChange:function(e,t){return l(e)},variableWidth:!0,responsive:[{breakpoint:k,settings:{slidesToShow:L,arrows:!0,swipeToSlide:!0}}]},ie=(te||{}).foodLines,ce=void 0===ie?[]:ie,oe=function(){ce.length>0?H(!0):(K(Object(St.o)()),g(!0))},re=function(e){y(e);var t=e||{},n=t.store,a=void 0===n?{}:n,i=t.service,c=void 0===i?"":i,o=t.id,r=void 0===o?"":o,s=(a||{}).storeId,d=[{storeId:void 0===s?"":s,channel:ya.b.channel,service:c}];K(Object(hl.a)(d,J,(function(e){return function(e,t){var n=Zu()(pl()(e,"response",{}),{});T(n),K(Object(tn.a)({tenantId:J,orderId:t,customerId:$},oe))}(e,r)}))),sessionStorage.setItem("reorderClick",!0)},se={id:"ReceiptModal",role:"dialog",modalTitleId:"ReceiptModal",show:O,classNames:"Base-modal Receipt-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:function(){return m(!1)},modalTitle:"ORDER RECEIPT",closeDataTestId:"close-recipet-modal",autoFocus:!0},de=Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},se),{},{children:Object(u.jsx)("div",{className:"ReceiptModal",children:Object(u.jsx)(eb,{orderItem:Z})})}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"pastorderCard-list",children:[Object(u.jsx)(Wo,{settings:ae,carousalRef:_,children:ne&&ne.map((function(e,t){return Object(u.jsx)(Ol,{"data-testid":"pastorder-list-card-test",order:e,tenantReducerData:n,reorderBtnHandler:function(){return re(e)},viewRecipetHandler:function(){return function(e){var t=(e||{}).id,n=void 0===t?"":t;K(Object(tn.a)({tenantId:J,orderId:n,customerId:$},(function(){m(!0)})))}(e)}},t)}))}),ne.length>2&&Object(u.jsx)("div",{className:"pastorder-slideContainer",children:Object(u.jsx)("input",{className:"pastorder-slider",type:"range",min:"0",max:ne.length-1,value:G,id:"myRange","data-testid":"myRange",onChange:function(e){Y(e.target.value),_.current.slickGoTo(e.target.value)}})})]}),(F||h)&&Object(u.jsx)(Ju,{storeInfo:I,currentOrderInfo:A,reorderModalOpen:F,setReorderModalOpen:H,isQuickReorderModalOpen:h,setQuickReorderModalOpen:g}),O&&de]})},nb=n.p+"static/media/CTA_Arrow.a801582c.svg",ab=function(e){var t=e.pastOrders,n=e.basic,a=e.favouriteOrders,i=e.tenantReducerData,c=e.isLoggedIn,r=Object(o.f)();return Object(u.jsxs)("div",{className:"pastorder-container",children:[c?Object(u.jsxs)("div",{className:"pastorder-left-container",children:[Object(u.jsx)("div",{"data-testid":"pastorder-strips-test",className:"pastorder-stripes"}),Object(u.jsx)("div",{"data-testid":"pastorder-greeting-test",className:"pastorder-greeting-heading",children:"WELCOME BACK, ".concat((null===n||void 0===n?void 0:n.firstName)||Object(Se.e)("kfcLover"),"!")}),Object(u.jsxs)("div",{className:"pastorder-my-account-text","data-testid":"see-full-history",onClick:function(){localStorage.setItem("LoadMoreOrderHistory",!1),r.push({pathname:"/account"}),window.scrollTo(0,0)},children:[Object(Se.e)("myAccount"),Object(u.jsx)(S.a,{srcFile:nb,className:"pastorder-my-account-arrow"})]})]}):Object(u.jsxs)("div",{className:"pastorder-left-container",children:[Object(u.jsx)("div",{"data-testid":"pastorder-strips-test",className:"pastorder-stripes"}),Object(u.jsx)("div",{"data-testid":"pastorder-greeting-test",className:"pastorder-greeting-heading",children:"".concat(Object(Se.e)("welcomeTo")," ").concat(Object(Se.e)("kfcTxt"),"!")})]}),((null===t||void 0===t?void 0:t.length)>0||(null===a||void 0===a?void 0:a.length)>0)&&Object(u.jsxs)("div",{className:"pastorder-right-container",children:[Object(u.jsxs)("div",{className:"pastorder-right-header",children:[Object(u.jsx)("div",{className:"pastorder-right-header-text",children:Object(Se.e)("orderItAgain")}),Object(u.jsx)("div",{className:"pastorder-right-header-line"})]}),Object(u.jsx)(tb,{pastOrdersData:t,favouriteOrders:a,tenantReducerData:i}),Object(u.jsx)("p",{className:"pastorder-full-history",onClick:function(){localStorage.setItem("LoadMoreOrderHistory","GoToOrderHistory"),r.push({pathname:"/account"}),window.scrollTo(0,0)},children:Object(Se.e)("seeFullOrderHistory")})]})]})},ib=n(386),cb=n.p+"static/media/closeButtonBanner.c7c0901f.svg",ob=function(e){var t=Object(N.c)((function(e){var t,n,a;return{smartBannerData:(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t||null===(n=t.response)||void 0===n?void 0:n.smartBanner)||null,showBanner:(null===e||void 0===e||null===(a=e.splashLoaderReducer)||void 0===a?void 0:a.showSmartBanner)||null}})),n=t.smartBannerData,a=t.showBanner,c=(n||{}).bannerImage,o=void 0===c?{}:c,r=Object(i.useState)(Object(x.Hb)(window.innerWidth)),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(N.b)(),v=function(){var e=Object(x.Hb)(window.innerWidth);l(e)};Object(i.useEffect)((function(){window.addEventListener("resize",v)}),[d]);var O=function(){b(Object(ib.a)(!1))};return d?function(){var e,t,i;return Object(u.jsx)(u.Fragment,{children:a&&ya.b.isBrowser&&Object(x.Bb)(o)&&Object(u.jsxs)("div",{id:"kfc-banner-image",className:"kfc-banner-image","data-testid":"banner",children:[Object(u.jsx)("img",{src:cb,alt:"closeButton",className:"close-button",onClick:O,"data-testid":"close-banner"}),Object(u.jsx)("img",{src:null===o||void 0===o||null===(e=o.fields)||void 0===e||null===(t=e.file)||void 0===t?void 0:t.url,alt:null===o||void 0===o||null===(i=o.fields)||void 0===i?void 0:i.title,className:"banner-image",useMap:"#areaClickable"}),Object(u.jsx)("map",{name:"areaClickable",children:Object(u.jsx)("area",{shape:"rect",coords:"302,0,395,63",href:null===n||void 0===n?void 0:n.url,"data-testid":"install-button"})})]})})}():null};var rb=function(e){var t=Ae.a.SET_FORCERELOAD;return function(n){var c,o,r,s,d,l,b=Object.assign({},n),v=(null!==(c=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==c?c:{}).flatResponse,j=void 0===v?{}:v,m=Object(i.useContext)(E.a),p=m.userOrderState,h=(p=void 0===p?{}:p).dispositionNew,g=void 0===h?JSON.parse(localStorage.getItem("dispositionNew")):h,I=p.forceReload,T=m.userOrderStateDispatch,S=Object(x.Ab)(g)?JSON.parse(localStorage.getItem("dispositionNew")):g,C=Object(N.c)((function(e){return e.tenantReducer||{}})),A=C.tenantId,y=C.authoredContent,_=(y=void 0===y?{}:y).defaultdisposition,D=C.genericMenuName,R=f.a.SERVICE_CHANNEL,w=Object(i.useMemo)((function(){var e,t,n=null!==(e=null===S||void 0===S?void 0:S.type)&&void 0!==e?e:_;return{storeInfo:null!==(t=null===S||void 0===S?void 0:S.store)&&void 0!==t?t:{},dispositionType:Object(x.I)(n)}}),[S,_]),k=w.storeInfo,L=w.dispositionType,P=null!==(o=null!==(r=null===k||void 0===k||null===(s=k.summary)||void 0===s||null===(d=s.menu)||void 0===d||null===(l=d.catalogs)||void 0===l?void 0:l[0])&&void 0!==r?r:D)&&void 0!==o?o:"",M=L,F=null===k||void 0===k?void 0:k.id,H=Object(N.b)();return Object(i.useEffect)((function(){var e=function(e,n,a,i,c){var o=Object(O.isEmpty)(e)||i;if(i&&c({type:t,value:{forceReload:!1}}),!o&&n){var r=localStorage.getItem("storeId");r&&n===r||(localStorage.setItem("storeId",n),o=!0)}if(!o&&a){var s=localStorage.getItem("serviceType");s&&a===s||(localStorage.setItem("serviceType",a),o=!0)}return o}(j,F,M,I,T);e&&H(Object(ui.d)({tenantId:A,catalogName:P},{storeId:F,channel:R,service:M}))}),[R,P,H,j,M,F,A,I]),Object(O.isEmpty)(j)?Object(u.jsx)(u.Fragment,{}):Object(u.jsx)(e,Object(a.a)({},b))}},sb=rb((function(e){var t,n,a,o,r,s,d,l=f.a.DISPOSITION,b=f.a.BROWSER_CATEGORIES,v=f.a.OFFERS_DEALS,O=f.a.CAROUSAL,S=f.a.ORDERSERV,C=f.a.ROUTING,A=f.a.CRM,y=f.a.WELCOME_MESSAGE,_=f.a.RECOMMENDATION,D=bi.a.CROSSELL,R=null,w=null,k=null,L=null,P=Object(N.b)(),M=e.location,F=e.history,H=Object(i.useContext)(E.a),B=H.userOrderState,U=H.userOrderStateDispatch,G=Object(N.c)((function(e){return e.appStateReducer.userStatus})),Y=Object(i.useState)([]),K=Object(j.a)(Y,2),V=K[0],W=K[1],q=Object(N.c)((function(e){return e.tenantReducer})),z=Object(N.c)((function(e){return e.cartReducer})),Q=Object(x.sb)(z).showProductListingModal,J=void 0!==Q&&Q,X=Kr,Z=Object(x.Ab)(B.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):B.dispositionNew;Object(i.useMemo)((function(){var e;return{tenantReducer:Object(x.Bb)(q)?q:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:Z?Z.store:{},dispositionType:Z&&Z.type?Object(x.I)(Z.type):Object(x.I)(null===(e=q.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[Z,q]);Object(i.useEffect)((function(){var e,t,n=ei.a.DISPOSITION_ACTION.SET_QR_DEEPLINK_MODE;if(null===F||void 0===F||null===(e=F.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.includes("qrhome")){var a,i=null===F||void 0===F||null===(a=F.location)||void 0===a?void 0:a.search,c=new URLSearchParams(i).get("restaurantid"),o=Ae.a.DISPOSITION_DATA;U({type:n,value:{deepLinkStoreMode:!0,deeplinkSelectedStoreId:c}}),U({type:o,value:{showDisposition:!0}}),P(Object(St.j)())}}),[F,U]),Object(i.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(i.useEffect)((function(){P(Object(g.a)({object:Object(I.a)(),syncObj:{initial:!0}})),P(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===q||void 0===q?void 0:q.country,"fields.channel":ya.b.channel,include:5}}))}),[P,null===q||void 0===q?void 0:q.country]),Object(i.useEffect)((function(){J&&P(Object(St.t)({showProductListingModal:!1,categorySelected:""}))}),[M]),Object(i.useEffect)((function(){P(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ya.b.channel,include:"5"},userParams:G}))}),[P,G]);var $=Object(N.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),pastOrdersData:m.a.get(e,"profileReducer.pastOrders",null),basicData:m.a.get(e,"profileReducer.basic",null),favouriteOrders:m.a.get(e,"profileReducer.favouriteOrders",null),tenantReducerContent:m.a.get(e,"tenantReducer",null),appStateReducerContent:m.a.get(e,"appStateReducer",null),recommendedProducts:m.a.get(e,"profileReducer.recommendedProducts",null)}}));if($.homePageContent&&$.marketPageContent&&$.tenantReducerContent&&$.appStateReducerContent){R=Object(x.vb)(Object(x.V)($.homePageContent));var ee=$.marketPageContent.headerData||{},te=ee.header,ne=void 0===te?{}:te,ae=(ee.tenant,ee.footer),ie=void 0===ae?{}:ae;w=Object(x.W)(ne),k=Object(x.O)(ie),L=Object(x.rb)($.homePageContent&&$.homePageContent.homeContentfulResp)}var ce=Object(x.r)(null===(t=R)||void 0===t?void 0:t[O],Object(u.jsx)(ir,{contentData:Object(x.K)(null===(n=R)||void 0===n?void 0:n[O]),history:F})),oe=Object(u.jsx)(ab,{pastOrders:$.pastOrdersData,basic:$.basicData,favouriteOrders:$.favouriteOrders,tenantReducerData:$.tenantReducerContent,isLoggedIn:G.loggedIn}),re=Object(u.jsx)(br,{}),se=Object(u.jsx)(kr,{history:F}),de=Object(x.Bb)(R)&&R[C]&&Object(u.jsx)(Go,{contentData:Object(x.sb)(R[C])})||null,le=Object(x.Bb)(R)&&R[A]&&Object(u.jsx)(Fr,{contentData:Object(x.sb)(R[A])})||null,ue=$.recommendedProducts;Object(i.useEffect)((function(){(null===ue||void 0===ue?void 0:ue.length)&&W(ue)}),[ue]);var be=Object(x.r)(Boolean(V.length),G.loggedIn)&&Object(u.jsx)(zd,{products:V,country:null===q||void 0===q?void 0:q.country,header:X,recommendedRule:D});return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("a",{"data-ajax":"false",className:"skiptocontent",href:"#startorder-container",children:"Skip to main content"}),Object(u.jsx)(Yr,{page:T.J}),Object(u.jsx)(ob,{}),Object(x.Bb)(w)&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Qa,{contentData:w,tenantReducerData:$.tenantReducerContent,userParams:G})})||null,Object(u.jsxs)("div",{role:"main",children:[Object(u.jsx)("h1",{className:"sr-only",children:Object(Se.e)(Ae.a.HIDDEN_TEXT)}),Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null!==(a=null===(o=R)||void 0===o?void 0:o[l])&&void 0!==a?a:{},contentDispositionData:null!==(r=null===(s=R)||void 0===s?void 0:s[l])&&void 0!==r?r:{}},userParams:G}),null===(d=L)||void 0===d?void 0:d.map((function(e){var t,n=e.fields.name,a=void 0===n?"":n,i=(e.sys&&e.sys.contentType&&e.sys.contentType.sys).id,c=void 0===i?"":i;return c===O?t=ce:c===S?a===y?t=oe:a===b?t=re:a===_?t=be:a===v&&(t=se):t=c===C?de:c===A?le:null,t}))]}),Object(x.Bb)(k)&&Object(u.jsx)(ba,{history:F,contentData:k,tenantReducerData:$.tenantReducerContent})||null,B.showCartClearAlert?Object(u.jsx)($d,{}):null]})})),db=n(387),lb=function(e){return Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===e||void 0===e?void 0:e.country,"fields.channel":ya.b.channel,include:5}})},ub=function(e){return Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ya.b.channel,include:"5"},userParams:e})},bb={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"},vb=(n(266),n(736)),jb=n(737),Ob=n.p+"static/media/searchIcon.0e00b33c.svg",mb=n.p+"static/media/searchIconGrey.7acb5585.svg",fb=n.p+"static/media/Darkclosebutton.b4eeaeca.svg",pb=function(e){var t=Ae.a.DISPOSITION_DATA,n=void 0===t?"":t,a=Object(i.useContext)(E.a)||{},o=a.userOrderState,r=a.userOrderStateDispatch;Object(i.useEffect)((function(){r({type:n,value:{showDisposition:!0}})}),[]);var s=function(e,t){e.stopPropagation(),e.preventDefault(),si(t)};return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===o||void 0===o?void 0:o.dispositionStateData.showDisposition)&&Object(u.jsx)(Ci,{}),(null===o||void 0===o?void 0:o.searchStoreData.showSearchStore)&&Object(u.jsx)(po,{onStoreSelectFinish:s}),(null===o||void 0===o?void 0:o.scheduleOrderData.showScheduleOrder)&&Object(u.jsx)(Fo,{onStoreSelectFinish:s})]})})},hb={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"},gb=function(e){var t,n,a,c,o=hb.DISPOSITION,r=null,s=null,d=Object(N.c)((function(e){return e.appStateReducer.userStatus})),l=Object(N.c)((function(e){return e.tenantReducer})),b=Object(N.b)();Object(i.useEffect)((function(){b(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.location":null===l||void 0===l?void 0:l.country,"fields.channel":ya.b.channel,include:"5"},userParams:d}))}),[b,null===l||void 0===l?void 0:l.country,d]),Object(i.useEffect)((function(){b(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===l||void 0===l?void 0:l.country,"fields.channel":ya.b.channel,include:5}}))}),[b,null===l||void 0===l?void 0:l.country]);var v=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null}}));if(v.marketPageContent&&v.tenantReducerContent&&v.homePageContent){var j=(v.marketPageContent.headerData||{}).tenant,O=void 0===j?[]:j;r=Object(x.V)(v.homePageContent)||null,s=Object(x.jb)(O)}return Object(u.jsx)(pb,{contentData:{segmentedHomePageData:null!==(t=null===(n=r)||void 0===n?void 0:n[o])&&void 0!==t?t:{},dispositionData:s,contentDispositionData:null!==(a=null===(c=r)||void 0===c?void 0:c[o])&&void 0!==a?a:{}},userParams:d,tenantReducerData:v.tenantReducerContent})},Nb={dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:T.g},xb=function(e,t){return null===e||void 0===e?void 0:e.map((function(e){return t(e)}))},Eb=function(e,t,n){var a;return{foodName:null===t||void 0===t||null===(a=t.productName[0])||void 0===a?void 0:a.value,foodItemId:e,cartPrice:null===t||void 0===t?void 0:t.productPrice,modifiers:[],quantity:1,foodLineId:n}},Ib=Object(o.i)((function(e){var t,n,c=e.productList,o=void 0===c?[]:c,r=e.cardType,s=void 0===r?"":r,d=e.tenantData,l=void 0===d?{}:d,b=e.categoryId,v=e.catalogs,O=e.storeClosedData,m=e.setShowTopScrollBtn,f=Dn.a.QUANTITY_ACTION,p=Ae.a.ADD_TO_CART_CLICK,h=Ae.a.PLP_PDP_DETAILS,g=Ae.a.MINI_PDP_DATA,I=Ae.a.FROMFLAGPLP,T=((null===(t=e.tenantData)||void 0===t?void 0:t.componentOptions)||{}).PlpProductCard,S=void 0===T?{}:T,C=bi.a.RESET_MODGROUP_IDS_UPDATE,A=Object(i.useState)(1),y=Object(j.a)(A,2),_=y[0],D=y[1],R=Object(N.b)(),w=Object(N.c)((function(e){return e.cartReducer})),k=(null!==(n=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==n?n:{}).flatResponse,L=(k=void 0===k?{}:k).productMapById,P=void 0===L?{}:L,M=Object(x.sb)(w).cartData,F=void 0===M?{}:M,H=Object(N.c)((function(e){var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),B=Object(i.useState)(e.selectedCat),U=Object(j.a)(B,2),G=U[0],Y=U[1],K=Object(i.useState)(!1),V=Object(j.a)(K,2),W=V[0],q=V[1],z=Object(i.useContext)(E.a),Q=z.userOrderState,J=z.userOrderStateDispatch,X=Object(i.useState)(null),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te=Ni(void 0,void 0,void 0,void 0,J,R,void 0).showCartAlert;Object(i.useEffect)((function(){q(!1)}));var ne=Ni({cartId:null===F||void 0===F?void 0:F.id},null===l||void 0===l?void 0:l.tenantId,void 0,P,void 0,R,void 0).addToCartAnalyticsOnly,ae=function(e,t,n,a,i,c,o){if(e&&e.stopPropagation(),ee(t),H.localized){if(n)Y(a),J({type:g,value:{id:t,flag:I,foodLineId:""}}),J({type:C}),R(Object(ui.c)({tenantId:l.tenantId,catalogName:v,itemId:t}));else if(0===i){var r;R(Object(St.a)({params:{basketId:null===w||void 0===w||null===(r=w.cartData)||void 0===r?void 0:r.id},tenantId:l.tenantId},[{Id:t,categoryId:b,quantity:i+1,modGrps:[]}])),R(Object(St.s)(new Date)),ne(Eb(t,c,o),f.Increase)}else if(i>0){var s;R(Object(St.v)({params:{basketId:null===w||void 0===w||null===(s=w.cartData)||void 0===s?void 0:s.id,basketLineItemId:o},tenantId:l.tenantId},{quantity:i+1})),R(Object(St.s)(new Date)),ne(Eb(t,c,o),f.Increase)}}else q(!0),J({type:p,value:{addToCart:!0,productItemId:t,categoryId:b,oldProduct:c,customizable:n,catalogs:v,fromPdpPage:!1}})},ie=Object(N.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((function(){ie&&G&&Q.minipdpData.itemId===ie.id&&R(Object(St.t)({showProductListingModal:!0,categorySelected:G}))}),[ie]);var ce=function(){te(!0)},oe=Object(a.a)(Object(a.a)({},Nb),{},{beforeChange:function(e,t){D(Math.round(t+1))},variableWidth:!1}),re=function(t,n,a,i,c){t.preventDefault(),t.stopPropagation();var o={productId:n,customizable:a,categoryId:i,catalogName:v,productInfo:c,isFromPlp:!0};J({type:h,value:o}),localStorage.setItem("ProductDetails",JSON.stringify(o)),e.history.push({pathname:"/pdp/".concat(i,"/").concat(n)})},se=function(e,t,n){R(Object(ui.a)({tenantId:e,customerId:n},t))},de=function(e,t,n){R(Object(ui.b)({tenantId:e,customerId:t,itemId:n}))},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(j.a)(e.items,1),n=t[0],i=Object(x.Nb)(n.additionalProperties);return Object(u.jsx)(ed,Object(a.a)(Object(a.a)({item:n,activeId:$,cardId:n.id,cardType:s,configureOptions:S,tenantData:l,servingCount:i.servings,button:e.button,categoryId:b,clickHandler:ae,customizable:n.customizable,onCardClickHandler:re,userParams:H,openAlertModal:ce,storeClosedData:O,addFavourite:se,removeFavourite:de,setShowTopScrollBtn:m,"data-testid":"menu-card-component"},i),n),n.id)};return Object(u.jsxs)("div",{className:"product-container",children:[W&&Object(u.jsx)(gb,{}),"carousal"===s?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"individual-card-counter",children:[_,"/",o.length]}),Object(u.jsx)(Wo,{settings:oe,children:xb(o,le)})]}):xb(o,le)]})})),Tb=function(e){return Object(x.m)(e.subCategory).map((function(t,n){var a=t.categories,i=void 0===a?"":a,c=t.products,o=void 0===c?[]:c,r=t.id,s=void 0===r?"":r,d=t.dname;return Object(u.jsxs)("div",{id:s,children:[Object(u.jsxs)("div",{className:"large"===e.cardType?"large-subcategory-name":"medium"===e.cardType?"medium-subcategory-name":"carousal"===e.cardType?"carousal-subcategory-name":"small"===e.cardType?"small-subcategory-name":null,children:[Object(u.jsx)("div",{children:d[0].value}),i]}),Object(u.jsx)(Ib,{productList:o,cardType:e.cardType,tenantData:e.tenantData,categoryId:s,catalogs:e.catalogs,storeClosedData:e.storeClosedData})]},n)}))},Sb=function(e){var t=e.data,n=e.tenantData,a=e.filterList,r=e.dietaryList,s=e.sortByList,d=e.handleClearItems,l=e.handleFilteredData,b=e.handleSearchdata,v=e.tempData,O=e.recommendations,m=e.catalogs,f=e.selectedCat,p=e.storeClosedData,h=e.triggerGetRecommends,g=e.setShowTopScrollBtn,I={},T=I.menu,C=I.categories,A=I.products;if(Object.keys(v).length){var y=Object(x.K)(v);T=y.menu,C=y.categories,A=y.products}else{var _=Object(x.K)(t);T=_.menu,C=_.categories,A=_.products}var D=Object(x.Qb)(A),R=Object(i.useContext)(E.a).userOrderState,w=Object(o.f)(),k=Object(i.useState)([]),L=Object(j.a)(k,2),P=L[0],M=L[1],F=Object(i.useState)(!1),H=Object(j.a)(F,2),B=H[0],U=H[1],G=Object(i.useState)(!1),Y=Object(j.a)(G,2),K=Y[0],V=Y[1],W=Object(i.useState)(""),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)(""),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(i.useState)(!1),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)([]),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=Object(i.useState)(""),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(i.useState)({isSearchedMode:!1,searchedData:""}),ve=Object(j.a)(be,2),je=ve[0],Oe=ve[1],me=Object(i.useRef)(null),fe=Object(N.c)((function(e){return e.tenantReducer})),pe=hb.SEARCHOURMENU,he=Object(o.h)().category_name,ge=Object(x.Ab)(R.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):R.dispositionNew,Ne=Object(i.useMemo)((function(){var e,t;return{tenantReducer:null!==fe&&void 0!==fe?fe:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:null!==(e=null===ge||void 0===ge?void 0:ge.store)&&void 0!==e?e:{},dispositionType:Object(x.I)((null===ge||void 0===ge?void 0:ge.type)||(null===fe||void 0===fe||null===(t=fe.authoredContent)||void 0===t?void 0:t.defaultdisposition))}}),[ge,fe]).dispositionType,xe=function(e){me.current&&!me.current.contains(e.target)&&ae(!1)};Object(i.useEffect)((function(){var e;if((null===t||void 0===t||null===(e=t.products)||void 0===e?void 0:e.length)&&je.isSearchedMode&&(null===O||void 0===O?void 0:O.length)){var n=bs(null===t||void 0===t?void 0:t.products,O);M(n)}}),[t,je.searchedData,O]),Object(i.useEffect)((function(){je.searchedData&&h(je.searchedData)}),[je.searchedData]),Object(i.useEffect)((function(){return document.addEventListener("mousedown",xe),function(){document.removeEventListener("mousedown",xe)}})),Object(i.useEffect)((function(){fs(C,he,V,U)}),[JSON.stringify(t)]);var Ee=function(e){Q((function(){return e}))};Object(i.useEffect)((function(){var e=setTimeout((function(){if(Z!==z){var e=ms(T,z),t=e.selectedCategory,a=e.selectedSubcategory,i=vs(t,a,null===t||void 0===t?void 0:t.name,null===t||void 0===t?void 0:t.id,null===n||void 0===n?void 0:n.currencyConversionFactor);Os(i),$((function(){return z}))}}),300);return function(){clearTimeout(e)}}),[z]);var Ie=function(e){if("Enter"===e.key){if(""===e.target.value)return;ae(!1),b(e.target.value.toLowerCase().toString()),Oe({isSearchedMode:!0,searchedData:le}),function(e,t){0===e.length&&Object(x.J)(document.title,Object(Se.e)(Ve)+" \u201c".concat(t,"\u201d ")+Object(Se.e)(We))}(oe,le)}},Te=function(e){var n=(t||{}).products;n&&re(n.filter((function(t){return!t.isHidden&&-1!==t.name.toLowerCase().indexOf(e.toLowerCase().toString())})).slice(0,5))},Ce=function(){ue(""),ae(!1),Te(""),b(),Oe({isSearchedMode:!1,searchedData:""})};var Ae,ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length>0},_e=function e(t){return t&&t.map((function(t,n){var a=t.id,i=void 0===a?"":a,c=t.isHidden,o=void 0!==c&&c,r=t.dname,s=void 0===r?"":r,d=t.url,l=t.categories,b=void 0===l?[]:l;return Object(u.jsx)("ul",{className:"inner-ul nested",children:!o&&Object(u.jsxs)("li",{children:[Object(u.jsx)(is.Link,{"data-testid":"subcategory-click-test",className:"".concat(ye(b)?"caret":""),onClick:function(e){return function(e,t,n,a){ss(t,a+1),Q((function(){return t}));var i=null===e||void 0===e?void 0:e.target.parentElement.querySelector(".nested");i&&(i.classList.toggle("active-tree"),e.target.classList&&e.target.classList.toggle("caret-down")),w.push({pathname:"/menu/".concat(n)})}(e,s[0].value,d,n)},to:i,spy:!0,smooth:!0,onSetActive:Ee,activeClass:"".concat(0===n?"active":""),children:s[0].value}),b&&b.length>0&&e(b)]})})}))},De=function(e,t,a,i){return t&&t.length?Object(u.jsx)(Tb,{subCategory:t,cardType:i,tenantData:n,catalogs:m,storeClosedData:p}):Object(u.jsx)(Ib,{productList:e,cardType:i,tenantData:n,categoryId:a,catalogs:m,selectedCat:f,storeClosedData:p,setShowTopScrollBtn:g})};return Object(u.jsxs)(c.a.Fragment,{children:[Cb(K,ge,Ne,B,p,(function(){U(!1),w.push({pathname:"/menu"})})),Object(u.jsxs)(vb.a,{className:"plp-menu-row","data-testid":"menus-container",children:[Object(u.jsxs)(jb.a,{md:"3",className:"plp-left-nav",children:[Object(u.jsx)(vb.a,{className:"plp-stripes-section",children:Object(u.jsx)(S.a,{srcFile:Aa,className:"stripes-img"})}),Object(u.jsx)("h1",{className:"kfc-menu-title",children:[].concat(Object(so.a)(a),Object(so.a)(r)).length||je.isSearchedMode?"".concat(D," Results"):Object(Se.e)(Pe)}),[].concat(Object(so.a)(a),Object(so.a)(r),Object(so.a)(s)).length>0||je.isSearchedMode?Object(u.jsxs)("div",{children:[0!==D&&Object(u.jsx)(Va.a,{className:"clearAllFilterButton","data-testid":"clear-all-handle",onClickHandler:je.isSearchedMode?Ce:d,children:je.isSearchedMode?Object(Se.e)(Ke):Object(Se.e)(Ye)}),[].concat(Object(so.a)(a),Object(so.a)(r),Object(so.a)(s)).map((function(e,t){return Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("div",{className:"selectedFilterButtons",children:[Object(u.jsx)("span",{className:"textFiltered",children:e}),Object(u.jsx)("img",{className:"mlcross","data-testid":"clear-single-handle-".concat(e),onClick:function(){return d(e)},src:fb})]})},t)}))]}):Object(u.jsx)("ul",{className:"outer-ul",children:T&&T.length&&Object(x.m)(T).length&&Object(x.m)(T).map((function(e,t){var n=e.id,a=e.isHidden,i=e.name,c=e.url,o=e.dname,r=e.categories,s=void 0===r?[]:r;return!a&&Object(u.jsxs)("li",{children:[Object(u.jsx)(is.Link,{"data-testid":"category-click-test",to:i.trim(),spy:!0,smooth:!0,onSetActive:Ee,onClick:function(e){return function(e,t,n,a){var i,c;if(0===t){var o=Object(x.m)(C);o.length&&is.scroller.scrollTo(o[0].name.trim(),{duration:1500,delay:100,smooth:!0,containerId:"",offset:-100})}ss(n,0),Q((function(){return n})),(null===(i=window)||void 0===i||null===(c=i.history)||void 0===c?void 0:c.replaceState)?window.history.replaceState("",n,"/menu/".concat(a)):w.push({pathname:"/menu/".concat(a)})}(0,t,i.trim(),c)},className:"".concat(ye(s)?"caret":""),offset:-100,children:o[0].value}),_e(s||[])]},n)}))})]}),Object(u.jsxs)(jb.a,{md:"9",className:"plp-right-nav",children:[Object(u.jsx)(jb.a,{sm:12,className:"plp-filters",children:Object(u.jsxs)("div",{"data-testid":"menu-search-testid",className:"search-menu",children:[Object(u.jsx)(Rt,{name:"searchInput",className:"search-menu-input",onKeyPress:function(e){return Ie(e)},onChange:function(e){return function(e){ue(e.target.value),(a.length||r.length||s.length)&&d(),e.target.value.toString().length>2?ne||(ae(!0),Te(e.target.value.toString())):ne&&(ae(!1),Te(""),b(),Oe({isSearchedMode:!1,searchedData:""}))}(e)},value:le,placeholder:Object(Se.e)(pe),"data-testid":"search-our-menu","aria-label":"Search our menu",onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="".concat(Object(Se.e)(pe))}}),Object(u.jsx)("span",{className:"search-icon",children:Object(u.jsx)(S.a,{srcFile:Ob,className:"search-icon-img"})}),le.length>2&&!je.isSearchedMode||le.length>2&&je.isSearchedMode&&D>0?Object(u.jsx)("img",{className:"input-dark-cross","data-testid":"clear-all-input",onClick:function(){return Ce()},src:fb}):null,ne&&Object(u.jsx)("div",{ref:me,className:"inputAutoCompletePLP",children:(null===oe||void 0===oe?void 0:oe.length)>0&&Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"SuggestionHeader",children:"Suggested Search Terms"}),Object(u.jsx)("ul",{className:"autoCompleteListPLP",children:oe.map((function(e,t){return Object(u.jsxs)("li",{onClick:function(){return function(e){ds({eventType:"suggestedSearchClick",selectedData:e.name},"suggestedSearchTerm"),l(e.mdmId),ae(!1),ue(e.name),Oe({isSearchedMode:!0,searchedData:e.name})}(e)},"data-testid":"suggestion-click-".concat(e.name),className:"wrapperAutoCompletePLP",children:[Object(u.jsx)("span",{className:"searchgrey-icon-img",children:Object(u.jsx)(S.a,{srcFile:mb})}),Object(u.jsx)("span",{children:e.name})]},e.mdmId+t)}))})]})})]})}),je.isSearchedMode&&D>0&&Object(u.jsx)(vb.a,{className:"pt-5",children:Object(u.jsxs)("h2",{className:"found-text",children:[Object(Se.e)(ze)," ",D,' "'.concat(je.searchedData.toUpperCase(),'"')]})}),[].concat(Object(so.a)(a),Object(so.a)(r)).length>0&&0===D?Object(u.jsx)(vb.a,{className:"pt-5 no-data-found-plp",children:Object(u.jsxs)("h2",{className:"found-text",children:[Object(Se.e)(ze)," ",D," '",Object(Se.e)(Xe.toUpperCase()),"'"]})}):[].concat(Object(so.a)(a),Object(so.a)(r)).length>0&&D>0&&Object(u.jsx)(vb.a,{className:"pt-5 ".concat((Ae=r,Ae.find((function(e){return"all"===e.toLowerCase()}))?"all-data-found-plp":"data-found-plp")),children:Object(u.jsxs)("h2",{className:"found-text",children:[ze," ",D," '",Object(Se.e)(Xe.toUpperCase()),"'"]})}),Object(u.jsx)(vb.a,{className:je.isSearchedMode||a.length>0||r.length>0?"":"plp-sections",children:Object(u.jsx)(jb.a,{children:!je.isSearchedMode&&C&&C.length?C.filter((function(e){return!e.isHidden})).map((function(e,t){var n=e.id,a=e.name,i=e.dname,c=(e.imageName,e.products),o=e.categories,r=e.isHidden,s=(e.displayOrder,e.specials),d=e.exclusive,l=e.timer,b=e.discount;return!r&&Object(u.jsxs)("div",{id:a.trim(),className:0===t?"large-menu-container":"medium-menu-container",children:[Object(u.jsx)("div",{className:0===t?"large-category-name":"medium-category-name",children:Object(u.jsx)("h2",{children:i[0].value})}),Object(u.jsx)(Ca.a,{src:s?As:b||d?ys:"",className:s?"specials-product-ribbon":d?"exclusive-product-ribbon":"discount-product-ribbon"}),Object(u.jsx)("span",{className:s?"specials-ribbon-text":"discount-ribbon-text",children:l?Object(u.jsxs)("div",{children:[Object(u.jsx)(Ca.a,{src:Pt,className:"product-timer"}),Object(u.jsx)("span",{className:"product-timer-text",children:"timer"})]}):s||(b||(d||null))}),De(c,o,n,0===t?"large":"medium")]},t)})):(je.isSearchedMode||[].concat(Object(so.a)(a),Object(so.a)(r)).length)&&A?Object(u.jsx)("div",{className:"medium-menu-container",children:Object(u.jsx)(Ib,{productList:A,cardType:"medium",tenantData:n,categoryId:"CAT86",catalogs:m,storeClosedData:p,setShowTopScrollBtn:g})}):je.isSearchedMode&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"no-search-found-plp",children:[Object(u.jsx)("span",{children:Object(Se.e)(Ve)}),Object(u.jsx)("span",{className:"no-search-found-text-highlighted",children:" '".concat(je.searchedData,"' ")}),Object(u.jsx)("p",{children:Object(Se.e)(We)}),Object(u.jsx)(Va.a,{onClick:Ce,className:"back-to-menu-plpsearch",children:Object(Se.e)(qe)})]}),Object(u.jsx)("div",{className:"horizontalLineBorder-noData"}),!!P.length&&Object(u.jsx)("div",{className:"mob-plp-sections  mb-5",children:Object(u.jsx)("div",{className:"mob-plp-col mb-4",children:Object(u.jsxs)("div",{className:"recommended-menu-container medium-menu-container",children:[Object(u.jsx)("div",{className:"d-flex position-relative",children:Object(u.jsx)("div",{className:"carousal-header",children:Object(Se.e)(ke)})}),Object(u.jsx)(Ib,{productList:P,cardType:"medium",tenantData:n,categoryId:"CAT86",catalogs:m,storeClosedData:p,setShowTopScrollBtn:g})]})})})]})})})]})]})]})};function Cb(e,t,n,a,i,c){var o={CLEAR_ALL_MSG:{MSGTXT1:"categoryNotAvailable",MSGTXT2:"notAvailable",MSGTXT3:Object(x.lb)(n.type," for ".concat(n),"")},CONTINUE:"continue"};return Object(x.r)(a,!(null===i||void 0===i?void 0:i.isStoreClosed))&&Object(u.jsx)(Ti,{handleClose:c,classNames:"clear-cart-modal",CartAlertForm:Object(u.jsx)(xi,{splitTitle:o.CLEAR_ALL_MSG,imageSrc:Zd,altText:"cart-error",confirmButtonText:Object(Se.e)(null===o||void 0===o?void 0:o.CONTINUE),confirmHandler:c})})}var Ab=n.p+"static/media/mobileSearch.bc6748fd.svg",yb=n.p+"static/media/View_1UP_Icon.29815a0e.svg",_b=n.p+"static/media/View_1UP_Icon_Inactive.b46c36ea.svg",Db=n.p+"static/media/View_carousal_Icon.63f70456.svg",Rb=n.p+"static/media/View_carousal_Icon_Inactive.b52e1132.svg",wb=n.p+"static/media/crossCloseIcon.574b7c73.svg",kb=n.p+"static/media/clearIconDark.6cb8880e.svg",Lb=c.a.forwardRef((function(e,t){var n=e.className,a=e.filterList,c=e.dietaryList,o=e.sortByListMob,r=e.handleClearItems,s=e.closeSearchFilterMenu,d=e.handleFilteredData,l=e.handleSearchdata,b=e.setSearchModeData,v=e.data,O=e.inputSearchData,m=Object(i.useState)(!1),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(i.useState)([]),N=Object(j.a)(g,2),x=N[0],E=N[1],I=Object(i.useState)(""),T=Object(j.a)(I,2),C=T[0],A=T[1],y=Object(i.useRef)(null),_=hb.SEARCHOURMENU,D=function(e){y.current&&!y.current.contains(e.target)&&h(!1)};Object(i.useEffect)((function(){return document.addEventListener("mousedown",D),function(){document.removeEventListener("mousedown",D)}})),Object(i.useEffect)((function(){A(""),h(!1)}),[O]);var R=function(e){var t=(v||{}).products;E(t.filter((function(t){return!t.isHidden&&-1!==t.name.toLowerCase().indexOf(e)})).slice(0,5))};return Object(u.jsxs)("div",{ref:t,"data-testid":"mob-search-filter-testid",className:n,children:[Object(u.jsxs)("div",{className:"refineItemsPartMobPLP",children:[Object(u.jsx)("span",{className:"refineItemsText",children:Object(Se.e)("refineItems")}),Object(u.jsx)("img",{className:"crossCloseIconFilterMobPlp","data-testid":"cross-close-filter-mob",onClick:function(){return s("Close")},src:wb})]}),Object(u.jsxs)("div",{className:"searchInputMobMenuPlp",children:[Object(u.jsxs)("div",{className:"plp-search-container",children:[Object(u.jsx)(Rt,{"data-testid":"mob-search-input",className:"search-menu-inputMob",onChange:function(e){return function(e){A(e.target.value),(a.length||c.length||o.length)&&r(),e.target.value.toString().length>2?p||(h(!0),R(e.target.value.toLowerCase().toString())):p&&(h(!1),l(),R(""),b(!1,C))}(e)},onKeyPress:function(e){var t;"Enter"===(t=e).key&&(s(""),l(t.target.value.toLowerCase().toString()),b(!0,C))},value:C,placeholder:Object(Se.e)(_)}),Object(u.jsx)("div",{className:"search-iconMob",children:Object(u.jsx)(S.a,{srcFile:mb,className:"search-icon-img"})}),C.length>2&&Object(u.jsx)("img",{"data-testid":"mob-cross-icon",className:"input-dark-cross-mob",onClick:function(){return A(""),l(),void b(!1,"")},src:kb})]}),p&&Object(u.jsx)("div",{ref:y,"data-testid":"mob-search-dropdown",className:"inputAutoCompletePLP",children:Object(u.jsx)("ul",{className:"autoCompleteListPLP",children:(null===x||void 0===x?void 0:x.length)>0&&x.map((function(e,t){return Object(u.jsxs)("li",{onClick:function(){return function(e){ds({eventType:"suggestedSearchClick",selectedData:e.name},"suggestedSearchTerm"),d(e.mdmId),s(""),A(e.name),b(!0,e.name)}(e)},"data-testid":"fiter-data-".concat(e.name),className:"wrapperAutoCompletePLP",children:[Object(u.jsx)("span",{className:"searchgrey-icon-img",children:Object(u.jsx)(S.a,{srcFile:mb})}),Object(u.jsx)("span",{children:e.name})]},e.mdmId+t)}))})})]})]})})),Pb=function(e){var t=e.data,n=e.tenantData,a=e.filterList,r=e.dietaryList,s=e.sortByListMob,d=e.sortByOptions,l=e.handleClearItems,b=e.handleFilteredData,v=e.handleSearchdata,O=e.tempData,m=e.recommendations,f=e.catalogs,p=e.selectedCat,h=e.storeClosedData,g=e.triggerGetRecommends,I=e.setShowTopScrollBtn,T=Object(o.f)(),C=Object(i.useRef)(),A=Object(i.useContext)(E.a).userOrderState,y=Object(i.useState)({isSearchedMode:!1,searchedData:""}),_=Object(j.a)(y,2),D=_[0],R=_[1],w=Object(i.useState)(!1),k=Object(j.a)(w,2),L=k[0],P=k[1],M=Object(i.useState)(!1),F=Object(j.a)(M,2),H=F[0],B=F[1],U=Object(i.useState)(""),G=Object(j.a)(U,2),Y=G[0],K=G[1],V=Object(i.useState)(""),W=Object(j.a)(V,2),q=W[0],z=W[1],Q={},J=Q.menu,X=Q.categories,Z=Q.products;if(Object.keys(O).length){var $=Object(x.K)(O);J=$.menu,X=$.categories,Z=$.products}else{var ee=Object(x.K)(t);J=ee.menu,X=ee.categories,Z=ee.products}var te=Object(x.Qb)(Z),ne=Object(i.useState)([]),ae=Object(j.a)(ne,2),ie=ae[0],ce=ae[1],oe=Object(i.useState)(!0),re=Object(j.a)(oe,2),se=re[0],de=re[1],le=Object(i.useState)(!1),ue=Object(j.a)(le,2),be=ue[0],ve=ue[1],je=Object(i.useState)(1),Oe=Object(j.a)(je,2),me=Oe[0],fe=Oe[1],pe=Object(i.useState)(!1),he=Object(j.a)(pe,2),ge=he[0],Ne=he[1],xe=Object(i.useState)(!1),Ee=Object(j.a)(xe,2),Ie=Ee[0],Te=Ee[1],Ce=Object(N.c)((function(e){return e.tenantReducer})),Ae=Object(o.h)().category_name,ye=Object(x.Ab)(A.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):A.dispositionNew,_e=Object(i.useMemo)((function(){var e;return{tenantReducer:Object(x.Bb)(Ce)?Ce:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:ye?ye.store:{},dispositionType:ye&&ye.type?Object(x.I)(ye.type):Object(x.I)(null===Ce||void 0===Ce||null===(e=Ce.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[ye,Ce]).dispositionType,De=function(){Ne(!1),T.push({pathname:"/menu"})};Object(i.useEffect)((function(){fs(X,Ae,Te,Ne,!0)}),[JSON.stringify(t)]),Object(i.useEffect)((function(){var e;if((null===t||void 0===t||null===(e=t.products)||void 0===e?void 0:e.length)&&D.isSearchedMode&&(null===m||void 0===m?void 0:m.length)){var n=bs(null===t||void 0===t?void 0:t.products,m);ce(n)}}),[t,D.searchedData,m]),Object(i.useEffect)((function(){D.searchedData&&g(D.searchedData)}),[D.searchedData]);var Re=function(){de(!0),ve(!1)},we=function(){ve(!0),de(!1)},Pe=function(e){fe(e)},Me=function(e,t){R({isSearchedMode:e,searchedData:t})},Fe=function(){B(""),v(),R({isSearchedMode:!1,searchedData:""})},He=function(e){var t;us({eventType:"filterItems",selectedData:{filterSelected:a.length>0?a.join():"none",dietarySelected:r.length>0?r.join():"none",sortSelected:(null===(t=d.find((function(e){return e.selected})))||void 0===t?void 0:t.name)?d.find((function(e){return e.selected})).name:"none"}},"filterSelected","dietarySelected","sortSelected"),C.current.style.width="0",P(!1)};Object(i.useEffect)((function(){var e=function(){var e,t=null===(e=document.getElementById("mob-searchinput-id"))||void 0===e?void 0:e.style;if(t){var n=document.getElementById("root").getBoundingClientRect().top<-50;t.position=n?"fixed":"relative",t.top=n?"45px":"0"}};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]);var Be=function(e){document.querySelector("li > a.active")&&document.querySelector("li > a.active").scrollIntoView({inline:"center"}),K((function(){return e}))};Object(i.useEffect)((function(){var e=setTimeout((function(){if(q!==Y){var e=ms(J,Y),t=e.selectedCategory,a=e.selectedSubcategory,i=vs(t,a,null===t||void 0===t?void 0:t.name,null===t||void 0===t?void 0:t.id,null===n||void 0===n?void 0:n.currencyConversionFactor);Os(i),z((function(){return Y}))}}),300);return function(){clearTimeout(e)}}),[Y]);var Ue=function(e,t,a,i){return"viewup"===i&&(i=se?"small":"carousal"),t&&t.length?Object(u.jsx)(Tb,{subCategory:t,cardType:i,tenantData:n,catalogs:f,storeClosedData:h}):Object(u.jsx)(Ib,{productList:e,cardType:i,tenantData:n,cardCount:Pe,categoryId:a,catalogs:f,selectedCat:p,storeClosedData:h,setShowTopScrollBtn:I})},Ge=function(){return(D.isSearchedMode||[].concat(Object(so.a)(a),Object(so.a)(r)).length)&&Z?Object(u.jsx)("div",{className:"small-menu-container",children:Object(u.jsx)(Ib,{productList:Z,cardType:se?"small":"carousal",tenantData:n,cardCount:Pe,categoryId:"CAT86",catalogs:f,storeClosedData:h,setShowTopScrollBtn:I})}):D.isSearchedMode&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"no-mob-search-found-plp",children:[Object(u.jsx)("span",{children:Object(Se.e)(Ve)}),Object(u.jsx)("span",{className:"no-search-found-text-highlighted",children:" '".concat(D.searchedData,"' ")}),Object(u.jsx)("p",{children:Object(Se.e)(We)}),Object(u.jsx)(Va.a,{className:"back-to-menu-plpsearch","data-testid":"back-to-menu",onClick:Fe,children:Object(Se.e)(qe)})]}),!!ie.length&&Object(u.jsxs)("div",{className:"carousal-menu-container",children:[Object(u.jsxs)("div",{className:"d-flex position-relative",children:[Object(u.jsx)("div",{className:"carousal-header",children:Object(Se.e)(ke)}),Object(u.jsxs)("div",{className:"card-counter",children:[me,"/",ie.length]})]}),Object(u.jsx)(Ib,{productList:ie,cardType:"carousal",tenantData:n,cardCount:Pe,categoryId:"CAT86",catalogs:f,storeClosedData:h,setShowTopScrollBtn:I})]}),Object(u.jsx)("div",{className:"horizontalLineBorder-noData"})]})};return Object(u.jsxs)(c.a.Fragment,{children:[Mb(Ie,ye,_e,ge,h,De),Object(u.jsxs)(vb.a,{id:"mob-searchinput-id","data-testid":"mob-searchinput-id",className:"mob-nav-row ".concat(L?"hide-mob-nav-row":""),children:[Object(u.jsxs)("div",{onClick:function(){return C.current.style.width="100%",void P(!0)},"data-testid":"open-search-menu",className:"mob-search-input",children:[Object(u.jsx)(S.a,{srcFile:Ab,className:"mob-search-img"}),([].concat(Object(so.a)(a),Object(so.a)(r)).length||D.isSearchedMode)&&Object(u.jsx)("div",{className:"totalFilterAppliedCount",children:te})]}),[].concat(Object(so.a)(a),Object(so.a)(r),Object(so.a)(s)).length||D.isSearchedMode?Object(u.jsxs)("div",{className:"filterListRowMobView",children:[Object(u.jsx)(Va.a,{className:"clearAllFilterButtonMob","data-testid":"clear-all-handle",onClickHandler:D.isSearchedMode?Fe:l,children:D.isSearchedMode?Object(Se.e)(Ke):Object(Se.e)(Ye)}),[].concat(Object(so.a)(a),Object(so.a)(r),Object(so.a)(s)).map((function(e){return Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("div",{className:"selectedFilterButtonsMob",children:[Object(u.jsx)("span",{className:"textFilteredMob",children:e}),Object(u.jsx)("img",{className:"mlcrossMob","data-testid":"clear-all-items-".concat(e),onClick:function(){return l(e)},src:fb})]})})}))]}):Object(u.jsx)("div",{children:Object(u.jsx)("ul",{className:"mob-outer-ul",children:J&&J.length&&Object(x.m)(J).length&&Object(x.m)(J).map((function(e,t){var n=e.id,a=e.isHidden,i=e.url,c=e.name,o=e.dname;return e.subcategory,!a&&Object(u.jsx)("li",{children:Object(u.jsx)(is.Link,{"data-testid":"category-click-test-mob",to:c.trim(),onClick:function(){return function(e,t){var n,a;ss(e,0),(null===(n=window)||void 0===n||null===(a=n.history)||void 0===a?void 0:a.replaceState)?window.history.replaceState("",e,"/menu/".concat(t)):T.push({pathname:"/menu/".concat(t)})}(c.trim(),i)},spy:!0,offset:-100,smooth:!1,activeClass:"active",onSetActive:Be,children:o[0].value})},n)}))})})]}),D.isSearchedMode&&te>0?Object(u.jsx)(vb.a,{className:"pt-4 pl-5",children:Object(u.jsxs)("h3",{className:"found-text",children:[Object(Se.e)(ze)," ",te,' "'.concat(D.searchedData.toUpperCase(),'"')]})}):([].concat(Object(so.a)(a),Object(so.a)(r)).length>0&&0===te||[].concat(Object(so.a)(a),Object(so.a)(r)).length>0&&te>0)&&Object(u.jsx)(vb.a,{className:"pt-4 pl-5",children:Object(u.jsxs)("h2",{className:"found-text",children:[ze," ",te," ","results".toUpperCase()]})}),Object(u.jsx)(vb.a,{"data-testid":"mob-search-testid",className:"mob-plp-sections",children:Object(u.jsx)(jb.a,{className:"mob-plp-col",children:!D.isSearchedMode&&X&&X.length?X.filter((function(e){return!e.isHidden})).map((function(e,t){var n=e.id,a=e.name,i=e.dname,c=(e.imageName,e.products),o=e.categories,r=e.isHidden;return e.displayOrder,e.specials,e.exclusive,e.timer,e.discount,!r&&Object(u.jsxs)("div",{id:a.trim(),className:0===t||be?"carousal-menu-container":"small-menu-container",children:[te>1&&1===t&&Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"product-view-section",children:[Object(u.jsxs)("span",{className:"product-view",children:[Object(Se.e)(Le),":"]}),Object(u.jsx)(Ca.a,{src:se?yb:_b,className:"product-view-up-icon",onClick:Re,"data-testid":"change-view-to-up"}),Object(u.jsx)(Ca.a,{src:be?Db:Rb,className:"product-view-carousal-icon",onClick:we,"data-testid":"change-view-to-carousal"})]}),Object(u.jsx)("hr",{className:"product-view-divider"})]}),Object(u.jsxs)("div",{className:"d-flex position-relative",children:[Object(u.jsx)("div",{className:"small-category-name",children:i[0].value}),!se&&Object(u.jsxs)("div",{className:"card-counter",children:[me,"/",te]})]}),Ue(c,o,n,0===t?"carousal":"viewup")]})})):Ge()})}),Object(u.jsx)(Lb,{ref:C,className:"sidenav-filter",filterList:a,dietaryList:r,sortByListMob:s,handleClearItems:l,closeSearchFilterMenu:He,handleFilteredData:b,handleSearchdata:v,setSearchModeData:Me,data:t,inputSearchData:H})]})};function Mb(e,t,n,a,i,c){var o={CLEAR_ALL_MSG:{MSGTXT1:"categoryNotAvailable",MSGTXT2:"notAvailable",MSGTXT3:Object(x.lb)(null===t||void 0===t?void 0:t.type,"for ".concat(n),"")},CONTINUE:"continue"};return Object(x.r)(a,!(null===i||void 0===i?void 0:i.isStoreClosed))&&Object(u.jsx)(Ti,{handleClose:c,classNames:"clear-cart-modal",CartAlertForm:Object(u.jsx)(xi,{splitTitle:o.CLEAR_ALL_MSG,imageSrc:Zd,altText:"cart-error",confirmButtonText:Object(Se.e)(null===o||void 0===o?void 0:o.CONTINUE),confirmHandler:c})})}var Fb={contentData:{modalContent:{unavailableText:{contentText:"unavailableCartText",contentMain:"unavailableCartMain",cartQuery:"unavailableCartQuery"},priceChangeText:{contentText:"priceChangedCartText",contentMain:"priceChangedCartMain",cartQuery:"priceChangedCartQuery"},bothChangeText:{contentText:"bothChangeCartText",contentMain:"bothChangeCartMain",cartQuery:"bothChangeCartQuery"},infoObject:{type:"info",infoText:"cartInfoText"},discardbuttonTypes:{buttonText:"discardChanges",selectDefault:!1,type:"discardChanges"},confirmButtonTypes:{buttonText:"confirmChanges",selectDefault:!1,type:"confirmChanges"}}}},Hb=function(e){var t,n,a,o,r=e.modalContent,s=e.onCartStatesMethodSubmit,d=e.setRef,l=void 0===d?null:d,b=e.unavailableItems,v=e.priceChangedItems,O=r.unavailableText,m=void 0===O?{}:O,f=r.priceChangeText,p=void 0===f?{}:f,h=r.bothChangeText,g=void 0===h?{}:h,E=r.infoObject,I=void 0===E?null:E,T=r.discardbuttonTypes,C=r.confirmButtonTypes,A=Object(i.useState)(Object(x.Hb)(window.innerWidth)),y=Object(j.a)(A,2),_=y[0],D=y[1],R=Object(N.c)((function(e){return e.tenantReducer})),w=function(){var e=Object(x.Hb)(window.innerWidth);D(e)};Object(i.useEffect)((function(){window.addEventListener("resize",w)}),[_]);var k=function(e,t,n){var a=e.newFoodLineItem,i=e.cartPrice,c=e.menuPrice,o=a.item,r=o.dname,s=o.imageName,d="unavailables"===n?"unavailable-items":"priceChanged-items";return Object(u.jsx)("div",{className:"cart-card-row","data-testid":d,children:Object(u.jsxs)("div",{className:"cart-card d-flex",children:[Object(u.jsx)(S.a,{className:"cart-card-image",defaultPath:Object(x.S)(null,R,!0),srcFile:Object(x.S)(s,R)}),Object(u.jsxs)("div",{className:"cart-card-name",id:t,tabIndex:"0",children:[Object(u.jsx)("div",{className:"cart-item-dname",children:r[0].value}),Object(u.jsxs)("div",{className:"cart-item-price",children:[R.currencySymbol,"unavailables"===n?i:c]}),"priceChanges"===n&&Object(u.jsxs)("span",{className:"old-price",children:[R.currencySymbol,i]})]})]})},t)},L=Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(Va.a,(t={"data-testid":"cartstate-button-comp",className:"".concat(T.selectDefault&&"default-selected"),onClickHandler:function(e){s(e,T.type)},id:"CartStateModuleFormSubmit",type:"submit"},Object(Re.a)(t,"className","button whiteButton order-type-button"),Object(Re.a)(t,"aria-label","order type ".concat(T.buttonText)),Object(Re.a)(t,"children",Object(Se.e)(T.buttonText)),t),T.type),Object(u.jsx)(Va.a,(n={"data-testid":"cartstate-button-comp",className:"".concat(C.selectDefault&&"default-selected"),onClickHandler:function(e){s(e,C.type)},id:"CartStateModuleFormSubmit",type:"submit"},Object(Re.a)(n,"className","button whiteButton order-type-button CartStateModuleFormSubmitconfirm"),Object(Re.a)(n,"aria-label","order type ".concat(Object(Se.e)(C.buttonText))),Object(Re.a)(n,"children",Object(Se.e)(C.buttonText)),n),C.type)]}),P=Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(Va.a,(a={"data-testid":"cartstate-button-comp",className:"".concat(C.selectDefault&&"default-selected"),onClickHandler:function(e){s(e,C.type)},id:"CartStateModuleFormSubmit",type:"submit"},Object(Re.a)(a,"className","button whiteButton order-type-button CartStateModuleFormSubmitconfirm"),Object(Re.a)(a,"aria-label","order type ".concat(Object(Se.e)(C.buttonText))),Object(Re.a)(a,"children",Object(Se.e)(C.buttonText)),a),C.type),Object(u.jsx)(Va.a,(o={"data-testid":"cartstate-button-comp",className:"".concat(T.selectDefault&&"default-selected"),onClickHandler:function(e){s(e,T.type)},id:"CartStateModuleFormSubmit",type:"submit"},Object(Re.a)(o,"className","button whiteButton order-type-button"),Object(Re.a)(o,"aria-label","order type ".concat(Object(Se.e)(T.buttonText))),Object(Re.a)(o,"children",Object(Se.e)(T.buttonText)),o),T.type)]});return Object(i.useEffect)((function(){b.length&&!v.length?it({popupTitle:[Object(Se.e)(m.contentText),Object(Se.e)(m.contentMain),Object(Se.e)(m.cartQuery)].join(" ")}):!b.length&&v.length?it({popupTitle:[Object(Se.e)(p.contentText),Object(Se.e)(p.contentMain),Object(Se.e)(p.cartQuery)].join(" ")}):b.length&&v.length&&it({popupTitle:[Object(Se.e)(g.contentText),Object(Se.e)(g.contentMain),Object(Se.e)(g.cartQuery)].join(" ")})}),[b,v]),Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{ref:l,className:"cart-module-form","data-testid":"cart-modal-component",children:[b.length&&!v.length?Object(u.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(Se.e)(m.contentText)," ",Object(u.jsx)("span",{className:"red-text",children:Object(Se.e)(m.contentMain)})," ",Object(Se.e)(m.cartQuery)]}):null,!b.length&&v.length?Object(u.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(Se.e)(p.contentText)," ",Object(u.jsx)("span",{className:"red-text",children:Object(Se.e)(p.contentMain)})," ",Object(Se.e)(p.cartQuery)]}):null,b.length&&v.length?Object(u.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(Se.e)(g.contentText)," ",Object(u.jsx)("span",{className:"red-text",children:Object(Se.e)(g.contentMain)})," ",Object(Se.e)(g.cartQuery)]}):null,v.length&&I?Object(u.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(u.jsx)("span",{children:Object(Se.e)(I.infoText)})}):null,b&&b.length?Object(u.jsx)(c.a.Fragment,{children:b.map((function(e,t){return k(e,t,"unavailables")}))}):null,v&&v.length?Object(u.jsx)(c.a.Fragment,{children:v.map((function(e,t){return k(e,t,"priceChanges")}))}):null,Object(u.jsx)("form",{className:"form",onSubmit:s,"data-testid":"form-component",children:Object(u.jsxs)("section",{className:"form__section",children:[Object(u.jsx)("div",{className:"order-button-section",children:_?P:L}),Object(u.jsx)("div",{className:"clearfix"})]})})]})})},Bb=function(e){var t=e.handleClose,n=e.CartStatesModuleForm,a=e.modalTitleId,i=void 0===a?"":a;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{id:"CartStatesModulePopup",role:"dialog",modalTitleId:i,show:!0,classNames:"cart-module-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,autoFocus:!0,children:n})})},Ub=function(e){var t=e.unavailableItems,n=e.priceChangedItems,a=e.confirmChangesHandler,c=e.discardChangesHandler,o=Fb.contentData,r=(void 0===o?{}:o).modalContent,s=void 0===r?{}:r,d=Object(i.useContext)(E.a).userOrderStateDispatch,l=Ae.a.CART_STATES_DATA,b=void 0===l?"":l,v=Ae.a.ADD_TO_CART_CLICK,j=void 0===v?"":v,O=Object(u.jsx)(Hb,{modalContent:s,onCartStatesMethodSubmit:function(e,t){e.stopPropagation(),e.preventDefault(),"discardChanges"===t?c():a()},unavailableItems:t,priceChangedItems:n});return Object(u.jsx)(Bb,{handleClose:function(e){e.stopPropagation(),e.preventDefault(),d({type:b,value:{showCartModal:!1}}),d({type:j,value:{addToCart:!1}})},CartStatesModuleForm:O})},Gb=function(e){var t=Object(N.c)((function(e){return e.tenantReducer})),n=Object(x.K)(Object(N.c)((function(e){return e.menuReducer}))),a=n.flatResponse,o=(a=void 0===a?{}:a).itemMapById,r=void 0===o?{}:o,s=n.isLoading,d=void 0!==s&&s,l=Object(i.useContext)(E.a),b=l.userOrderState,v=l.userOrderStateDispatch,O=Ae.a.CART_STATES_DATA,m=Ae.a.ADD_TO_CART_CLICK,f=Ae.a.MENU_URL,p=t.currencyConversionFactor,h=t.tenantId,g=b.productItemId,I=b.oldProduct,T=b.categoryId,S=(Object(x.Ab)(b.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):b.dispositionNew)||{},C=(S.date,S.time,Object(i.useState)([])),A=Object(j.a)(C,2),y=A[0],_=A[1],D=Object(i.useState)([]),R=Object(j.a)(D,2),w=R[0],k=R[1],L=Object(N.c)((function(e){return e.cartReducer})),P=Object(N.c)((function(e){return e.menuReducer.currentItemDetails})),M=Object(N.b)();Object(i.useEffect)((function(){if(v({type:O,value:{showCartModal:!0}}),r&&p&&!d)if(g){var e=function(e,t,n,a,i){var c={toRemove:!0,requireModification:!1,findings:["Item not available"],menuPrice:void 0,newFoodLineItem:{item:{dname:null===a||void 0===a?void 0:a.productName,imageName:null===a||void 0===a?void 0:a.productImage,id:i}},cartPrice:null===a||void 0===a?void 0:a.productPrice},o=null===t||void 0===t?void 0:t[e];if(o){var r,s;c.findings=[],c.toRemove=!1;var d=(null!==(r=null===o||void 0===o||null===(s=o.availability)||void 0===s?void 0:s[0])&&void 0!==r?r:{}).price,l=(void 0===d?0:d)/n,u=a.productPrice;l!==u?(c.findings.push("Item Price has changed Cart Price(".concat(u,"), Menu price(").concat(l,")")),c.requireModification=!0,c.menuPrice=l,c.cartPrice=u):(c.menuPrice=l,c.cartPrice=u)}return c}(g,r,p,I,g),t=[];e.toRemove&&t.push(e),_(t);var n=[];e.requireModification&&n.push(e),k(n)}else _([]),k([])}),[p,g,r,d]),Object(i.useEffect)((function(){P&&T&&M(Object(St.t)({showProductListingModal:!0,categorySelected:T}))}),[P]);var F=function(){e.history.push({pathname:"".concat(f)})};return Object(u.jsx)(c.a.Fragment,{children:b.cartStateData.showCartState&&(y.length||w.length)&&Object(u.jsx)(Ub,{"data-testid":"productStatesModule",unavailableItems:y,priceChangedItems:w,confirmChangesHandler:function(){console.log("test"),y.length?b.fromPdpPage&&F():b.customizable?M(Object(ui.c)({tenantId:h,catalogName:b.catalogs,itemId:g})):(M(Object(St.a)({params:{basketId:L&&L.cartData&&L.cartData.id},tenantId:h},[{Id:g,categoryId:T,quantity:1,modGrps:[]}])),M(Object(St.s)(new Date))),v({type:O,value:{showCartModal:!1}}),v({type:m,value:{addToCart:!1}})},discardChangesHandler:function(){v({type:O,value:{showCartModal:!1}}),v({type:m,value:{addToCart:!1}}),b.fromPdpPage&&F()}})})};Gb.defaultProps={};var Yb=Object(o.i)(Gb),Kb=function(){var e=Object(i.useContext)(E.a).userOrderStateDispatch,t=Object(o.f)(),n=Ni(void 0,void 0,void 0,void 0,e,Object(N.b)(),void 0).showCartAlert,a=Object(u.jsx)(Ti,{handleClose:function(){return n(!1)},classNames:"",CartAlertForm:Object(u.jsx)(xi,{title:Object(Se.e)("multipleCustomizationText"),confirmButtonText:Object(Se.e)("Yes"),cancelButtonText:Object(Se.e)("No"),cancelHandler:function(){return n(!1)},confirmHandler:function(){return n(!1),t.push({pathname:"/cart"}),void window.scrollTo(0,0)}})});return Ii.a.createPortal(a,document.getElementById("modal-popups"))},Vb=n(107),Wb=n(87),qb=function(e){var t,n,a,c,r=e.routePath,s=e.hideNav,d=Object(i.useState)(Object(x.Hb)(window.innerWidth)),l=Object(j.a)(d,2),b=l[0],v=l[1],O=Object(o.f)(),m=Object(N.c)((function(e){var t,n,a,i;return{marketPageContent:null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response,tenantReducerContent:e.tenantReducer,userParams:null===(n=e.appStateReducer)||void 0===n?void 0:n.userStatus,brandPageContent:null===(a=e.brandPageReducer)||void 0===a?void 0:a.response,homePageContent:null===(i=e.contentReducer)||void 0===i?void 0:i.response}})),p=m.marketPageContent,h=m.tenantReducerContent,g=m.userParams,E=m.brandPageContent,T=m.homePageContent,S=null!==(t=p.headerData)&&void 0!==t?t:{},C=S.header,A=void 0===C?{}:C,y=S.footer,_=void 0===y?{}:y,D=(null!==E&&void 0!==E?E:{}).headerData,R=void 0===D?{}:D,w=pl()(R,"hostUrl",""),k=Object(x.W)(A),L=Object(x.O)(_),P=null!==(n=Object(x.V)(T))&&void 0!==n?n:{},M=f.a.DISPOSITION,F=Object(N.b)(),H='<iframe src="'.concat(w,'" onload=\'(function(o){o.style.height=o.contentWindow.document.body.scrollHeight+"px";}(this));\' style="height:100vh;width:100%;border:none;overflow:hidden;"></iframe>'),B=Object(u.jsx)("div",{children:Object(u.jsx)("div",{id:"hostedContentFrame",dangerouslySetInnerHTML:{__html:H}})}),U=function(){var e=Object(x.Hb)(window.innerWidth);v(e)};return Object(i.useEffect)((function(){return window.addEventListener("resize",U),function(){window.removeEventListener("resize",U)}}),[b]),Object(i.useEffect)((function(){r&&F(Object(Vb.c)({object:Object(I.a)(),contentFull:{content_type:Wb.a.Template1,select:"sys.id,fields","fields.routePath":r,include:5}}))}),[F,r]),Object(i.useEffect)((function(){F(lb(h))}),[F,null===h||void 0===h?void 0:h.country]),Object(u.jsxs)(u.Fragment,{children:[k&&(!s||!1===s)&&Object(u.jsx)(Qa,{contentData:k,tenantReducerData:h,userParams:g}),Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null!==(a=null===P||void 0===P?void 0:P[M])&&void 0!==a?a:{},contentDispositionData:null!==(c=null===P||void 0===P?void 0:P[M])&&void 0!==c?c:{}},userParams:g,showHeader:!1}),B,L&&(!s||!1===s)&&Object(u.jsx)(ba,{history:O,contentData:L,tenantReducerData:h})]})};qb.defaultProps={history:{},hideNav:!1};var zb=qb,Qb=function(e){var t=e.body,n=e.headline;return Object(u.jsxs)("div",{className:"container brand-page",children:[Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("div",{className:"row pt-3 pb-3",children:Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("h1",{className:"title text-uppercase font-weight-bold position-relative ng-binding",children:n})})})}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("div",{className:"description",dangerouslySetInnerHTML:{__html:Object(Ur.documentToHtmlString)(t)}})})]})},Jb=function(e){var t,n,c,r,s=e.routePath,d=e.hideNav,l=Object(i.useState)(Object(x.Hb)(window.innerWidth)),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(o.f)(),p=Object(N.c)((function(e){var t,n,a,i;return{marketPageContent:null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response,tenantReducerContent:e.tenantReducer,userParams:null===(n=e.appStateReducer)||void 0===n?void 0:n.userStatus,brandPageContent:null===(a=e.brandPageReducer)||void 0===a?void 0:a.response,homePageContent:null===(i=e.contentReducer)||void 0===i?void 0:i.response}})),h=p.marketPageContent,g=p.tenantReducerContent,E=p.userParams,T=p.brandPageContent,S=p.homePageContent,C=null!==(t=h.headerData)&&void 0!==t?t:{},A=C.header,y=void 0===A?{}:A,_=C.footer,D=void 0===_?{}:_,R=(null!==T&&void 0!==T?T:{}).headerData,w=void 0===R?{}:R,k=w.carousalContent,L=(k=void 0===k?{}:k).fields,P=(L=void 0===L?{}:L).carousalContent,M=void 0===P?"":P,F=w.seoPage,H=(F=void 0===F?{}:F).fields,B=(H=void 0===H?{}:H).title,U=void 0===B?"":B,G=null!==(n=M&&$o(M))&&void 0!==n?n:[],Y=Object(x.W)(y),K=Object(x.O)(D),V=null!==(c=Object(x.V)(S))&&void 0!==c?c:{},W=Object(N.b)(),q=f.a.DISPOSITION,z=Object(u.jsxs)(u.Fragment,{children:[null!==(r=Object(x.Bb)(G)&&Object(u.jsx)("div",{className:"market-hero",children:Object(u.jsx)(Zo,{contentData:G,isMobile:v})}))&&void 0!==r?r:null,Object(u.jsx)(Qb,Object(a.a)({},w))]}),Q=function(){var e=Object(x.Hb)(window.innerWidth);O(e)};return Object(i.useEffect)((function(){return window.addEventListener("resize",Q),function(){window.removeEventListener("resize",Q)}}),[v]),Object(i.useEffect)((function(){s&&W(Object(Vb.c)({object:Object(I.a)(),contentFull:{content_type:Wb.a.Template2,"fields.routePath":s,include:5}}))}),[W,s]),Object(i.useEffect)((function(){W(lb(g))}),[W,null===g||void 0===g?void 0:g.country]),Object(u.jsxs)(u.Fragment,{children:[!rs()(U)&&Object(u.jsx)(Yr,{page:U}),Y&&(!d||!1===d)&&Object(u.jsx)(Qa,{contentData:Y,tenantReducerData:g,userParams:E}),Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null===V||void 0===V?void 0:V[q],contentDispositionData:null===V||void 0===V?void 0:V[q]},userParams:E,showHeader:!1}),!rs()(w)&&z,K&&(!d||!1===d)&&Object(u.jsx)(ba,{history:m,contentData:K,tenantReducerData:g})]})};Jb.defaultProps={history:{},hideNav:!1};var Xb=Jb,Zb=[{filterBy:["exclusive","topseller","newitem"],dietry:["all","veg"]}],$b=[{name:"New",selected:!1},{name:"Bestsellers",selected:!1},{name:"Best Value",selected:!1}],ev=function(e,t){return"true"===e===t},tv=function(e,t){var n=[];return e.forEach((function(e){e[t].forEach((function(e){var t={name:e,checked:!1};n.push(t)}))})),n},nv=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"equals",i=[],c=e.categories.filter((function(e){return!e.isHidden})).map((function(e){var c,o=e.products.filter((function(e){return!e.isHidden&&e[t]===n}));return"exists"===a&&(o=e.products.filter((function(e){return!e.isHidden&&-1!==e[t].toLowerCase().indexOf(n)}))),!!(null===(c=o)||void 0===c?void 0:c.length)&&(e.products=o,i.push(o),e)})).filter(Boolean);return{productArr:i,filteredObj:c}},av=function(e,t){return e.filter((function(e){var n,a,i=null!==(n=null===(a=e.additionalPropertyMap)||void 0===a?void 0:a[t.name])&&void 0!==n?n:"";return ev(i,t.checked)}))},iv=function(e,t){return null===e||void 0===e?void 0:e.flat().filter((function(e){var n,a,i=null!==(n=null===(a=e.additionalPropertyMap)||void 0===a?void 0:a[t.name])&&void 0!==n?n:"";return ev(i,t.checked)}))},cv=function(e){var t,n,c,r,s=Object(i.useState)(Object(x.Hb)(window.innerWidth)),d=Object(j.a)(s,2),l=d[0],b=d[1],v=e.contentData,O=e.selectedCat,m=Object(i.useContext)(E.a),f=m.userOrderState,p=m.userOrderStateDispatch,h=(v.selectedTile,v.storeInfo),g=v.dispositionType,T=v.tenantReducer,S=He,C=Ae.a.DISPOSITION_DATA,A=Object(N.b)(),y=h&&h.summary&&h.summary.menu&&h.summary.menu.catalogs&&h.summary.menu.catalogs.length&&h.summary.menu.catalogs[0]||(null===T||void 0===T?void 0:T.genericMenuName)||"",_=null===h||void 0===h?void 0:h.id,D=g,R=Object(o.g)(),w=Object(N.c)((function(e){return e.cartReducer})),k=null!==(r=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==r?r:{},L=k.flatResponse,P=(L=void 0===L?{}:L).categoryMapByUrl,M=void 0===P?{}:P,F=k.data,H=void 0===F?{}:F,B=k.recommendedProds,U=void 0===B?{}:B,G=Object(i.useState)([]),Y=Object(j.a)(G,2),K=Y[0],V=Y[1],W=Object(i.useState)([]),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)([]),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(i.useState)([]),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)([]),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=Object(i.useState)([]),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(i.useState)(tv(Zb,"filterBy")),ve=Object(j.a)(be,2),je=ve[0],Oe=ve[1],me=Object(i.useState)(tv(Zb,"dietry")),fe=Object(j.a)(me,2),pe=fe[0],he=fe[1],ge=Object(i.useState)($b),Ne=Object(j.a)(ge,2),xe=Ne[0],Ee=Ne[1],Ie=Object(i.useState)(!1),Te=Object(j.a)(Ie,2),Se=Te[0],Ce=Te[1],ye=Object(i.useState)(!1),_e=Object(j.a)(ye,2),De=_e[0],Re=_e[1],we=Object(i.useState)("STORE"),ke=Object(j.a)(we,2),Le=ke[0],Pe=ke[1],Me=Object(i.useState)(!1),Fe=Object(j.a)(Me,2),Be=Fe[0],Ue=Fe[1],Ge=Object(i.useState)(""),Ye=Object(j.a)(Ge,2),Ke=Ye[0],Ve=Ye[1],We=Object(i.useState)(""),qe=Object(j.a)(We,2),ze=qe[0],Xe=qe[1],$e=Object(i.useMemo)((function(){return Object(x.Ab)(f.currentStoreInfo)?Object(x.b)(localStorage.getItem("currentStoreInfo")):f.currentStoreInfo}),[f.currentStoreInfo]),et=Object(x.sb)(null===$e||void 0===$e||null===(t=$e.summary)||void 0===t?void 0:t.timings),tt=et.futureDates,nt=et.scheduled,at=et.asap,it=Object(x.sb)(nt).unavailibilities,ct=Object(x.sb)((null===nt||void 0===nt||null===(n=nt.periods)||void 0===n?void 0:n.length)&&(null===nt||void 0===nt?void 0:nt.periods[0])),ot=ct.interval,rt=void 0===ot?0:ot,st=ct.startEndTime,dt=void 0===st?{}:st,lt=dt.from,ut=dt.to,bt=Object(i.useCallback)((function(){if(Object(x.Bb)($e)){var e,t,n,a,i,c,o,r=null===(e=$e.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,s=null===(n=$e.summary)||void 0===n?void 0:n.name,d=0===(null===(a=$e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(c=i.scheduled)||void 0===c||null===(o=c.periods)||void 0===o?void 0:o.length),l=function(){var e;return Qi(lt,ut,rt,null===at||void 0===at?void 0:at.isAvailable,1===(null===tt||void 0===tt?void 0:tt.length)&&(null===T||void 0===T||null===(e=T.country)||void 0===e?void 0:e.toUpperCase())===Ze,it)}();Pe(s),function(e,t,n,a){var i=a.setIsStoreClosed,c=a.setIsStoreNone,o=a.setIsModalOpen;"CLOSED"!==n&&!e||t.length?(i(!1),c(!1),o(!1)):(i(!0),c(!1),o(!0))}(d,l,r,{setIsStoreClosed:Ce,setIsStoreNone:Re,setIsModalOpen:Ue})}else Ce(!1),Re(!1),Ue(!1)}),[$e]);Object(i.useEffect)((function(){bt()}),[bt]),Object(i.useEffect)((function(){var e=((null===T||void 0===T?void 0:T.componentOptions)||{}).coupons,t=void 0===e?{}:e,n=t.showCouponCopied,a=void 0!==n&&n,i=t.couponCopiedMessage,c=void 0===i?"Coupon Copied":i;a&&(null===f||void 0===f?void 0:f.showCouponCopied)&&(Wt.b.dark(Object(u.jsx)("div",{className:"img-text-div","data-testid":"toast-msg",children:Object(u.jsx)("span",{className:"text",children:c})}),{className:"copied-toast-position",bodyClassName:"success-copied-toast",hideProgressBar:!0,position:Wt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Wt.b.dismiss(),p({type:_r.f})}),4e3))}),[]);var vt=function(e){var t,n=JSON.parse(JSON.stringify(H)),i=Object(so.a)(n.products),c=[];if(e.find((function(e){return"all"===e.name})))c=i;else{var o=e.filter((function(e){return"filterBy"===e.flag})),r=e.filter((function(e){return"dietary"===e.flag}));c=function(e,t,n){return rs()(e)?[]:(e.forEach((function(e){if(0===t.length){var a=av(n,e);t.push(a)}else{var i,c=iv(t,e);(i=t[0]).push.apply(i,Object(so.a)(c))}})),t)}(o,c,i),c=function(e,t,n){return e&&e.forEach((function(e){if(0===t.length)if("all"===e.name)t.push(n);else{var a=av(n,e);t.push(a)}else{if("all"===e.name)return null;var i,c=iv(t,e);(i=t[0]).push.apply(i,Object(so.a)(c))}})),t}(r,c,i)}t=0===e.length?Object(a.a)({},n):Object(a.a)(Object(a.a)({},n),{},{menu:[],categories:[],products:c.flat()}),V(t)},Ot=function(e){var t=JSON.parse(JSON.stringify(H)),n=nv(t,"mdmId",e,"equals"),a=n.productArr,i=n.filteredObj,c=Object.assign(t,{menu:[],categories:i,products:a.flat()});V(c)},mt=function(e){if(e){var t=JSON.parse(JSON.stringify(H)),n=nv(t,"name",e,"exists"),a=n.productArr,i=n.filteredObj,c=Object.assign(t,{menu:[],categories:i,products:a.flat()});V(c),ls({eventType:"userSearch",selectedData:{searchTerm:e,resultsFound:a.flat().length}},"searchTerm","resultsFound")}else V({})},ft=function(e){var t="";if("string"===typeof e){var n=Object(so.a)(pe).map((function(n){return e===n.name?(t="dietary",Object(a.a)(Object(a.a)({},n),{},{checked:!1})):Object(a.a)({},n)}));if("dietary"===t){var i=n.filter((function(e){return e.checked}));console.log([].concat(Object(so.a)(oe),Object(so.a)(i))),vt([].concat(Object(so.a)(oe),Object(so.a)(i))),ue(i),he(n);var c=Object(so.a)(Z);c.splice(Z.indexOf(e),1),$(c)}var o=Object(so.a)(je).map((function(n){return e===n.name?(t="filter",Object(a.a)(Object(a.a)({},n),{},{checked:!1})):Object(a.a)({},n)}));if("filter"===t){var r=o.filter((function(e){return e.checked}));vt([].concat(Object(so.a)(le),Object(so.a)(r))),re(r),Oe(o);var s=Object(so.a)(z);s.splice(z.indexOf(e),1),Q(s)}""===t&&(Ee(xe.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!1})}))),ae([]))}else{var d=Object(so.a)(pe).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{checked:!1})}));he(d);var l=Object(so.a)(je).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{checked:!1})}));Oe(l),Ee(xe.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!1})}))),vt([]),Q([]),$([]),ae([]),re([]),ue([])}},pt=function(e){Ve(e)};Object(i.useEffect)((function(){w.showProductListingModal&&A(Object(St.t)({showProductListingModal:!1,categorySelected:""}))}),[R]),Object(i.useEffect)((function(){y&&D&&(null===T||void 0===T?void 0:T.tenantId)&&A(Object(ui.e)({channel:S,service:D,tenantId:T.tenantId}))}),[_,D,null===T||void 0===T?void 0:T.tenantId,Ke]);var ht=function(){var e=Object(x.Hb)(window.innerWidth);b(e)},gt=function(){var e=document.getElementById(ze);e&&(e.style.border="none")},Nt=Object(o.h)().category_name,xt=Object(i.useState)(!1),Et=Object(j.a)(xt,2),It=Et[0],Tt=Et[1],Ct=Object(N.c)((function(e){var t=e.brandPageReducer,n=null!==t&&void 0!==t?t:{},a=n.isBrandPageContentLoading,i=void 0!==a&&a,c=n.response,o=(c=void 0===c?{}:c).headerData;return{isBrandPageContentLoading:i,brandRoutePath:(o=void 0===o?{}:o).routePath}}));Object(i.useEffect)((function(){A(Object(Vb.c)({object:Object(I.a)(),contentFull:{content_type:Wb.a.Template2,select:"sys.id,fields","fields.routePath":null===R||void 0===R?void 0:R.pathname,include:5}}))}),[A,null===R||void 0===R?void 0:R.pathname]),Object(i.useEffect)((function(){if(!rs()(Nt)){var e=null===M||void 0===M?void 0:M[Nt];Tt(Object(x.Bb)(e)&&!e.isHidden&&!rs()(null===Ct||void 0===Ct?void 0:Ct.brandRoutePath))}}),[Nt,null===Ct||void 0===Ct?void 0:Ct.brandRoutePath,null===H||void 0===H?void 0:H.categories]);Object(i.useEffect)((function(){window.addEventListener("resize",ht)}),[l]);var At=function(){Ue(!1)},yt=Be&&function(e,t,n,a){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h1",{children:[Qe,", ",e," ",Je]}),Object(u.jsx)("p",{children:"Please select a different store or order during working hours."}),Object(u.jsxs)("div",{className:"d-flex justify-content-center action-buttons",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-light mr-3","data-dismiss":"modal","data-testid":"close-modal-id",onClick:function(){return a()},children:"Keep Browsing"}),Object(u.jsx)("button",{type:"button",className:"btn btn-dark ml-3","data-dismiss":"modal","data-testid":"schedule-order-btn",onClick:function(e){return n(e,t)},children:"Find Open KFC"})]})]})}(Le,h,(function(e,t){e.preventDefault(),e.stopPropagation(),p({type:C,value:{showDisposition:!0}}),At()}),At);return It?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Xb,Object(a.a)({routePath:null===Ct||void 0===Ct?void 0:Ct.brandRoutePath,hideNav:!0},e)),";"]}):Object(u.jsxs)(u.Fragment,{children:[Be?Object(u.jsx)(jt,{show:!0,autoFocus:!0,classNames:"storeclosedmodal",children:yt,showCloseBtn:!0,closeButtonHandler:function(){return At()},modalTitleRequired:!0,backBtnClassName:"custom-modal-back",backBtnAlt:"back",closeDataTestId:"",backDataTestId:""}):null,!(null===Ct||void 0===Ct?void 0:Ct.isBrandPageContentLoading)&&(l?Object(u.jsx)("div",{"data-testid":"mobile-plp-container",onClick:gt,children:Object(u.jsx)(Pb,Object(a.a)(Object(a.a)({},e),{},{data:H,tenantData:T,tempData:K,filterList:z,dietaryList:Z,sortByListMob:ne,sortByOptions:xe,handleClearItems:ft,handleFilteredData:Ot,handleSearchdata:mt,recommendations:U,catalogs:y,selectedCat:O,triggerGetRecommends:pt,storeClosedData:{isStoreClosed:Se,isStoreNone:De,storeName:Le,isModalOpen:Be},setProductId:Xe}))}):Object(u.jsx)("div",{"data-testid":"desktop-plp-container",className:"plp-container",onClick:gt,children:Object(u.jsx)(Sb,Object(a.a)(Object(a.a)({},e),{},{tenantData:T,data:H,tempData:K,filterList:z,dietaryList:Z,sortByList:ne,handleClearItems:ft,handleFilteredData:Ot,handleSearchdata:mt,recommendations:U,catalogs:y,selectedCat:O,triggerGetRecommends:pt,storeClosedData:{isStoreClosed:Se,isStoreNone:De,storeName:Le,isModalOpen:Be}}))})),f.addToCart&&f.isLocalized&&!f.fromPdpPage?Object(u.jsx)(Yb,{}):null,w.showProductListingModal&&Object(u.jsx)(Id,{}),(null===(c=f.cartAlertData)||void 0===c?void 0:c.showCartAlert)&&Object(u.jsx)(Kb,{})]})},ov=n.p+"static/media/GoTop.c21e2377.svg",rv=function(e){var t=e.showThreshold,n=void 0===t?300:t,a=Object(i.useState)(!1),c=Object(j.a)(a,2),o=c[0],r=c[1],s=Object(i.useState)(0),d=Object(j.a)(s,2),l=d[0],b=d[1];return Object(i.useEffect)((function(){var e=function(){var e=document.documentElement.scrollTop;r(!(e<n)),b(e<=0?0:e)};return is.scroller.scrollTo("root",{duration:1500,delay:100,smooth:!0,containerId:"root"}),window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[l]),o&&Object(u.jsx)(is.Link,{className:"backToTop show",to:"root",spy:!0,smooth:!0,activeClass:"active",children:Object(u.jsx)(S.a,{srcFile:ov,className:"back-to-top-icon",alt:"back-to-top"})})},sv=rb((function(e){var t,n,a,r,s,d=bb.DISPOSITION,l=Object(i.useState)(T.T),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useState)(),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(i.useContext)(E.a).userOrderState,I=Object(N.c)((function(e){return e.tenantReducer})),S=Object(x.K)(Object(N.c)((function(e){return e.menuReducer}))).flatResponse,C=(S=void 0===S?{}:S).categoryMapByUrl,A=void 0===C?{}:C,y=(null!==I&&void 0!==I?I:{}).tenantId,_=Object(o.h)().category_name,D=Object(i.useState)(!0),R=Object(j.a)(D,2),w=R[0],k=R[1],L=Object(x.Ab)(g.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):g.dispositionNew,P=Object(i.useMemo)((function(){var e;return{tenantReducer:Object(x.Bb)(I)?I:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:L?L.store:{},dispositionType:L&&L.type?Object(x.I)(L.type):Object(x.I)(null===(e=I.authoredContent)||void 0===e?void 0:e.defaultdisposition),selectedTile:g&&Object(x.Bb)(g.selectedTile)?g.selectedTile:JSON.parse(localStorage.getItem("selectedTile"))}}),[L,I,g]),M=null,F=null,H=null,B=Object(N.b)(),U=Object(N.c)((function(e){return e.appStateReducer.userStatus})),G=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response,marketPageContent:e.marketConfigReducer.response,tenantData:e.tenantReducer}}));if(G.marketPageContent&&G.tenantData&&G.homePageContent){F=Object(x.V)(G.homePageContent)||null;var Y=G.marketPageContent.headerData||{},K=Y.header,V=void 0===K?{}:K,W=Y.footer,q=void 0===W?{}:W;M=Object(x.W)(V),H=Object(x.O)(q)}return Object(i.useEffect)((function(){B(lb(I))}),[B,null===I||void 0===I?void 0:I.country]),Object(i.useEffect)((function(){B(ub(U))}),[B,U]),Object(i.useEffect)((function(){if(y){var e=Object(x.K)(function(e,t,n){var a=T.T,i={},c=(null!==e&&void 0!==e?e:{}).tenantId,o=null===t||void 0===t?void 0:t[n];if(c&&o){var r,s,d,l=null!==o&&void 0!==o?o:{},u=l.dname;u=void 0===u?[]:u;var b=Object(j.a)(u,1)[0],v=(b=void 0===b?{}:b).value,O=l.shortDescription;O=void 0===O?[]:O;var m=Object(j.a)(O,1)[0],f=(m=void 0===m?{}:m).value,p=l.longDescription;p=void 0===p?[]:p;var h=Object(j.a)(p,1)[0],g=(h=void 0===h?{}:h).value,N=l.imageName,E=void 0===N?[]:N;i={Category:v,CategoryURL:null===(r=window)||void 0===r||null===(s=r.location)||void 0===s?void 0:s.href,CategoryDescription:null!==(d=null!==g&&void 0!==g?g:f)&&void 0!==d?d:v,CategoryImage:Object(x.S)(E,e)},a=T.S}return{seoPageName:a,seoObject:i}}(I,A,_)),t=e.seoPageName,n=e.seoObject;O(t),h(n)}}),[y,_]),Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(ob,{}),Object(x.Bb)(M)&&Object(u.jsx)(Qa,{contentData:M,tenantReducerData:G.tenantData,userParams:U}),Object(u.jsx)(Yr,{page:v,seoObj:p}),Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null!==(t=null===(n=F)||void 0===n?void 0:n[d])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(r=F)||void 0===r?void 0:r[d])&&void 0!==a?a:{}},userParams:U}),Object(u.jsx)(cv,{setShowTopScrollBtn:k,contentData:P,selectedCat:null===e||void 0===e||null===(s=e.location)||void 0===s?void 0:s.selectedCat,history:e.history}),Object(x.Bb)(H)&&Object(u.jsx)(ba,{history:e.history,contentData:H,tenantReducerData:G.tenantData}),g.showCartClearAlert&&Object(u.jsx)($d,{}),w&&Object(u.jsx)(rv,{showThreshold:500})]})})),dv=n.p+"static/media/Native_select a kfc_grey image.6e97ff02.svg",lv=function(e){var t=e.couponApplyHandler,n=e.data,a=void 0===n?{}:n,o=e.tenantId,r=void 0===o?"":o,s=e.id,d=void 0===s?"":s,l=e.onStartOrderClick,b=e.showViewDetailsButton,v=void 0!==b&&b,O=Object(i.useState)(!1),m=Object(j.a)(O,2),f=m[0],p=m[1],h=Object(x.y)(window.innerWidth),g=function(){p(!0)},N=function(e){if((null===e||void 0===e?void 0:e.showTimer)&&Object(wt.g)(null===e||void 0===e?void 0:e.endTime)){var t=Object(u.jsxs)("span",{"data-testid":"coupon-time-block",className:"coupon-time-block",children:[Object(u.jsx)("img",{className:"coupon-time-icon",src:Pt}),Object(u.jsx)(Ft,{endTime:null===e||void 0===e?void 0:e.endTime})]});return Object(u.jsxs)("div",{className:"offersRibbon-container",children:[Object(u.jsx)(Ca.a,{src:Cr,className:"offers-ribbon timer"}),Object(u.jsx)("span",{className:"ribbon-text time-text",children:t})]})}if(null===e||void 0===e?void 0:e.header){var n=null===e||void 0===e?void 0:e.header;return Object(u.jsxs)("div",{className:"offersRibbon-container",children:[Object(u.jsx)(Ca.a,{src:Ar,className:"offers-ribbon"}),Object(u.jsx)("span",{className:"ribbon-text text-white",children:n})]})}};return Object(u.jsxs)(c.a.Fragment,{children:[function(){switch(a.cardType){case"image-text":return function(e,n){return Object(u.jsxs)("div",{"data-testid":"offers-deals-card-container",className:"medium-card-offers-deals",children:[N(e),Object(u.jsx)(S.a,{"data-testid":"offers-deals-card-image",className:"offers-menu-product-image",srcFile:"".concat(Object(Lt.a)(Ht.E)).concat(r,"/images/offers/").concat(h,"/").concat(null===e||void 0===e?void 0:e.imageSrc,".jpg"),alt:"No-Image",defaultPath:"".concat(Object(Lt.a)(Ht.E)).concat(r).concat(_r.a)}),Object(u.jsxs)("div",{className:"offers-card-content","data-testid":"offers-deals-card-header",children:[Object(u.jsx)("h4",{className:"offers-deals-product-title",children:null===e||void 0===e?void 0:e.heading}),Object(u.jsx)("h5",{className:"offers-deals-product-desc",children:null===e||void 0===e?void 0:e.description})]}),Object(u.jsxs)("div",{"data-testid":"offers-deals-card-footer",className:"offer-button-container",children:[Object(u.jsx)(Ot.a,{disabled:!v,"data-testid":"details-button",className:"view-details-btn",onClick:function(){return g()},children:Object(Se.e)(_r.v)}),Object(u.jsx)(Ot.a,{onClick:function(){return t(null===e||void 0===e?void 0:e.discountCode)},disabled:null===e||void 0===e?void 0:e.isApplied,className:"redeem-btn","data-testid":"redeem-button",children:Object(u.jsx)("span",{className:"btn-text",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Se.e)(_r.p):Object(Se.e)(_r.q)})})]})]},n)}(a,d);case"image":return function(e,n){return Object(u.jsxs)("div",{"data-testid":"offers-deals-card-container",className:"medium-card-offers-deals",children:[N(e),Object(u.jsx)(S.a,{"data-testid":"offers-deals-card-image",className:"offers-menu-product-full-image",srcFile:"".concat(Object(Lt.a)(Ht.E)).concat(r,"/images/offers/").concat(h,"/").concat(null===e||void 0===e?void 0:e.imageSrc,".jpg"),alt:"No-Image",defaultPath:"".concat(Object(Lt.a)(Ht.E)).concat(r).concat(_r.a)}),Object(u.jsxs)("div",{"data-testid":"offers-deals-card-footer",className:"offer-button-container",children:[Object(u.jsx)("button",{className:"view-details-btn image-full-text-btn",onClick:function(){return g()},"data-testid":"details-button",disabled:!v,children:Object(Se.e)(_r.v)}),Object(u.jsx)("button",{className:"redeem-btn redeem-button-full-image-text",onClick:function(){return t(null===e||void 0===e?void 0:e.discountCode)},disabled:null===e||void 0===e?void 0:e.isApplied,"data-testid":"redeem-button",children:Object(u.jsx)("span",{"data-testid":"btn-txt",className:"btn-text",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Se.e)(_r.p):Object(Se.e)(_r.q)})})]})]},n)}(a,d);case"text":return function(e,n){return Object(u.jsxs)("div",{"data-testid":"offers-deals-card-container",className:"medium-card-offers-deals",children:[N(e),Object(u.jsxs)("div",{className:"offers-card-content-text",children:[Object(u.jsxs)("div",{className:"offers-card-title-desc","data-testid":"offers-deals-card-header",children:[Object(u.jsx)("h4",{className:"offers-deals-product-title",children:null===e||void 0===e?void 0:e.heading}),Object(u.jsx)("h5",{className:"offers-deals-product-desc",children:null===e||void 0===e?void 0:e.description}),(null===e||void 0===e?void 0:e.endTime)&&Object(u.jsx)("h5",{className:"offers-deals-product-valid",children:"".concat(Object(Se.e)(_r.t)," ").concat(Object(wt.e)(null===e||void 0===e?void 0:e.endTime))})]}),Object(u.jsxs)("div",{className:"offer-button-container","data-testid":"offers-deals-card-footer",children:[Object(u.jsx)(Ot.a,{"data-testid":"details-button",disabled:!v,onClick:function(){return g()},className:"view-details-btn",children:Object(Se.e)(_r.v)}),Object(u.jsx)(Ot.a,{"data-testid":"redeem-button",onClick:function(){return t(null===e||void 0===e?void 0:e.discountCode)},disabled:null===e||void 0===e?void 0:e.isApplied,className:"redeem-btn",children:Object(u.jsx)("span",{className:"btn-text",children:(null===e||void 0===e?void 0:e.isApplied)?Object(Se.e)(_r.p):Object(Se.e)(_r.q)})})]})]})]},n)}(a,d);case"store":return Object(u.jsxs)("div",{"data-testid":"offers-deals-card-container",className:"medium-card-offers-deals store-card",children:[Object(u.jsx)("img",{src:dv,className:"offers-store-image",alt:""}),Object(u.jsx)("h3",{className:"offer-store-text",children:Object(Se.e)(_r.g)}),Object(u.jsx)("div",{className:"offer-store-btn-container",children:Object(u.jsx)(Ot.a,{className:"store-btn",onClick:l,ariaLable:Object(Se.e)(_r.d),children:Object(Se.e)(_r.d)})})]});case"login":return Object(u.jsxs)("div",{"data-testid":"offers-deals-card-container",className:"medium-card-offers-deals login-card",children:[Object(u.jsx)("h3",{className:"offer-login-text",children:Object(Se.e)(_r.s)}),Object(u.jsx)("div",{className:"offer-login-btn-container",children:Object(u.jsx)(Ot.a,{className:"login-btn","data-testid":"login-btn",onClick:function(){return Object(x.g)()},ariaLable:Object(Se.e)(_r.j),children:Object(Se.e)(_r.j)})})]})}}(),f&&Object(u.jsx)(Dr,{"data-testid":"deals-modal",data:a,isDealModalOpen:f,handleClose:function(){p(!1)},couponApplyHandler:t})]})},uv=function(e){var t,n,a,c=e.isLocalized,o=void 0!==c&&c,r=e.onStartOrderClick,s=e.isLoggedIn,d=void 0!==s&&s,l=e.copyCoupon,b=Object(N.c)((function(e){return e.tenantReducer})),v=Object(i.useState)(_r.c),O=Object(j.a)(v,2),m=O[0],f=O[1],p=b.tenantId,h=void 0===p?"":p,g=b.componentOptions,E=((null===g||void 0===g||null===(t=g.routes)||void 0===t||null===(n=t.Home)||void 0===n?void 0:n.offersAndDeals)||{}).showViewDetailsButton,I=Object(N.c)((function(e){return e.cartReducer})),T=Object(N.c)((function(e){return e.profileReducer})),S=I.applicableCoupons,C=void 0===S?[]:S,A=I.cartData,y=void 0===A?{}:A,_=Object(N.b)(),D=function(e,t,n){var a=Object(so.a)(n);return!t&&!ya.b.isGoogle&&a.unshift({cardType:"login"}),!e&&a.unshift({cardType:"store"}),a}(o,d,(a=Object(x.n)(C),Object(wt.i)(a))),R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=Math.ceil(n.length/t);if(e<=a&&Array.isArray(n)&&n.length){var i=0,c=e*t>n.length-1?n.length:e*t;return n.slice(i,c)}return n}(m,_r.b,D),w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Math.ceil(t.length/e)}(_r.b,D),k=function(t){o?(l(t),Object(x.wb)(e.history)):(l(t),r())};Object(i.useEffect)((function(){((null===y||void 0===y?void 0:y.id)||d||o)&&h&&L()}),[y,o,d,T,h]);var L=function(){_(o?Object(St.g)({basketId:null===y||void 0===y?void 0:y.id,tenantId:h}):d?Object(St.h)({tenantId:h,userId:T.customerId}):Object(St.i)({tenantId:h}))};return Object(u.jsxs)("div",{className:"offer-deals-container",children:[Object(u.jsx)("div",{className:"offer-card-container",children:R.map((function(e,t){return Object(u.jsx)(lv,{couponApplyHandler:k,onStartOrderClick:r,data:e,id:t,tenantId:h,showViewDetailsButton:E},t)}))}),m!==w&&w>1&&Object(u.jsxs)("div",{className:"load-more-container",children:[Object(u.jsx)(Ot.a,{"data-testid":"load-more-btn",className:"button whiteButton blackBorder load-btn",onClick:function(){return f(m+1)},disabled:m===w,children:Object(Se.e)(_r.h)}),Object(u.jsx)("span",{className:"page-desc",children:"".concat(Object(Se.e)(_r.u)," ").concat(_r.b*m," ").concat(Object(Se.e)(_r.o)," ").concat(D.length)})]})]})},bv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAeCAYAAAB5c901AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABNSURBVHgB7c9BDQAgAMPAgQ4c4F8KDvABFuBHSe+9LGmZ6SsXWkY52b3yW/M5A+kMpDOQzkA6A+kMpDOQzkA6A+kMpDOQzkA6A+kMpNu9MQhKmC+cDgAAAABJRU5ErkJggg==",vv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAUCAYAAAAOTSQ2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABDSURBVHgB7c4xDQAgEATBf3TgAP9ScIAPcPAkS0Ox014u2VwxdhR6zKz2l//t2+JjxlHGUcZRxlHGUcZRxlHGUcZRB8JSCDYbp9G6AAAAAElFTkSuQmCC",jv=function(e){var t=e.isLoggedIn,n=void 0!==t&&t,a=e.isMobile,i=e.isLocalized,c=void 0!==i&&i;return Object(u.jsxs)("div",{className:"deals-offers-header","data-testid":"offers-deals-header",children:[Object(u.jsx)("div",{className:"deals-offers-header-icon",children:Object(u.jsx)("img",{className:"deals-stripe-icon",src:a?vv:bv,alt:""})}),Object(u.jsxs)("div",{className:"deals-header-text-container",children:[Object(u.jsx)("h2",{className:"header-text","data-testid":"header-text",children:n||c?Object(Se.e)(_r.i):Object(Se.e)(_r.n)}),!n&&Object(u.jsx)("p",{"data-id":T.n.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"offers-deals-signin-text",className:"login-text",onClick:function(){return Object(x.g)()},children:Object(Se.e)(_r.k)})]})]})},Ov=n.p+"static/media/offer_deals_banner.777f20e1.svg",mv=function(e){var t=e.onStartOrderClick,n=e.copyCoupon,c=Object(i.useState)(Object(x.Hb)(window.innerWidth)),o=Object(j.a)(c,2),r=o[0],s=o[1],d=Object(N.c)((function(e){return e.appStateReducer})).userStatus,l=void 0===d?{}:d,b=l.localized,v=void 0!==b&&b,O=l.loggedIn,m=void 0!==O&&O,f=Object(i.useContext)(E.a).userOrderState;Object(i.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(i.useEffect)((function(){return window.addEventListener("resize",p),function(){window.removeEventListener("resize",p)}}));var p=function(){s(Object(x.Hb)(window.innerWidth))};return Object(u.jsxs)("div",{className:"deals-offer-container-section",children:[Object(u.jsx)("div",{style:{backgroundImage:"url(".concat(Ov,")")},className:"deals-header-image",children:Object(u.jsx)("h2",{className:"deals-image-text",children:Object(Se.e)(_r.e)})}),Object(u.jsxs)("div",{className:"deals-offers-container",children:[Object(u.jsx)(jv,{isLoggedIn:m,isMobile:r,isLocalized:v}),Object(u.jsx)(uv,Object(a.a)({onStartOrderClick:t,copyCoupon:n,isLoggedIn:m,isLocalized:v},e))]}),f.showCartClearAlert?Object(u.jsx)($d,{}):null]})},fv=function(e){var t,n,o,r,s=Object(N.c)((function(e){return e.appStateReducer.userStatus})),d=Ae.a.DISPOSITION_DATA,l=Object(i.useContext)(E.a),b=l.userOrderState,v=l.userOrderStateDispatch,j=Object(N.c)((function(e){return e.tenantReducer})),O=Object(x.Ab)(b.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):b.dispositionNew,m=(Object(i.useMemo)((function(){var e;return{tenantReducer:Object(x.Bb)(j)?j:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:O?null===O||void 0===O?void 0:O.store:{},dispositionType:O&&O.type?Object(x.I)(O.type):Object(x.I)(null===j||void 0===j||null===(e=j.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[O,j]),null),g=null,T=null,S=f.a.DISPOSITION,C=Object(N.b)();Object(i.useEffect)((function(){C(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===j||void 0===j?void 0:j.country,"fields.channel":ya.b.channel,include:5}})),C(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ya.b.channel,include:"5"},userParams:s}))}),[C,null===j||void 0===j?void 0:j.country,s]);var A=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null}}));if(A.marketPageContent&&A.tenantReducerContent&&A.homePageContent){m=Object(x.V)(A.homePageContent);var y=A.marketPageContent.headerData||{},_=y.header,D=void 0===_?{}:_,R=y.tenant,w=void 0===R?[]:R,k=y.footer,L=void 0===k?{}:k;g=Object(x.W)(D),T=Object(x.O)(L),Object(x.jb)(w)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Bb)(g)&&Object(u.jsx)(Qa,{contentData:g,tenantReducerData:A.tenantReducerContent,userParams:s})||null,Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null!==(t=null===(n=m)||void 0===n?void 0:n[S])&&void 0!==t?t:{},contentDispositionData:null!==(o=null===(r=m)||void 0===r?void 0:r[S])&&void 0!==o?o:{}},userParams:s}),Object(u.jsx)(mv,Object(a.a)({"data-testid":"deals-offers-container",copyCoupon:function(e){navigator&&navigator.clipboard&&navigator.clipboard.writeText(e),v({type:_r.r})},onStartOrderClick:function(){v({type:d,value:{showDisposition:!0}})}},e)),Object(x.Bb)(T)&&Object(u.jsx)(ba,{history:e.history,contentData:T,tenantReducerData:A.tenantReducerContent})||null]})},pv=n(144),hv=n(221),gv=function(e){var t=e.isMobile,n=Dn.a.CART_HEADER;return Object(u.jsxs)("div",{className:"cart-header","data-testid":"cart-header-test",children:[Object(u.jsx)("img",{src:t?vv:bv,alt:" "}),Object(u.jsx)("h1",{className:"cart-header-text",children:Object(Se.e)(n)})]})},Nv=function(e,t,n){Object(x.Bb)(e)?(t(e.id),n(e.price)):(t(""),n(0))},xv=function(e,t){Object(x.Bb)(e)?t(e.id):t("")},Ev=function(e){var t,n=e.contentData,a=void 0===n?{}:n,c=e.currencySymbol,o=void 0===c?"":c,r=e.currencyConversionFactor,s=void 0===r?"":r,d=e.addHope,l=void 0===d?"":d,b=e.carryBag,v=void 0===b?"":b,O=e.bucketId,m=void 0===O?"":O,f=e.isMobile,p=e.tenantId,h=void 0===p?"":p,g=e.confirmChangesHandler,I=e.dispositionData,T=void 0===I?{}:I,S=a.totalAmount,C=void 0===S?"":S,A=a.quantity,y=void 0===A?"":A,_=a.additionalCharges,D=void 0===_?[]:_,R=a.discountAmounts,w=void 0===R?[]:R,k=a.subTotal,L=void 0===k?"":k,P=a.taxAmounts,M=void 0===P?"":P,F=Object(N.b)(),H=Ni({cartId:m},h,void 0,void 0,void 0,F,void 0).itemRemoveHandler,B=Dn.a.CART_SUMMARY_CARD,U=void 0===B?{}:B,G=Dn.a.FROMCHECKOUT,Y=void 0===G?"":G,K=U.QUANTITY_TEXT,V=U.QUANTITYS_TEXT,W=U.SUBTOTAL,q=U.ADD_HOPE_HEADER,z=U.ADD_HOPE_TEXT,Q=U.CHECKOUT,J=U.CARRY_BAG,X=U.TAKEAWAY,Z=U.RESTAURANT_HANDLING_CHARGE,$=U.GST,ee=U.DONATE,te=U.addHopeText,ne=U.largeCarryBagText,ae=U.SEARCH_IN_MENU,ie=U.SEARCH_IN_CART,ce=Object(i.useState)(!1),oe=Object(j.a)(ce,2),re=oe[0],se=oe[1],de=(null!==(t=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,le=(de=void 0===de?{}:de).specialItemMapByName,ue=void 0===le?{}:le,be=(Object(N.c)((function(e){return e.cartReducer}))||{}).cartData,ve=void 0===be?{}:be,je=Object(i.useState)(),Oe=Object(j.a)(je,2),me=Oe[0],fe=Oe[1],pe=Object(i.useState)(0),he=Object(j.a)(pe,2),ge=he[0],Ne=he[1],xe=Object(i.useState)(),Ee=Object(j.a)(xe,2),Ie=Ee[0],Te=Ee[1],Ce=Object(i.useState)(0),Ae=Object(j.a)(Ce,2),ye=Ae[0],_e=Ae[1],De=Object(i.useState)(),Re=Object(j.a)(De,2),we=Re[0],ke=Re[1],Le=Object(i.useState)(),Pe=Object(j.a)(Le,2),Me=Pe[0],Fe=Pe[1],He=Object(i.useContext)(E.a).userOrderState,Be=localStorage.getItem("expiryMessage");Object(i.useEffect)((function(){if(ue){var e=Object(x.p)(ue,l,s,ae);Nv(e,fe,Ne);var t=Object(x.v)(ue,v,s,ae);Nv(t,Te,_e)}}),[ue]),Object(i.useEffect)((function(){if(ve&&!(null===ve||void 0===ve?void 0:ve.errorCode)){var e=Object(x.p)(ve.foodLines,l,s,ie);xv(e,ke);var t=Object(x.v)(ve.foodLines,v,s,ie);xv(t,Fe)}}),[null===ve||void 0===ve?void 0:ve.errorCode,null===ve||void 0===ve?void 0:ve.foodLines]);var Ue=function(e,t){e.stopPropagation(),e.preventDefault();var n=e.target.checked,a=e.target.id;n?F(Object(St.a)({params:{basketId:m},tenantId:h},[{Id:a,categoryId:"",quantity:1,modGrps:[]}])):H({foodLineId:t,flag:"specialItems"});F(Object(St.s)(new Date))},Ge=function(){var e=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)||t.top<0&&t.bottom<0||t.top<=0&&t.bottom>0}(document.getElementById("summary-card"));se(e)};Object(i.useEffect)((function(){return f&&document.addEventListener("scroll",Ge),function(){document.removeEventListener("scroll",Ge)}}),[]);var Ye=function(e){e.stopPropagation(),e.preventDefault(),g(Y),Xt()};return Object(u.jsxs)("div",{className:"cart-summary-card",id:"summary-card","data-testid":"cart-summary-card-test",children:[Object(u.jsxs)("h2",{className:"cart-summary-item-count",children:[y," ",Object(x.lb)(1===y,Object(Se.e)(K),Object(Se.e)(V))]}),Object(u.jsx)("div",{className:"cart-summary-coupons",children:Object(u.jsx)(Rn,{bucketId:m})}),Object(u.jsxs)("div",{className:"cart-summary-content",children:[Object(u.jsxs)("div",{className:"cart-summary-content-item",children:[Object(u.jsx)("div",{className:"cart-summary-content-item-name",children:Object(Se.e)(W)}),Object(u.jsxs)("div",{className:"cart-summary-content-item-value",children:[o,L]})]}),Object(u.jsxs)("div",{className:"cart-summary-content-item",children:[Object(u.jsx)("div",{className:"cart-summary-content-item-name",children:Object(Se.e)($)}),Object(u.jsx)("div",{className:"cart-summary-content-item-value",children:M})]}),D.length>0&&D.map((function(e,t){return Object(u.jsxs)("div",{className:"cart-summary-content-item",children:[Object(u.jsx)("div",{className:"cart-summary-content-item-name",children:Object(Se.e)(Z)}),Object(u.jsxs)("div",{className:"cart-summary-content-item-value",children:[o,e.amount]})]},t)})),w.length>0&&w.map((function(e,t){return Object(u.jsx)("div",{className:"cart-summary-discount-lines",children:Object(u.jsxs)("div",{className:"cart-summary-content-item",children:[Object(u.jsxs)("div",{className:"cart-summary-content-item-name d-flex",children:[Object(u.jsxs)("span",{className:"cart-discount-code",children:[Object(Se.e)("DiscountText")," (",e.couponCode,")"]}),Object(u.jsx)("span",{className:"cart-discount-clear-icon","data-testid":"remove-coupon-handler-".concat(null===e||void 0===e?void 0:e.couponCode),onClick:function(){return t=null===e||void 0===e?void 0:e.couponCode,localStorage.removeItem("expiryMessage"),void F(Object(St.m)({basketId:m,tenantId:h,couponCode:t}));var t},children:Object(u.jsx)("img",{src:wn})})]}),Object(u.jsxs)("div",{className:"cart-summary-content-item-value",children:["- ",o,e.amount]})]},t)})})),(null===He||void 0===He?void 0:He.couponErrorMessage)&&Object(u.jsx)("div",{className:"cart-summary-discount-lines",children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"discount-error",children:[Object(u.jsx)("img",{className:"discount-error-icon",src:At,alt:"close"}),Object(u.jsx)("span",{children:null===He||void 0===He?void 0:He.couponErrorMessage})]})})}),Iv(Be),T.type===X&&Me?Object(u.jsxs)("div",{className:"cart-summary-content-item","data-testid":"cart-carry-bag-text",children:[Object(u.jsx)("div",{className:"cart-summary-content-item-name",children:Object(Se.e)(ne)}),Object(u.jsxs)("div",{className:"cart-summary-content-item-value",children:[o,null===ye||void 0===ye?void 0:ye.toFixed(2)]})]}):null,we?Object(u.jsxs)("div",{className:"cart-summary-content-item","data-testid":"cart-add-hope-text",children:[Object(u.jsx)("div",{className:"cart-summary-content-item-name",children:Object(Se.e)(te)}),Object(u.jsxs)("div",{className:"cart-summary-content-item-value",children:[o,null===ge||void 0===ge?void 0:ge.toFixed(2)]})]}):null]}),T.type===X&&Ie?Object(u.jsxs)("div",{className:"cart-carry-bag-container",children:[Object(u.jsx)("input",{type:"checkbox",className:"cart-carry-bag-checkbox","data-testid":"cart-carry-bag-checkbox",checked:!!Me,id:Ie,onChange:function(e){return Ue(e,Me)}}),Object(u.jsxs)("label",{className:"cart-carry-bag-header",htmlFor:Ie,children:[Object(u.jsx)("span",{children:"".concat(o).concat(ye.toFixed(2)," ")}),Object(u.jsx)("span",{children:Object(Se.e)(J)})]})]}):null,me?Object(u.jsxs)("div",{className:"cart-add-hope-container",children:[Object(u.jsx)("input",{type:"checkbox",className:"cart-add-hope-checkbox","data-testid":"cart-add-hope-checkbox",checked:!!we,id:me,onChange:function(e){return Ue(e,we)}}),Object(u.jsxs)("label",{htmlFor:me,className:"cart-add-hope-content",children:[Object(u.jsxs)("div",{className:"cart-add-hope-header",children:[Object(u.jsx)("span",{children:"".concat(Object(Se.e)(ee)," ")}),Object(u.jsx)("span",{children:"".concat(o).concat(ge.toFixed(2)," ")}),Object(u.jsx)("span",{children:Object(Se.e)(q)})]}),Object(u.jsx)("div",{className:"cart-add-hope-text",children:Object(Se.e)(z)})]}),Object(u.jsx)("img",{className:"cart-add-hope-image",alt:"Add hope logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAAkCAYAAAApbHJOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAy+SURBVHgB7RlpdBRF+qvunpnuCYFck5AQEhKTzEzkWARFRBdcRReVfagc+xBXhFV0UUHB97zQGBf2eOKKIF64bxGVQ9RVEFFxQS65BJFrEoPkDklmckySubtqv+o5ck0CZt9j//i91+maqq+++q76jg7AL9A3qDNYF9iN1j/B/wDnZXNWvWJ+uaJ/fsKFcAW4BEAI+y0w9qpDsTwGfQSRCGMIkAWKn25hSLI33EsilEDgJH8zBs86Yy2J0AcgauB4aHiNQzE/3BvuJRGKMva9NiAwwOWDO6EPICny+fZfZEJvuJdEKGSiMjySCAyBPkBc84lGRsDJxwzI8N5wL4lQARqoD48JAQP0EQiDH7U3sP694Uk9LTj05qlMglsYhYGiQF5rcbn2xhhjliLFj5PaznwFPwMkSXcnv1AcKIMY6AM06C8bqgJJRoH4zwSm6Sf4oyt0iyJ2g3UiI2w57hjWZYn79EAk03zeIyQPhdM+uAA4FOvVDNhfcTi+fZatS3IX/QEuEpoGZMQzn/FplcF85FYOz4sGT3x8U2lTtD0RS1XJ2RkGYngZD71dk5QRFwrXguOUEMpA7S9edpNetYAPfuiJkQY5P0Ml7FEUaKFGisE5VFJWcJVkwEUCRrnH/T6yiPOAJinF95Dwms8t8SgaVSjtTjkNljyZ6HdrAjGm4tQqySClo1Wi5hURSA70AHbZerdK1OOEC8RgB6hSviDCA+F1ZO7qIzBKB72AXZ9nQSvvwYDwdxQkwAS4S68XRmGeqg3jEBDMPe0XGmXLEK8AX+Bhmfi7WgU2Iclte1iLNiBURNuEUSip2xyeUy+b1+BtfgcPb0ZGZiZ5bBOJCK14L99sZwYMeXrfZT0xZDdY5oMo7qfArkXrFrjdrbmmNtv7AT99HS2fEkEkwnU90RAogU9CZi0jIF2d7Cneyxdq5CFDCKGLNRkENsfPuPtoVuT27RR9avrlmBxG61FCyFw8eJNHglHIyPoqGGVkJLAN3S8ZQ8QdKPmXHN8j+O+IKpBsfgZpr0IaXnSY8Yku2/ODodLdIJufRqVNowCvkJBLiwRugR41o1gYfyoM1tzwHJr+UZzz1uM8PovC81h77Q7hr+pEAwXi8w7ZXNhxHvE38flG2bqE/3bG5llC+2sY5Bg6C2R5gq/VGy2na9B7wvO1hrz5OE/tivXYJpgmhng+zHFrlPyroskUzlNMz6hSFZuXhEK8j5p6CbVLqUBnm9y25RFsyj4OjSay0L2oU8x4d9hIdJeNiZ6iZ/lcC1oOmdyFbjgNNbwl3nPmBT7fv6XYhpreg8OBDkUqiAhvNKehXy5DXIyo7MZUj610J0yQ6mTLk5hOViI/zX7Gbp8OH2iegnjr+VsHdJ1DyUnvKhRBDTQiWlynWQYn/TTw+1RfyamO03WQ348orBwZi8eAssYHZCmGzyfR9+9HFz6OanwB3XQo/n4E0Xk1/RFRAvcmNpQ4I5pXzOMEIDsQn4fn3V538yRBH5OlEyVeHzIsqeZKTFBUgc1DnOH4lDJVNynJd8IWplGAxnhIsfDfubh+XmV0Ol6bPRGhGo3m36mMvIrjdLROiwBshVP2Ls/qIQfUGi3zRAavB2Wny1GT76iUHOIBoAOanRHybJJrxht412lXGuhik3HzTKCw0+S1vcmjYabSehgtOyKiVwYe3LiOSf5nBraeretKg7uoHuAptGIdFcVVyW2nI7VhMCWhqcuMtaZMl9FO4Ds/XAAwyhViUJhHqX9csvdsiXYAIVNQy/EYhr82eVL2E9gVgJ8B3J3tcts0LekzdkqUvVt7Sq4XAgJ9hEpsIdJbbI6Oc4wxnsxj8fGg0O4L0XAk5PQnbnKrCmKaxNjRJo/32ywo9UTDteuHWo2iz2l0F1ddiC5xyNa5lNDJksE7O5pmeNlEBTWhze37JNqBKEjsypUrZ+VelnOfMcY4NMFPdTkVDhBTk+rEK3+1Q0iMW4ECHuq6r8lovUJl7CsWvHth8GLR+jcP8a8Z5D4byZH1smU8WnAXntaEFd8n6Jr1Al4VfDdgUqqSKP3hmDe9bLhSOdDpDrTy8OjRwqxsuafrwbyhsytmVVvXW6d0XV+yZMnl48aOPfrh5s2MUnQ+hNbWVvb5itWsKm4Ya7TeyNoKX0He2epuylLM79qDKaOszmj5J55fEU4vOHcuHNYLMCjUK9aS8FoPj9baYCRegHRXCIwRTSOosWu6CdXSwo2phX0mMqWLha7MHJxxDNvskdu3boVlBU+BvcIGRuaEmx64G47fOBrU0kpw/2W10HzdjAcDxed24p4IDRKqO4kqPJLsss3B6mOwSuFmrU7EYkAnwLYqSDU+B6Mwz4aSfpDPDbi+GIPKQhwvx4m1OM2LZmhL8b6R6C5aiNJZPwomTsvnEAXqZWsrX6+Tzfd2ECjd9fW+srsm3cp2/mcn2//Ze4w6KyKPo/wUW/bY46y+X35Em03jZ2CRoL4YplGnWNaHrFJfp8sZGZ4vw6oc3a04lMzn8LkmGBaPlizS6BhyeiyxwiCgbx4NaWBwNAQCtFxD7FjEulzPeR56LiOnwQ3b0ErWvCwIBILKPHWmGM6dK4PiqlLo2JsEDh0Hz1sbHkGFZGv0GHiDdHnvJ0TCvq9Z78L7EwwGTA12zAOaeb3JAxD4QcrnSmiIzx4APYDEQK3FipcLpUQXmxzERSsepJVRyFSMd/O22RRdC9KNKJ8L7n+0EFq9frjt5uv5RxakKsOfC5+A8ztmQ6arPU25X3xTJ8+byS2+BF0qwEBr+RqYSJzILdQbzGZ09tdwfQKubUzylmi1ot+rLMPzUzUlC/ApESSgHq0Mw24AtvtFdXlqa0l9u1CENBLNIhA1P6GP2/k6dqzhpnFMYM8h7T7kN3vhpSNHYP4fZ8LlVjOIqH5ZNkBiYiLYzpwFi1ftRItW1ULAVqJV1xQEf6iLzZUI+Qldrg0ZjwHe+hC2uswdszCiVwGTOQsmZMQ5ge843mNhVOXJeoRelWYxSM0jUOPShMLeqEojTcCETdl0PCcWL6EJ2cnC73XJSGAiBKU2hc7ID/xQpA2udTPYXNMImz74FHLy8sAydBjo9AaoOrcdcuxtYFW7FRNAfywdrQ0I9YbSJIZNXr2TZhyW+1X2Qaq/+HDHPQmufoUOpe0ZHB7EtmhCeJ7XjOgZw5kq+sMCaUJhiWPnFwu0vp9shFDjH8zKRPsQEBxBYgWkcxfVh783GAIUHvfIUMiDk78N9u/dBzOmTYastDFgf/vfEA0IC3sApl2ineDU69S7sdi1Qw9QCg4xFktFvCQ/dpw3uYqq8VXdFV9gkojFJolIyU2MUn2Bw1fx/sxijBaE12RjLC98j4vW9piR7QqAqawB+xsGmdnZcMvkKZrMFWNHwup8E3yRFgvfxkpQoiBL6EfEmnNaOxiLee08LKZ9AciGXqC/IoWa0vZPbb2B5GzzNCUoUgPyYQSJWk+2pJVc36Fuqzdabw1bBjM3r6yP6kaPCHjXfqjdqybMInSQCdJSU+HET+Ww78BR2LH7CEydNg3KmxqhX1wK3LDoIXA2N0Pd9ychKXfIwaD28BteyAsoI5fj61BPTKqCOJTHR0qIEy4ChFwo8fJCQPvlZeT6LoVogIbWODIT8E6TRsPsO9/1piTCmhQ9LE4hYB5/FYy+7gY4fPgwLHp4PtRWV0LGkExQRpih+u310IpJfEBcHOROuJaTWaERI9DakY/emMTPAaEgRSW4GKG0TYRopT0Vu3/51JPA2fDYR2kwN4jCUv+u95pn7dgAgzAwXDHmGshOS4B/vbUS+g2Ih7n3zQFnYyO4G50QFx8HOz/dGiaxCpVSEtJQYzvTQgP0yiQJfptgpLDBaOFd9jf47MJ/OBzAhyflGrshd2IYXwpugmruYAIVun1QSXSXVOImzkA8IeIgfB/hjKF1H/zu2z1rs1yqbt0778Ov45Ohde9hmGtvgbgpCyDpnhlwUyoGzMm3wWfbvwGYNfMI7n0+wiiGcRoKGqJIqnsTCgNKAgS/Xsq4J1h9MMB+lJRjhMZIyb73CtTWSShEbNY+dxL+gaQ7YKQ6gJsnYTU/uP0gsh4F06e89o+l4wpeHJSz5XinPkaMiwUioo4zB8HU2VM349R9uCfSBVS3CUWpCpbBwFaa3KcP9iaUQH0FAaLbhrHIgDx6kaHzWFmUp3lOV0T7SisFhYZyjSEC/aIRDVD/Yp0gbDB56UbopEGyFgXbkj7pN8v8X+4d6z90bDhrwHSjE8Fw2w1O0ZS4j2SkrkW8jV1p8i+8Fbp802Dn6V5dj0OC5ydeqpXDRYImCy/zDYRN94G6e6C75AD0AUINIi82eX/Uhk8VCuOA/wP8F2QYnk+6whGRAAAAAElFTkSuQmCC"})]}):null,f?Object(u.jsx)("div",{className:re?"cart-summary-checkout-button-mobile":"cart-summary-checkout-button-mobile fixed","data-testid":"navigation-checkout-mobile",onClick:function(e){return Ye(e)},children:Object(u.jsxs)(Ot.a,{className:"button redButton cart-summary-checkout-button",ariaLable:"checkout",children:[Object(u.jsx)("span",{children:Object(Se.e)(Q)}),Object(u.jsxs)("span",{children:[o,C]})]})}):Object(u.jsxs)(Ot.a,{className:"button redButton cart-summary-checkout-button","data-testid":"navigation-checkout-desktop",onClick:function(e){return Ye(e)},children:[Object(u.jsx)("span",{children:Object(Se.e)(Q)}),Object(u.jsxs)("span",{children:[o,C]})]})]})};function Iv(e){return Object(u.jsx)(u.Fragment,{children:e&&Object(u.jsx)("div",{className:"cart-summary-discount-lines",children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"discount-error",children:[Object(u.jsx)("img",{className:"discount-error-icon",src:At,alt:"close"}),Object(u.jsx)("span",{children:e})]})})})})}var Tv=function(e){var t=e.contentData,n=void 0===t?[]:t,a=e.isModalOpen,c=Dn.a.PRICECHANGENOTIFICATION,o=Dn.a.OUTOFSTOCKNOTIFICATION,r=Object(i.useState)(!1),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)(0),v=Object(j.a)(b,2),O=v[0],m=v[1];return Object(i.useEffect)((function(){var e=n.filter((function(e){return e.toRemove}));e&&e.length>0?l(!0):l(!1);var t=n.filter((function(e){return e.requireModification}));t&&t.length>0?m(t.length):m(0)}),[n]),Object(u.jsxs)("div",{"data-testid":"cart-notification",children:[d&&!a?Object(u.jsxs)("div",{className:"notify-alert","data-testid":"out-of-stock-notify",children:[Object(u.jsx)(S.a,{srcFile:$t,className:"location-alert-icon"}),Object(Se.e)(o)]}):null,O&&!a?Object(u.jsxs)("div",{className:"notify-alert","data-testid":"price-update-notify",children:[Object(u.jsx)(S.a,{srcFile:$t,className:"location-alert-icon"}),"".concat(O," ").concat(Object(Se.e)(c))]}):null]})},Sv=function(e){var t=e.contentData,n=void 0===t?[]:t,a=e.cartSummary,r=e.addHope,s=e.carryBag,d=e.maxItemCountPerLineItem,l=e.isMobile,b=e.currencySymbol,v=e.isModalOpen,j=e.bucketId,O=Dn.a.CART_FOOD_LIST_ITEM,m=Dn.a.QUANTITY_ACTION,f=Dn.a.ALERT,p=O.EDIT,h=O.REMOVE,g=O.REMOVE_ALL,I=O.ITEM_QUANTITY,T=O.MODIFIER_QUANTITY,C=O.ADD_MORE_MENU,A=Object(x.K)(Object(N.c)((function(e){return e.menuReducer}))).flatResponse,y=(A=void 0===A?{}:A).productMapById,_=void 0===y?{}:y,D=Object(N.c)((function(e){return e.tenantReducer||{}})),R=D.tenantId,w=Object(i.useContext)(E.a),k=w.userOrderState,L=w.userOrderStateDispatch,P=k.cartAlertData,M=Ni(a,R,k.cartItems,_,L,Object(N.b)(),Object(o.f)()),F=M.itemAllRemoveAction,H=M.itemQuantityHandler,B=M.itemRemoveHandler,U=M.itemEditHandler,G=M.itemAllRemoveHandler,Y=M.addMoreMenuHandler,K=M.showCartAlert,V=function(e){var t;return e&&(null===(t=Number(e))||void 0===t?void 0:t.toFixed(2))},W=function(e){var t;return Object(u.jsx)(oe,{header:e.foodName,children:Object(u.jsx)("div",{className:"cart-food-modifier",children:Object(u.jsx)("ul",{children:(null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.length)?e.modifiers.map((function(e){return Object(u.jsx)("li",{children:e})})):null})})})},q=function(e){var t;return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("div",{className:"cart-food-name",children:e.foodName}),Object(u.jsx)("div",{className:"cart-food-modifier",children:Object(u.jsx)("ul",{children:(null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.length)?e.modifiers.map((function(e){return Object(u.jsx)("li",{children:e})})):null})})]})},z=function(e){return e?"unavailable-image cart-food-image":"cart-food-image"},Q=function(e){return e?"outofstock cart-highlight cart-food-item-container":"cart-food-item-container"},J=function(e,t){var n;return Object(u.jsxs)("div",{className:"cart-food-quantity-price ".concat(Object(x.lb)(0===(null===(n=e.modifiers)||void 0===n?void 0:n.length),"empty-mods-quantity-price","")," \n      ").concat(t&&"coupon-item-quantity-price"),children:[Object(x.lb)(!t&&!e.toRemove,Object(u.jsx)(as,{itemCount:e.quantity,itemQuantity:I,updateItemQuantity:H,quantityAction:m,item:e,itemName:e.foodName,maxItemCountPerLineItem:d,cartItemCount:1,hideChild:!0}),null),e.toRemove||e.requireModification?null:Object(u.jsxs)("div",{className:"cart-food-price",children:[b,V(e.cartPrice)]}),!e.toRemove&&e.requireModification?Object(u.jsxs)("div",{className:"cart-food-price",children:[Object(u.jsxs)("span",{className:"old-price",children:[b,V(e.cartPrice)]}),Object(u.jsxs)("span",{className:"modified-price",children:[b,V(e.menuPrice)]})]}):null]})};return Object(u.jsxs)(c.a.Fragment,{children:[l?null:Object(u.jsx)("div",{className:"cart-notification",children:Object(u.jsx)(Tv,{contentData:n,isModalOpen:v})}),Object(u.jsxs)("div",{className:"cart-food-container","data-testid":"cart-food-item-test",children:[Object(u.jsx)("div",{className:"cart-discount-errors",children:Object(u.jsx)("div",{className:"cart-food-discount-lines",children:(null===k||void 0===k?void 0:k.couponErrorMessage)&&Object(u.jsxs)("div",{className:"discount-error",children:[Object(u.jsx)("img",{className:"discount-error-icon",src:At,alt:"close"}),Object(u.jsx)("span",{children:null===k||void 0===k?void 0:k.couponErrorMessage})]})})}),l&&Object(u.jsx)("div",{className:"cart-offers-mobile",children:Object(u.jsx)(Rn,{bucketId:j})}),n&&n.filter((function(e){var t=e.name;return t!==r&&t!==s})).map((function(e){var t=e.discountComponents,n=(null===t||void 0===t?void 0:t.length)>0;return console.log("Food List",e),l?Object(u.jsxs)("div",{className:Q(e.toRemove),children:[Object(u.jsx)("div",{className:"cart-food-edit-container",children:e.toRemove?Object(u.jsxs)("div",{"data-testid":"outofstock-text",className:"outofstock-text",children:[Object(u.jsx)(S.a,{srcFile:$t,className:"location-alert-icon"}),Object(u.jsx)("span",{children:Object(Se.e)("unavailable")})]}):null}),Object(u.jsxs)("div",{className:"image-cart-content",children:[Object(u.jsx)(S.a,{defaultPath:Object(x.S)(null,D,!0),srcFile:e.imageData.src,altText:" ",className:z(e.toRemove)}),Object(u.jsxs)("div",{className:"cart-food-content",children:[e.modifiers.length>T?W(e):q(e),!n&&e.customizable&&Object(u.jsx)("span",{className:"cart-food-edit","data-testid":"cart-food-edit",onClick:function(){return U(e)},children:Object(Se.e)(p)}),!n&&Object(u.jsx)("span",{className:"cart-food-remove","data-testid":"cart-food-remove",onClick:function(){return B(e)},children:Object(Se.e)(h)})]})]}),J(e,n)]},e.foodItemId):Object(u.jsxs)("div",{className:Q(e.toRemove),children:[Object(u.jsx)(S.a,{defaultPath:Object(x.S)(null,D,!0),srcFile:e.imageData.src,altText:e.imageData.altText,className:z(e.toRemove)}),Object(u.jsxs)("div",{className:"cart-food-content-parent",children:[Object(u.jsxs)("div",{className:"cart-food-content row",children:[e.modifiers.length>T?W(e):q(e),e.toRemove&&Object(u.jsxs)("div",{"data-testid":"outofstock-text",className:"outofstock-text",children:[Object(u.jsx)(S.a,{srcFile:$t,className:"location-alert-icon"}),Object(u.jsx)("span",{className:"outoftext-span",children:Object(Se.e)("unavailable")})]})]}),Object(u.jsxs)("div",{className:"cart-action-price-quantity row",children:[Object(u.jsxs)("div",{children:[Object(x.lb)(!n&&!e.toRemove&&e.customizable,Object(u.jsx)("span",{className:"cart-food-edit","data-testid":"cart-food-edit",onClick:function(){return U(e)},children:Object(Se.e)(p)}),null),!n&&Object(u.jsx)("span",{tabindex:"0","aria-label":"do you want to remove the above itams",className:"cart-food-remove","data-testid":"cart-food-remove",onClick:function(){return B(e)},children:Object(Se.e)(h)})]}),J(e,n)]})]})]},e.foodItemId)})),Object(u.jsxs)("div",{className:"cart-food-remove-container",children:[Object(u.jsx)("span",{tabindex:"0","aria-label":"Remove all products",className:"cart-food-remove-all","data-testid":"remove-all-btn",onClick:G,children:Object(Se.e)(g)}),Object(u.jsx)(Ot.a,{className:"button  whiteButton blackBorder add-more-menu",ariaLable:"add more menu",onClickHandler:Y,"data-testid":"add-more-menu",children:Object(Se.e)(C)})]}),(null===P||void 0===P?void 0:P.showCartAlert)&&Object(u.jsx)(Ti,{classNames:"",handleClose:function(){return K(!1)},CartAlertForm:Object(u.jsx)(xi,{title:Object(Se.e)(f.REMOVE_ALL_MSG),confirmButtonText:Object(Se.e)(f.REMOVE_ALL),cancelButtonText:Object(Se.e)(f.CANCEL),cancelHandler:function(){return K(!1)},confirmHandler:function(){return F(n)}})})]})]})},Cv=n.p+"static/media/Call_Icon.95900156.svg",Av=n.p+"static/media/Mail_Icon.3eaa02d7.svg",yv=function(e){var t=e.faqAndContactData,n=void 0===t?{}:t,a=e.isMobile,i=n.faqData,c=void 0===i?{}:i,o=n.contactData,r=void 0===o?{}:o,s=Dn.a.CART_FAQ_HEADER;return Object(u.jsxs)("div",{className:"cart-faq-container","data-testid":"cart-faq-test",children:[(null===c||void 0===c?void 0:c.faqButtonText)&&Object(u.jsxs)("div",{className:"cart-faq-header-container",children:[Object(u.jsx)("h2",{className:"cart-faq-header",children:Object(Se.e)(s)}),Object(u.jsx)("div",{className:"cart-faq-list",children:c.faqContent&&c.faqContent.map((function(e,t){return t<3?Object(u.jsx)("div",{className:"cart-accordian-container",children:Object(u.jsx)(oe,{header:e.question,children:Object(u.jsx)("div",{className:"cart-accordian-content",children:e.answer})})},t):null}))}),Object(u.jsx)(Ot.a,{className:"button  whiteButton blackBorder faq-view-all",onClickHandler:function(){e.history.push({pathname:"/faq"})},"data-testid":"view-all-btn","aria-label":Object(Se.e)("viewallFaqs"),children:c.faqButtonText})]}),Object(u.jsxs)("div",{className:"cart-faq-contact-header-container",children:[Object(u.jsx)("h2",{className:"cart-faq-contact-header",children:r.headline}),Object(u.jsxs)("div",{className:"cart-faq-contact-content",children:[Object(u.jsx)("a",{href:"tel: 080-4275-4444",className:"anchorTags",tabIndex:"-1",children:Object(u.jsxs)(Ot.a,{className:"button  whiteButton blackBorder call-contact-button","aria-label":Object(Se.e)("callUs"),children:[Object(u.jsx)("img",{src:Cv,alt:" "}),Object(u.jsx)("span",{className:"contact-text",children:a?"Call Us":r.callButtonText})]})}),Object(u.jsxs)(Ot.a,{className:"button  whiteButton blackBorder mail-contact-button",onClickHandler:function(){e.history.push({pathname:"/contactus"})},"data-testid":"contact-us-button","aria-label":Object(Se.e)("contactUs"),children:[Object(u.jsx)("img",{src:Av,alt:" "}),Object(u.jsx)("span",{className:"contact-text",children:r.mailButtonText})]})]})]})]})},_v=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.currencySymbol,c=void 0===a?"":a,o=e.currencyConversionFactor,r=void 0===o?"":o,s=e.addHope,d=void 0===s?"":s,l=e.carryBag,b=void 0===l?"":l,v=e.isModalOpen,O=e.confirmChangesHandler,m=e.tenantId,f=void 0===m?"":m,p=e.maxItemCountPerLineItem,h=e.faqAndContactData,g=void 0===h?{}:h,N=e.dispositionData,E=void 0===N?{}:N,I=n.cartList,T=void 0===I?[]:I,S=n.cartSummary,C=void 0===S?{}:S,A=n.bucketId,y=void 0===A?"":A,_=Object(i.useState)(Object(x.Hb)(window.innerWidth)),D=Object(j.a)(_,2),R=D[0],w=D[1],k=function(){var e=Object(x.Hb)(window.innerWidth);w(e)};Object(i.useEffect)((function(){window.addEventListener("resize",k)}),[R]);return R?Object(u.jsxs)("div",{className:"cart-page-container-mobile","data-testid":"cart-page-mobile-test",children:[Object(u.jsx)("div",{className:"cart-header-container-mobile",isMobile:!0,children:Object(u.jsx)(gv,{})}),Object(u.jsx)("div",{className:"cart-notification",children:Object(u.jsx)(Tv,{contentData:T,isModalOpen:v})}),Object(u.jsx)("div",{className:"cart-content-container-mobile",children:Object(u.jsx)(Sv,{contentData:T,isMobile:!0,currencySymbol:c,addHope:d,carryBag:b,maxItemCountPerLineItem:p,cartSummary:C,bucketId:y})}),C.recommendedItems.length>0&&Object(u.jsx)("div",{className:"cart-addon-container-mobile",children:Object(u.jsx)(Cd,{isMobile:!0,IndulgentData:C.recommendedItems})}),Object(u.jsx)("div",{className:"cart-summary-card-mobile",children:Object(u.jsx)(Ev,{contentData:C,currencySymbol:c,currencyConversionFactor:r,addHope:d,carryBag:b,isMobile:!0,confirmChangesHandler:O,tenantId:f,bucketId:y,dispositionData:E})}),Object(u.jsx)("div",{className:"cart-faq-container-mobile",children:Object(u.jsx)(yv,{faqAndContactData:g,isMobile:!0,history:e.history})})]}):Object(u.jsxs)("div",{className:"cart-page-container-desktop","data-testid":"cart-page-desktop-test",children:[Object(u.jsx)("div",{className:"cart-header-container-desktop",isMobile:!1,children:Object(u.jsx)(gv,{})}),Object(u.jsxs)("div",{className:"cart-content-container-desktop",children:[Object(u.jsx)("div",{className:"cart-content-foodItemList",children:Object(u.jsx)(Sv,{contentData:T,isMobile:!1,currencySymbol:c,addHope:d,carryBag:b,maxItemCountPerLineItem:p,cartSummary:C,bucketId:y})}),Object(u.jsx)(Ev,{contentData:C,currencySymbol:c,currencyConversionFactor:r,addHope:d,carryBag:b,isMobile:!1,confirmChangesHandler:O,tenantId:f,bucketId:y,dispositionData:E})]}),C.recommendedItems.length>0&&Object(u.jsx)("div",{className:"cart-addon-container-desktop",children:Object(u.jsx)(Cd,{isMobile:!1,IndulgentData:C.recommendedItems})}),Object(u.jsx)("div",{className:"cart-faq-container-desktop",children:Object(u.jsx)(yv,{faqAndContactData:g,isMobile:!1,history:e.history})})]})},Dv=n.p+"static/media/empty_cart.32f17a45.png",Rv=Dn.a.EMPTY_CART;var wv=function(){var e=Object(o.f)();return Object(u.jsxs)("div",{className:"cart-empty-placeholder cart-empty-root",children:[Object(u.jsxs)("div",{className:"cart-empty-placeholder-view",children:[Object(u.jsx)("span",{className:"cart-empty-placeholder-text",children:Object(Se.e)(Rv.PLACEHOLDER_TEXT)}),Object(u.jsx)(Ot.a,{className:"button redButton start-order-btn cart-empty-placeholder-button","aria-label":Object(Se.e)(Rv.START_ORDER),onClickHandler:function(){e.push({pathname:"/menu"})},id:"startOrderItemButton",type:"submit","data-testid":"empty-cart-start-order-button",children:Object(u.jsx)("span",{children:Object(Se.e)(Rv.START_ORDER)})})]}),Object(u.jsx)(S.a,{className:"cart-empty-img",srcFile:Dv,altText:""})]})},kv=n.p+"static/media/heart_icon_inactive_black.6fdb2766.svg",Lv=Ae.a.ADD_TO_CART_CLICK,Pv=Ae.a.MINI_PDP_DATA,Mv=Ae.a.FROMFLAGPLP,Fv=Ae.a.EDIT_CLICKED,Hv=Dn.a.RECOMENDATIONS,Bv=Hv.SLIDES_TO_SCROLL,Uv=Hv.SLIDES_TO_SHOW,Gv=Hv.ADD_TO_CART,Yv=Fe,Kv=bi.a.RESET_MODGROUP_IDS_UPDATE,Vv=function(e){var t=Object(Se.e)(Gv),n="",a=!0;return(null===e||void 0===e?void 0:e.isStoreNone)?(t="Store Closed",n="no-store-selected",a=!1):(null===e||void 0===e?void 0:e.isStoreClosed)&&(t="Store Closed",n="store-closed",a=!1),{btnText:t,className:n,enabled:a}},Wv=function(e,t,n,a){return e?"".concat(function(e,t){var n,a="button activeBtn";switch(a+=t?" blackButton":" redButton",e){case Yv.LARGE:n="menu-cart-button";break;case Yv.MEDIUM:n="medium-menu-cart-button";break;case Yv.SMALL:n="small-menu-cart-button";break;case Yv.CAROUSAL:n="carousal-menu-cart-button";break;default:n=""}return"".concat(a," ").concat(n)}(t,n)," ").concat(Vv(a).className):"button btn-black medium-menu-cart-button"},qv=function(e){var t=e.saveProduct,n=e.favItems,a=e.item;return Object(u.jsx)(S.a,{srcFile:Object(x.r)(Array.isArray(n),null===n||void 0===n?void 0:n.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===a||void 0===a?void 0:a.id)})))?_s:kv,alt:"add to favourite",className:"recomendation-item-save",onClick:t,"data-testid":"add-to-fav-image"})},zv=function(e){var t=e.item,n=e.tenantData,a=e.storeClosedData,c=Object(i.useContext)(E.a),o=c.userOrderState,r=c.userOrderStateDispatch,s=Object(i.useState)(!0),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(i.useState)(null),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(""),h=Object(j.a)(p,2),g=h[0],I=h[1],T=Object(i.useState)(0),C=Object(j.a)(T,1)[0],A=Object(N.b)(),y=Object(x.sb)(JSON.parse(localStorage.getItem("currentStoreInfo"))),_=Object(N.c)((function(e){var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),D=Object(N.c)((function(e){return e.cartReducer})),R=Object(x.sb)(D).isAddItemLoading,w=void 0!==R&&R,k=t.customizable,L=Object(N.c)((function(e){var t;return Object(x.vb)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),P=Object(N.c)((function(e){var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),M=null===P||void 0===P?void 0:P.id,F=Object(i.useState)(Object(x.Hb)(window.innerWidth)),H=Object(j.a)(F,2),B=H[0],U=H[1],G=function(){var e=Object(x.Hb)(window.innerWidth);U(e)};Object(i.useEffect)((function(){window.addEventListener("resize",G)}),[B]);var Y=function(e,t,n){A(Object(ui.a)({tenantId:e,customerId:n},t))},K=function(){var e=Object(be.a)(ue.a.mark((function e(t,a,i,c){var o,r,s;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(x.tb)(null===(o=i[0])||void 0===o?void 0:o.price),s={mdmId:a.mdmId,id:a.id,name:a.name,imageName:a.imageName,description:a.longDescription,quantity:1,isCustomized:a.customizable,price:r/(null===n||void 0===n?void 0:n.currencyConversionFactor),additionalProperties:a.additionalProperties},e.next=4,Y(t,s,c);case 4:return e.next=6,A(Object(St.t)({showProductListingModal:!1,categorySelected:""}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),V=function(e,t,n){!function(e,t,n){A(Object(ui.b)({tenantId:e,customerId:t,itemId:n}))}(e,t,n.id)};Object(i.useEffect)((function(){b(!0)}),[C]);var W=Object(N.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((function(){Object(x.nb)(W,o)&&A(Object(St.t)({showProductListingModal:!0,categorySelected:g}))}),[W]);var q=t.id,z=null,Q=w&&m===q,J=n.currencyConversionFactor,X=void 0===J?1:J,Z=n.currencySymbol,$=void 0===Z?"":Z,ee=n.tenantId,te=void 0===ee?"":ee,ne=t.name,ae=void 0===ne?"":ne,ie=t.availability,ce=t.shortDescription,oe=t.imageName,re=ce?ce[0].value:"";return Object(u.jsxs)("div",{className:"recomendation-item-container",children:[Object(u.jsx)(S.a,{"data-testid":"recomendation-item-img",className:"recomendation-item-img",defaultPath:Object(x.S)(null,n,!0),srcFile:Object(x.S)(oe,n)}),B?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"recomendation-item-header",children:Object(u.jsx)("span",{className:"recomendation-item-name",children:ae})}),Object(u.jsx)("span",{className:"recomendation-item-desc",children:re}),Object(u.jsxs)("div",{className:"recomendation-item-serving-conatiner",children:[Object(u.jsxs)("span",{className:"recomendation-item-price",children:[$,Object(x.gb)(ie[0],X)]}),Object(u.jsx)("span",{className:"recomendation-item-serving",children:"Non veg \u2022 Serves 4"})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"recomendation-item-header",children:[Object(u.jsx)("span",{className:"recomendation-item-name",children:ae}),Object(u.jsxs)("span",{className:"recomendation-item-price",children:[$,Object(x.gb)(ie[0],X)]})]}),Object(u.jsxs)("div",{className:"recomendation-item-serving-conatiner",children:[Object(u.jsx)("img",{className:"recomendation-item-serving-type",src:Ss,alt:""}),Object(u.jsx)("span",{className:"recomendation-item-serving",children:"Non veg \u2022 Serves 4"})]}),Object(u.jsx)("span",{className:"recomendation-item-desc",children:re})]}),Object(u.jsxs)("div",{className:"recomendation-item-actions",children:[Object(u.jsxs)(Ot.a,{tabIndex:"1",className:Wv(l,"medium",Q,a),"data-testid":"add-to-cart-".concat(q),disabled:ps(a),onClickHandler:function(e){Vv(a).enabled&&function(e,t,a,i,c,o){var s,d,l,u;if(e&&e.stopPropagation(),f(t),_.localized){if(a)I(i),r({type:Pv,value:{id:t,flag:Mv,foodLineId:""}}),r({type:Kv}),r({type:Fv,value:{cartEditClicked:!0}}),A(Object(ui.c)({tenantId:n.tenantId,catalogName:null===y||void 0===y||null===(s=y.summary)||void 0===s||null===(d=s.menu)||void 0===d?void 0:d.catalogs[0],itemId:t}));else if(0===c){var b;A(Object(St.a)({params:{basketId:null===D||void 0===D||null===(b=D.cartData)||void 0===b?void 0:b.id},tenantId:n.tenantId},[{Id:t,categoryId:z,quantity:c+1,modGrps:[]}])),A(Object(St.s)(new Date))}}else r({type:Lv,value:{addToCart:!0,productItemId:t,categoryId:z,oldProduct:o,customizable:a,catalogs:null===y||void 0===y||null===(l=y.summary)||void 0===l||null===(u=l.menu)||void 0===u?void 0:u.catalogs[0],fromPdpPage:!1}})}(e,q,k,z,C,{productName:t.dname,productImage:oe,productPrice:Object(x.gb)(ie[0],null===n||void 0===n?void 0:n.currencyConversionFactor)}),e.preventDefault(),e.stopPropagation()},"aria-label":Vv(a).btnText,children:[Vv(a).btnText,Object(x.j)(a.isStoreClosed)]}),(null===_||void 0===_?void 0:_.loggedin)&&Object(u.jsx)(qv,{saveProduct:function(){Object(x.r)(Array.isArray(L),null===L||void 0===L?void 0:L.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)})))?V(te,M,t):K(te,t,ie,M)},favItems:L,item:t})]})]})},Qv=function(e){var t,n=e.recommendRules,a=e.storeClosedData;n=null===(t=n)||void 0===t?void 0:t.filter((function(e){return void 0!==e.name}));var o=Object(N.c)((function(e){return e.tenantReducer})),r=Object(i.useState)(0),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useState)(0),v=Object(j.a)(b,2),O=v[0],m=v[1],f=Object(i.useState)(Object(x.Hb)(window.innerWidth)),p=Object(j.a)(f,2),h=p[0],g=p[1],E=function(){var e=Object(x.Hb)(window.innerWidth);g(e)};Object(i.useEffect)((function(){window.addEventListener("resize",E)}),[h]);var I,S,C,A,y=c.a.useRef(null);return Object(u.jsxs)("div",{className:"cart-recomendations-list-container-root",children:[Object(u.jsx)("div",{className:"cart-recomendations-list-container",children:n.length&&Object(u.jsx)(Wo,{settings:(I=function(){if(d<n.length-1){var e=0;e=d+Bv>n.length-Uv-1?n.length-Uv:d+Bv,l(e),y.current.slickGoTo(e)}return!0},S=function(){return d>0&&(l(d-Bv),y.current.slickGoTo(d-Bv)),!0},C=m,A=l,{dots:!1,infinite:!1,speed:500,slidesToShow:Uv,slidesToScroll:Bv,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(u.jsx)(Tr,{clickNextCard:I}),prevArrow:Object(u.jsx)(Sr,{clickPrevCard:S}),beforeChange:function(e,t){return C(t)},afterChange:function(e,t){return A(e)},variableWidth:!0,responsive:T.g}),carousalRef:y,children:n.map((function(e){return Object(u.jsx)(zv,{item:e,tenantData:o,storeClosedData:a})}))})}),!h&&Object(u.jsx)("div",{className:"cart-recomendations-slideContainer",children:Object(u.jsx)("input",{className:"cart-recomendations-slider",type:"range",min:"0",max:n.length-Uv,value:O,id:"myRange",onChange:function(e){m(e.target.value),y.current.slickGoTo(e.target.value)}})})]})},Jv=function(e){var t=e.storeClosedData,n=e.recommendedProducts,a=null===n||void 0===n?void 0:n.filter((function(e){return!e.isHidden}));return Boolean(null===a||void 0===a?void 0:a.length)&&Object(u.jsxs)("div",{className:"cart-recomendations-container",children:[Object(u.jsx)("span",{className:"cart-recomendations-title",children:Object(Se.e)(Dn.a.EMPTY_CART.SUGGESTION_TEXT)}),Object(u.jsx)(Qv,{recommendRules:a,storeClosedData:t})]})},Xv=function(e,t){return"".concat(t,e?"-mobile":"-desktop")},Zv=function(e,t,n,a,i,c,o){return Qi(e,t,n,null===a||void 0===a?void 0:a.isAvailable,1===(null===i||void 0===i?void 0:i.length)&&(null===c||void 0===c?void 0:c.toUpperCase())===Ze,o)},$v=function(e){var t,n,a=e.contentData,c=void 0===a?{}:a,o=e.faqAndContactData,r=void 0===o?{}:o,s=c.tenantId,d=c.country,l=Object(i.useState)(Object(x.Hb)(window.innerWidth)),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useContext)(E.a).userOrderState,f=Object(i.useState)(!1),p=Object(j.a)(f,2),h=p[0],g=p[1],I=Object(N.c)((function(e){return e.menuReducer||{}})).recommendedProducts,T=Object(i.useMemo)((function(){return Object(x.Ab)(m.currentStoreInfo)?Object(x.b)(localStorage.getItem("currentStoreInfo")):m.currentStoreInfo}),[m.currentStoreInfo]),S=Object(x.sb)(null===T||void 0===T||null===(t=T.summary)||void 0===t?void 0:t.timings),C=S.futureDates,A=S.scheduled,y=S.asap,_=Object(x.sb)(A).unavailibilities,D=Object(x.sb)((null===A||void 0===A||null===(n=A.periods)||void 0===n?void 0:n.length)&&(null===A||void 0===A?void 0:A.periods[0])),R=D.interval,w=void 0===R?0:R,k=D.startEndTime,L=void 0===k?{}:k,P=L.from,M=L.to,F=Object(i.useCallback)((function(){if(Object(x.Bb)(T)){var e,t,n=null===(e=T.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,a=Zv(P,M,w,y,C,d,_);"CLOSED"!==n||a.length?g(!1):g(!0)}else g(!1)}),[T]),H=function(){var e=Object(x.Hb)(window.innerWidth);O(e)};return Object(i.useEffect)((function(){window.addEventListener("resize",H)}),[v]),Object(i.useEffect)((function(){F()}),[F]),Object(u.jsxs)("div",{className:Xv(v,"cart-page-container"),children:[Object(u.jsx)("div",{className:Xv(v,"cart-header-container"),isMobile:!1,children:Object(u.jsx)(gv,{})}),Object(u.jsx)("div",{className:Xv(v,"cart-content-container"),children:Object(u.jsx)(wv,{tenantId:s})}),Object(u.jsx)(Jv,{contentData:c,storeClosedData:{isStoreClosed:h},recommendedProducts:I}),Object(u.jsx)("div",{className:Xv(v,"cart-faq-container"),children:Object(u.jsx)(yv,{faqAndContactData:r,isMobile:!1,history:e.history})})]})},ej=function(e){var t,n,a,c,o,r=e||{},s=r.contentData,d=void 0===s?{}:s,l=r.cartListContent,b=r.isModalOpen,v=r.confirmChangesHandler,j=r.dispositionData,O=d.cartReducer,m=d.tenantReducer,f=d.segmentedHelpData,p=Object(x.y)(window.innerWidth),h={};O&&O.cartData&&l.length&&(h=Object(li.c)(O.cartData,l,null===m||void 0===m?void 0:m.tenantId,null===m||void 0===m?void 0:m.currencyConversionFactor,null===m||void 0===m?void 0:m.addHope,null===m||void 0===m?void 0:m.carryBag,p,null===m||void 0===m?void 0:m.country));var g=Object(i.useContext)(E.a).userOrderStateDispatch;return Object(i.useEffect)((function(){var e,t;0===(null===O||void 0===O||null===(e=O.cartData)||void 0===e||null===(t=e.discountLines)||void 0===t?void 0:t.length)&&(g({type:_t.n,value:{couponErrorMessage:""}}),localStorage.removeItem("expiryMessage"))}),[null===(t=h)||void 0===t||null===(n=t.cartSummary)||void 0===n?void 0:n.quantity]),Object(i.useEffect)((function(){var e,t,n,a,i,c;(null===(e=h)||void 0===e||null===(t=e.cartSummary)||void 0===t||null===(n=t.discountAmounts[0])||void 0===n?void 0:n.isError)&&(g({type:_t.n,value:{couponErrorMessage:_t.e+(null===(a=h)||void 0===a||null===(i=a.cartSummary)||void 0===i||null===(c=i.discountAmounts[0])||void 0===c?void 0:c.errorMessages)}}),localStorage.removeItem("expiryMessage"))}),[null===(a=h)||void 0===a||null===(c=a.cartSummary)||void 0===c?void 0:c.discountAmounts]),h.cartList?Object(u.jsx)(_v,(o={contentData:h,isModalOpen:b,currencySymbol:m.currencySymbol,currencyConversionFactor:m.currencyConversionFactor,addHope:m.addHope,carryBag:m.carryBag,confirmChangesHandler:v,faqAndContactData:f,tenantId:null===m||void 0===m?void 0:m.tenantId},Object(Re.a)(o,"currencyConversionFactor",null===m||void 0===m?void 0:m.currencyConversionFactor),Object(Re.a)(o,"maxItemCountPerLineItem",null===m||void 0===m?void 0:m.maxItemCountPerLineItem),Object(Re.a)(o,"isModalOpen",!1),Object(Re.a)(o,"dispositionData",j),Object(Re.a)(o,"history",e.history),o)):Object(u.jsx)($v,{contentData:h,faqAndContactData:f,history:e.history})},tj={FROMCONFIRM:"FROMCONFIRM"},nj=function(e){var t=e.unavailableItems,n=e.priceChangedItems,c=e.confirmChangesHandler,o=e.discardChangesHandler,r=Object(i.useContext)(E.a),s=r.userOrderState,d=r.userOrderStateDispatch,l=Fb.contentData,b=void 0===l?{}:l,v=tj.FROMCONFIRM,j=void 0===v?"":v,O=Object(x.Ab)(s.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):s.dispositionNew,m=Object(x.Ab)(s.dispositionOld)?JSON.parse(localStorage.getItem("dispositionOld")):s.dispositionOld,f=b.modalContent,p=void 0===f?{}:f,h=Ae.a.CART_STATES_DATA,g=Ae.a.SET_DISPOSITION,N=Ae.a.DISPOSITION_METHOD,I=Ae.a.SCHEDULE_ORDER_DATA,T=Ae.a.SCHEDULE_ORDER_TIME_DATA,S=function(){var e,t;d({type:g,value:{oldvalue:m,newValue:Object(a.a)({},m)}});var n=m||{},i=n.store,c=n.type,r=n.date,s=n.time,l=n.interval,u=n.deliveryAddress;o(i,c,null===i||void 0===i||null===(e=i.summary)||void 0===e||null===(t=e.menu)||void 0===t?void 0:t.catalogs[0]),d({type:N,value:{dispositionType:c}}),d({type:I,value:{showScheduleOrder:!1,selectedStoreInfo:i,deliveryAddress:u}});var b={time:s,interval:l,date:r};d({type:T,value:{selectedDateTime:b}}),localStorage.setItem("dispositionType",c),localStorage.setItem("storeInfo",i),localStorage.setItem("dateTimeOrder",JSON.stringify(b)),localStorage.setItem("dispositionOld",JSON.stringify(m)),localStorage.setItem("dispositionNew",JSON.stringify(m)),d({type:h,value:{showCartModal:!1}})},C=Object(u.jsx)(Hb,{modalContent:p,onCartStatesMethodSubmit:function(e,t){e.stopPropagation(),e.preventDefault(),"discardChanges"===t?S():(d({type:g,value:{oldvalue:O,newValue:Object(a.a)({},O)}}),localStorage.setItem("dispositionOld",JSON.stringify(O)),localStorage.setItem("dispositionNew",JSON.stringify(O)),d({type:h,value:{showCartModal:!1}}),c(j))},unavailableItems:t,priceChangedItems:n});return Object(u.jsx)(Bb,{handleClose:function(e){e.stopPropagation(),e.preventDefault(),S()},CartStatesModuleForm:C})},aj={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"},ij=function(e){var t,n,a,r,s,d,l,b=Object(i.useContext)(E.a),v=b.userOrderState,O=b.userOrderStateDispatch,f=Object(o.f)(),g=Object(N.b)(),T=Object(N.c)((function(e){return e.tenantReducer})),S=Object(N.c)((function(e){return e.cartReducer})),C=Object(N.c)((function(e){return e.profileReducer})),A=S||{},y=A.cartData,_=void 0===y?{}:y,D=A.isValidated,R=void 0!==D&&D,w=A.isValidateBasketSuccess,k=void 0!==w&&w,L=A.showProductListingModal,P=void 0!==L&&L,M=A.qrCodeScanTime,F=(_||{}).validationResult,H=void 0===F?{}:F,B=Object(x.K)(Object(N.c)((function(e){return e.menuReducer}))),U=B.flatResponse,G=(U=void 0===U?{}:U).itemMapById,Y=void 0===G?{}:G,K=B.isLoading,V=void 0!==K&&K,W=B.currentItemDetails,q=void 0===W?{}:W,z=T||{},Q=z.tenantId,J=z.currencyConversionFactor,X=z.currencySymbol,Z=Ae.a.CART_STATES_DATA,$=Ae.a.DISPOSITION_CHANGED_FLAG,ee=Ae.a.STORE_CHANGED_FLAG,te=tj.FROMCONFIRM,ne=Object(i.useState)([]),ae=Object(j.a)(ne,2),ie=ae[0],ce=ae[1],oe=Object(i.useState)(!1),re=Object(j.a)(oe,2),se=re[0],de=re[1],le=Object(i.useState)([]),ve=Object(j.a)(le,2),je=ve[0],Oe=ve[1],me=Object(i.useState)([]),fe=Object(j.a)(me,2),pe=fe[0],he=fe[1],ge=Object(i.useState)([]),Ne=Object(j.a)(ge,2),xe=Ne[0],Ee=Ne[1],Ie=Object(i.useState)(!1),Te=Object(j.a)(Ie,2),Se=Te[0],Ce=Te[1],ye=Object(i.useState)(null),_e=Object(j.a)(ye,2),De=_e[0],Re=_e[1],we=Object(N.c)((function(e){return e.appStateReducer.userStatus})),ke=He,Le=Object(x.Ab)(v.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):v.dispositionNew,Pe=Object(x.Ab)(v.dispositionOld)?JSON.parse(localStorage.getItem("dispositionOld")):v.dispositionOld,Me=Le||{},Fe=(Me.date,Me.time,Me.store),Be=Object(o.g)(),Ue=Fe&&Fe.summary&&Fe.summary.menu&&Fe.summary.menu.catalogs&&Fe.summary.menu.catalogs.length&&Fe.summary.menu.catalogs[0]||(null===T||void 0===T?void 0:T.genericMenuName)||"",Ge=null,Ye=null,Ke=null,Ve=null;Object(i.useEffect)((function(){var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]);var We=Object(N.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),tenantReducerContent:m.a.get(e,"tenantReducer",null),helpReducerContent:m.a.get(e,"helpReducer",null)}}));if(We.marketPageContent&&We.tenantReducerContent&&We.homePageContent&&We.helpReducerContent){Ge=Object(x.vb)(Object(x.V)(We.homePageContent));var qe=Object(x.sb)(We.marketPageContent.headerData),ze=qe.header,Qe=void 0===ze?{}:ze,Je=qe.tenant,Xe=void 0===Je?[]:Je,Ze=qe.footer,$e=void 0===Ze?{}:Ze;Ye=Object(x.W)(Qe),Ke=Object(x.O)($e),Object(x.jb)(Xe),Ve=Object(x.vb)(Object(x.M)(We.helpReducerContent))}var et=Object(i.useMemo)((function(){var e;return{tenantReducer:T,cartReducer:S,segmentedHelpData:Ve,storeInfo:Le&&Le.store||{},dispositionType:Le&&Le.type?Object(x.I)(Le.type):Object(x.I)(null===(e=T.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[S,Le,Ve,T]);Object(i.useEffect)((function(){P&&g(Object(St.t)({showProductListingModal:!1,categorySelected:""}))}),[Be]),Object(i.useEffect)((function(){q&&v.cartEditClicked&&v.minipdpData.itemId===q.id&&g(Object(St.t)({showProductListingModal:!0,categorySelected:""}))}),[q,v.minipdpData.itemId,v.cartEditClicked]),Object(i.useEffect)((function(){var e=function(e,t,n){return!(!(null===e||void 0===e?void 0:e.id)||!t||n||!wr.e)}(_,Q,De);if(e){var t,n={basketId:_.id};g(Object(St.c)({tenantId:Q,basketId:n.basketId})),g(Object(ui.d)({tenantId:Q,catalogName:Ue},{storeId:null===(t=et.storeInfo)||void 0===t?void 0:t.id,channel:ke,service:et.dispositionType})),Re(!0)}}),[wr.e,g,Q,null===_||void 0===_?void 0:_.id,Ue,et.dispositionType,null===(t=et.storeInfo)||void 0===t?void 0:t.id,null===S||void 0===S||null===(n=S.cartData)||void 0===n?void 0:n.id,ke,De]),Object(i.useEffect)((function(){g(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ya.b.channel,include:"5"},userParams:we})),g(Object(hv.a)({object:Object(I.a)(),contentFull:{content_type:"supportContent",select:"sys.id,fields","fields.title":"CartFAQ",include:"5"}})),g(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===T||void 0===T?void 0:T.country,"fields.channel":ya.b.channel,include:5}}))}),[g,null===T||void 0===T?void 0:T.country,we]),Object(i.useEffect)((function(){var e;if(null===(e=v.dispositionNew)||void 0===e?void 0:e.type){var t,n={channel:"web",service:Object(x.I)(null===(t=v.dispositionNew)||void 0===t?void 0:t.type)};g(Object(ui.e)(n))}}),[g,v.dispositionNew]);var tt=JSON.stringify(Le);Object(i.useEffect)((function(){Ce(!1);var e=v.dispositionStateData.showDisposition,t=v.searchStoreData.showSearchStore,n=v.scheduleOrderData.showScheduleOrder;if(!e&&!t&&!n&&Le&&!Object(x.Cb)(Pe,Le)){var a,i,c=Le.type,o=Le.store,r=Le.date,s=Le.time;if(we.localized&&""!==c&&""!==o&&""!==r&&""!==s)Ce(!0),g(Object(ui.d)({tenantId:Q,catalogName:Ue},{storeId:null===Le||void 0===Le||null===(a=Le.store)||void 0===a?void 0:a.id,channel:ke,service:(null===Le||void 0===Le?void 0:Le.type)?Object(x.I)(Le.type):Object(x.I)(null===(i=T.authoredContent)||void 0===i?void 0:i.defaultdisposition)})),O({type:Z,value:{showCartModal:!0}});O({type:$,value:{dispositionChanged:!1}}),O({type:ee,value:{storeChanged:!1}})}}),[tt,we,Z,$,ke,ee,Ue,g,Q,null===(a=T.authoredContent)||void 0===a?void 0:a.defaultdisposition,v.dispositionStateData,v.scheduleOrderData,v.searchStoreData,O]),Object(i.useEffect)((function(){var e;if(Y&&J&&!V)if((null===_||void 0===_||null===(e=_.foodLines)||void 0===e?void 0:e.length)>0){var t=_.foodLines.map((function(e){return function(e,t,n){var a,i=JSON.parse(JSON.stringify(e)),c={toRemove:!0,requireModification:!1,findings:["Item not available"],newFoodLineItem:i,menuPrice:void 0,cartPrice:i.amount/n},o=null===t||void 0===t?void 0:t[null===i||void 0===i||null===(a=i.item)||void 0===a?void 0:a.id];if(o){c.findings=[],c.toRemove=!1;var r=Object(x.gb)(o.availability[0],n),s=i.amount/n,d=Object(x.ob)(r,i.item.modGrps,i.quantity,n);d!==s?(c.findings.push("Item Price has changed Cart Price(".concat(s,"), Menu price(").concat(d,")")),c.requireModification=!0,c.menuPrice=d,c.cartPrice=s):(c.menuPrice=d,c.cartPrice=s,c.newFoodLineItem=i)}return c}(e,Y,J)}));if(Se){var n=_.foodLines.map((function(e){return function(e,t){var n=JSON.parse(JSON.stringify(e));return{toRemove:!1,requireModification:!1,findings:[],newFoodLineItem:n,menuPrice:void 0,cartPrice:n.amount/t}}(e,J)}));ce(n)}else ce(t);Oe(t);var a=t.filter((function(e){return e.toRemove}));he(a);var i=t.filter((function(e){return e.requireModification}));Ee(i)}else Oe([]),ce([]),he([]),Ee([])}),[J,_,Y,Se]);var nt=function(e){(Ce(!1),e===te)?(de(!0),function(e){var t=e.unavailableItems,n=e.priceChangedItems,a=e.createAddValidateBasket,i=e.dispatch,c=e.cartId,o=e.tenantId;t.length||n.length?a():i(Object(St.x)({data:{id:c},tenantId:o}))}({unavailableItems:pe,priceChangedItems:xe,createAddValidateBasket:at,dispatch:g,cartId:null===_||void 0===_?void 0:_.id,tenantId:Q})):(de(!1),g(Object(St.x)({data:{id:null===_||void 0===_?void 0:_.id},tenantId:Q})))},at=function(){var e=Object(be.a)(ue.a.mark((function e(){var t,n,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],je.forEach((function(e){if(!e.toRemove){var n,a,i,c,o,r={};r.id=null===e||void 0===e||null===(n=e.newFoodLineItem)||void 0===n||null===(a=n.item)||void 0===a?void 0:a.id,r.categoryId="",r.quantity=null===e||void 0===e||null===(i=e.newFoodLineItem)||void 0===i?void 0:i.quantity,r.modGrps=null===e||void 0===e||null===(c=e.newFoodLineItem)||void 0===c||null===(o=c.item)||void 0===o?void 0:o.modGrps,t.push(r)}})),g(Object(St.o)()),n=Object(x.Ib)(M),e.next=6,Object(x.u)(g,n,M,et.storeInfo,et.dispositionType,C.customerId);case 6:a=e.sent,Q&&g(Object(St.e)({data:a,tenantId:Q,shouldAddItem:!0,addItemList:t})),g(Object(St.s)(new Date));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){k&&ya.b.BindUser(null===we||void 0===we?void 0:we.loggedIn).then((function(){!function(e,t,n,a,i){var c=t.fromFlag,o=t.history;e?function(e,t){e||t.push({pathname:"/checkout"})}(c,o):(Object(x.xb)(n,a),!Object(x.yb)(n)&&i(!1))}(R,{fromFlag:se,history:f},H,{currencyConversionFactor:J,currencySymbol:X,store:Fe},Re),g(Object(St.q)())}))}),[k,H,R,g,f,se]);var it=aj.DISPOSITION;return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Bb)(Ye)&&Object(u.jsx)(Qa,{contentData:Ye,tenantReducerData:We.tenantReducerContent,userParams:we})||null,Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null!==(r=null===(s=Ge)||void 0===s?void 0:s[it])&&void 0!==r?r:{},contentDispositionData:null!==(d=null===(l=Ge)||void 0===l?void 0:l[it])&&void 0!==d?d:{}},userParams:we}),Object(u.jsx)(ej,{contentData:et,cartListContent:ie,isModalOpen:Se,confirmChangesHandler:nt,dispositionData:Le,history:f}),P&&Object(u.jsx)(Id,{}),Object(x.Bb)(Ke)&&Object(u.jsx)(ba,{contentData:Ke,history:f,tenantReducerData:We.tenantReducerContent})||null,v.cartStateData.showCartState&&(pe.length||xe.length)&&Object(u.jsx)(nj,{unavailableItems:pe,priceChangedItems:xe,confirmChangesHandler:nt,discardChangesHandler:function(e,t,n){g(Object(ui.d)({tenantId:Q,catalogName:n},{storeId:null===e||void 0===e?void 0:e.id,channel:ke,service:t&&Object(x.I)(t)}))}}),v.showCartClearAlert?Object(u.jsx)($d,{}):null]})},cj=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.isMobile,i=void 0!==a&&a,c=e.userParams,o=void 0===c?{}:c,r=e.tenantReducerData,s=void 0===r?{}:r,d=e.paymentHeader,l=void 0!==d&&d,b=e.checkoutHeader,v=void 0!==b&&b,j=e.navigateHandler,O=void 0===j?null:j,m=e.history,f=s.basic,p=Oa.LOGGEDIN_USER_SINGIN_TEXT,h=Oa.BACK_TO_CART,g=Oa.Go_TO_HOME_PAGE,N=Ls.ArrowIcon,E=Ls.HeaderLogo,I=Object(x.sb)(ma(n,f)),C=I.navRight,A=void 0===C?[]:C,y=I.kfcLogo,_=void 0===y?{}:y,D=function(e){e.stopPropagation(),e.preventDefault(),m.push({pathname:"/cart"})};return Object(u.jsxs)(u.Fragment,{children:[v&&Object(u.jsxs)("div",{className:"d-flex align-items-center justify-content-between secondaryChekoutheader",children:[Object(u.jsx)("div",{className:"secondary-header-element",children:i?Object(u.jsx)(Ot.a,{className:"btn",onClickHandler:function(e){return D(e)},children:Object(u.jsx)(S.a,{srcFile:N,alt:"Back to Cart"})}):Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder",onClickHandler:function(e){return D(e)},"data-testid":"Back-Button-checkout",ariaLable:Object(Se.e)(h),children:Object(Se.e)(h)})}),Object(u.jsx)(M,{className:"headerLogo secondary","data-testid":"desktop-navigate-handler",onClickHandler:O,children:Object(u.jsx)("span",{children:i?Object(u.jsx)("h3",{className:"textualLogo",children:Object(Se.e)("cartCheckout")}):Object(u.jsx)(S.a,{srcFile:Object(x.qb)(_.src,E),alt:Object(x.qb)(_.alt,"KFC LOGO")})})}),Object(u.jsxs)("div",{className:"d-flex secondary-header-element",children:[Object(u.jsxs)(M,{className:"needHelpDesk",href:"/help",children:[Object(u.jsx)("span",{"aria-hidden":"true",className:"roundedQmark",children:"?"}),!i&&Object(u.jsx)("label",{className:"needHelp",children:"Need Help?"})]}),function(){var e=null;return A&&A.length&&(e=A.filter((function(e){if("Sign In"===e.name)return e}))[0]),e&&Object(u.jsxs)("div",{className:"signinLink ml-4","data-testid":"SignIn",tabIndex:"0",onClick:function(){return function(e,t){t.loggedIn?m.push({pathname:"/account"}):Object(x.g)()}(0,o)},children:[Object(u.jsx)(S.a,{"data-id":T.n.CHECKOUT_SIGN_IN_ATTR_DATA_ID,srcFile:e.url||e.imageUrl,className:"navRightIcons"}),!i&&Object(u.jsx)("span",{className:"notcarticon",children:e.name&&o.loggedIn?p:e.name})]})}()]})]}),l&&Object(u.jsx)("div",{className:"payment-header",children:i?Object(u.jsxs)("div",{className:"headerItems",children:[Object(u.jsx)("span",{children:Object(u.jsx)(M,{className:"needHelpDeskClose",href:T.gb.HOME_PAGE,children:Object(u.jsx)("span",{className:"backIcon",children:Object(u.jsx)("img",{src:N,alt:"back-btn"})})})}),Object(u.jsx)("span",{className:"TrackOrder",children:"Track Order"}),Object(u.jsx)("span",{children:Object(u.jsx)(M,{className:"needHelpDesk",href:T.gb.HELP,children:Object(u.jsx)("span",{className:"roundedQuesmark",children:"?"})})})]}):Object(u.jsxs)("div",{className:"d-flex align-items-center justify-content-between payment-header-content",children:[Object(u.jsx)("div",{className:"secondary-header-element",children:Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder",onClickHandler:function(e){return function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("orderComplete",!0),m.push({pathname:"/"})}(e)},"data-testid":"Back-Button",ariaLable:Object(Se.e)(g),children:Object(Se.e)(g)})}),Object(u.jsx)("div",{children:Object(u.jsx)("span",{className:"headerLogo paymentHeader",tabIndex:"0",onClick:O,children:Object(u.jsx)(S.a,{srcFile:Object(x.qb)(_.src,E),alt:Object(x.qb)(_.alt,"KFC LOGO")})})}),Object(u.jsx)("div",{className:"d-flex secondary-header-element",children:Object(u.jsxs)(M,{className:"needHelpDesk",href:"/help",children:[Object(u.jsx)("span",{"aria-hidden":"true",className:"roundedQmark",children:"?"}),!i&&Object(u.jsx)("label",{className:"needHelp",children:"Need Help?"})]})})]})})]})},oj=Object(o.i)((function(e){var t=e.contentData,n=void 0===t?{}:t,c=e.history,o=Object(i.useState)(Object(x.Hb)(window.innerWidth)),r=Object(j.a)(o,2),s=r[0],d=r[1],l=function(){var e=Object(x.Hb)(window.innerWidth);d(e)};Object(i.useEffect)((function(){window.addEventListener("resize",l)}),[s]);return Object(u.jsx)("div",{className:"".concat(s?"mobile header":"desktop header"),"data-testid":"HeaderItems-component",children:Object(u.jsx)(cj,Object(a.a)({contentData:n,isMobile:s,navigateHandler:function(){c.push({pathname:"/"})}},e))})})),rj=n.p+"static/media/Lock.e846db0a.svg",sj=n.p+"static/media/LocationOn.f57c1dfd.svg",dj=n.p+"static/media/WatchLater.3ca73ea2.svg",lj=n(4);var uj=function(e){var t,n=e.name,a=e.cardNumber,c=e.expiryDate,o=e.cvc,r=e.userEmail,s=e.userPhone,d=e.paymentRequestMessage;return Object(i.useEffect)((function(){var e,t;d&&a&&(null===(e=document)||void 0===e?void 0:e.form10)&&(null===(t=window.ccvalidation)||void 0===t||t.process({bdCardForm:"form10",transactionInfo:{cnumber:document.form10.cnumber,cardExpMonth:document.form10.expmon,cardExpYear:document.form10.expyr,cardHolderName:document.form10.cname2,cardPasscode:document.form10.cvv2},userInfo:{userEmail:document.form10.emailAdd,userMobile:document.form10.mobileAdd},MsgSrc:d}))}),[null===(t=document)||void 0===t?void 0:t.form10,d,a]),Object(u.jsx)("div",{children:a&&Object(u.jsxs)("form",{name:"form10",id:"form10",children:[Object(u.jsx)("input",{type:"hidden",name:"cname2",id:"cname2",value:n}),Object(u.jsx)("input",{type:"hidden",name:"cnumber",id:"cnumber",value:a.replace(/\s+/g,"")}),Object(u.jsx)("input",{type:"hidden",name:"expmon",id:"expmon",value:(c.split("/")[0]||"").trim()}),Object(u.jsx)("input",{type:"hidden",name:"expyr",id:"expyr",value:"20"+(c.split("/")[1]||"").trim()}),Object(u.jsx)("input",{type:"hidden",name:"cvv2",id:"cvv2",value:o}),Object(u.jsx)("input",{type:"hidden",name:"emailAdd",id:"emailAdd",value:r}),Object(u.jsx)("input",{type:"hidden",name:"mobileAdd",id:"mobileAdd",value:s})]})})};var bj=function(e){var t,n=e.requestParameters,a=e.postUrl;return Object(i.useEffect)((function(){var e,t;a&&(null===(e=document)||void 0===e||null===(t=e.bankForm)||void 0===t||t.submit())}),[document&&(null===(t=document)||void 0===t?void 0:t.bankForm),a]),Object(u.jsx)("div",{children:a&&Object(u.jsx)("form",{name:"bankForm",method:"POST",action:a,children:n&&function(){var e=[];for(var t in n)e.push(Object(u.jsx)("input",{type:"hidden",name:t,value:n[t]}));return e}()})})};var vj=function(e){var t,n=e.merchantId,a=e.transactionId,c=e.transactionToken;return Object(i.useEffect)((function(){var e,t;a&&(null===(e=document)||void 0===e||null===(t=e.payTmForm)||void 0===t||t.submit())}),[document&&(null===(t=document)||void 0===t?void 0:t.payTmForm),a]),Object(u.jsx)("div",{children:a&&Object(u.jsxs)("form",{name:"payTmForm",method:"POST",action:"".concat(Object(Lt.a)(Ht.z),"mid=").concat(n,"&orderId=").concat(a),children:[Object(u.jsx)("input",{type:"hidden",name:"mid",value:n}),Object(u.jsx)("input",{type:"hidden",name:"orderId",value:a}),Object(u.jsx)("input",{type:"hidden",name:"txnToken",value:c})]})})};var jj=function(e){var t,n=e.tenderType,a=e.orderId,c=e.storeId,o=e.transactionAmount,r=e.transactionId,s=e.redirectUrl;return Object(i.useEffect)((function(){var e,t;s&&(null===(e=document)||void 0===e||null===(t=e.phonepeForm)||void 0===t||t.submit())}),[document&&(null===(t=document)||void 0===t?void 0:t.phonepeForm),s]),Object(u.jsx)("div",{children:s&&Object(u.jsx)("form",{name:"phonepeForm",method:"POST",action:s,children:Object(u.jsx)("table",{border:"1",children:Object(u.jsxs)("tbody",{children:[Object(u.jsx)("input",{type:"hidden",name:"storeId",value:c}),Object(u.jsx)("input",{type:"hidden",name:"orderId",value:a}),Object(u.jsx)("input",{type:"hidden",name:"tenderType",value:n}),Object(u.jsx)("input",{type:"hidden",name:"transactionId",value:r}),Object(u.jsx)("input",{type:"hidden",name:"transactionAmount",value:o})]})})})})},Oj=n(92),mj=n(212);function fj(e){var t,n,c,o,r,s,d,l,b,v,O,m,f,p=e.productMapById,h=e.cartData,g=e.isValidated,E=e.tenantId,I=e.userEmail,S=e.userPhone,C=e.createOrderRequest,A=e.subscription,y=e.checkoutProps,_=e.paymentEnabled,D=e.setIsPaymentTypeSelected,R=e.isClickContinuePayment,w=e.setIsClickContinuePayment,k=e.currencyConversionFactor,L=e.callBackValidateUserDetails,P=e.tenderInfo,M=e.paymentFormPayload,F=e.callBackPaymentErrorHandler,H=Object(N.b)(),B=Object(i.useState)(P||{name:"",payload:{}}),U=Object(j.a)(B,2),G=U[0],Y=U[1],K=Object(i.useState)(M||{}),V=Object(j.a)(K,2),W=V[0],q=V[1],z=Object(i.useState)(!1),Q=Object(j.a)(z,2),J=Q[0],X=Q[1],Z=Object(i.useState)(!1),$=Object(j.a)(Z,2),ee=$[0],te=$[1],ne=Object(i.useState)(!1),ae=Object(j.a)(ne,2),ie=ae[0],ce=ae[1],oe=null===h||void 0===h?void 0:h.id,re=Object(N.c)((function(e){return e})),se=re.paymentsReducer,de=re.profileReducer,le=re.paymentsGiftCardReducer,ve=re.orderReducer,je=Object(N.c)((function(e){var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),Oe=Object(N.c)((function(e){return(null===e||void 0===e?void 0:e.paymentsGoogleSpotReducer)||{}})),me=Oe.initiatePaymentStatus,fe=Oe.initiatePaymentResponse,pe=Oe.validatePaymentStatus,he=Oe.validatePaymentResponse,ge=Oe.transactionStatus,Ne=Oe.transactionStatusResponse,xe=Object(N.c)((function(e){return e.microAppPaymentReducer})),Ee=xe.response,Ie=void 0===Ee?{}:Ee,Te=xe.isPaymentCompleted,Ce=void 0!==Te&&Te,Ae=xe.phonepeStatusResponse,ye=void 0===Ae?{}:Ae,_e=Object(N.c)((function(e){return e.tenantReducer})).paymentStatusMaxCallCount,De=Zt.c.CHECKOUT_TITLES,Re=Zt.c.ADD_PAY_METHOD,we=Zt.c.PHONEPE_SWITCH_CONSTANTS;Object(i.useEffect)((function(){H(Object(qu.l)())}),[]),Object(i.useEffect)((function(){var e,t;ya.b.isGoogle&&(null===h||void 0===h||null===(e=h.allowedTenders)||void 0===e?void 0:e.includes(ya.b.channel))?(Y({name:ya.b.channel}),D(!0)):ya.b.isPhonePe&&(null===h||void 0===h||null===(t=h.allowedTenders)||void 0===t?void 0:t.includes(T.bb.PHONEPE_SWITCH))&&(Y({name:T.bb.PHONEPE_SWITCH}),D(!0))}),[null===h||void 0===h?void 0:h.allowedTenders,D]),Object(i.useEffect)((function(){!function(e){var t=e.isClickContinuePayment,n=e.subscription,a=e.isLoggedIn,i=e.GuestContactDetailsClick,c=e.updatePaymentAnalytics,o=e.cartData,r=e.currencyConversionFactor,s=e.tender,d=e.productMapById,l=e.setIsValid,u=e.dispatchCreateOrderAction,b=e.dispatch,v=e.createOrderRequest;t&&(n&&!a&&i(),c(o,r,s,d),l(!1),u(b,s,o,v))}({isClickContinuePayment:R,subscription:A,isLoggedIn:null===je||void 0===je?void 0:je.loggedIn,GuestContactDetailsClick:qt,updatePaymentAnalytics:Nn,cartData:h,currencyConversionFactor:k,tender:G,productMapById:p,setIsValid:te,dispatchCreateOrderAction:Qu,dispatch:H,createOrderRequest:C})}),[R]);var ke=Object(i.useCallback)((function(){H(Object(qu.l)()),Object(x.ac)(y)}),[y,H]);Object(i.useEffect)((function(){if(Ce&&(null===ye||void 0===ye?void 0:ye.status))switch(null===ye||void 0===ye?void 0:ye.status){case lj.Ld.FAILURE:ke();break;case lj.Ld.PENDING:case lj.Ld.SUCCESS:default:H(Object(qu.l)()),Object(x.bc)(y)}}),[Ce,ye]);var Le=Object(i.useCallback)((function(e){var t;e===we.SUCCESS?H(Object(qu.b)({tenantId:E,customerId:null===h||void 0===h||null===(t=h.customer)||void 0===t?void 0:t.id,transactionId:null===Ie||void 0===Ie?void 0:Ie.transactionId,maxCallCount:_e})):ke()}),[we.SUCCESS,null===h||void 0===h||null===(t=h.customer)||void 0===t?void 0:t.id,H,null===Ie||void 0===Ie?void 0:Ie.transactionId,_e,ke,E]);Object(i.useEffect)((function(){if(ie&&(null===Ie||void 0===Ie?void 0:Ie.reservationId)&&ya.b.isPhonePe){var e="".concat(window.location.origin).concat(T.gb.CHECKOUT);Object(mj.b)(null===Ie||void 0===Ie?void 0:Ie.reservationId,e,Le),ce(!1)}}),[Ie]);var Pe=Object(i.useCallback)((function(){var e,t;!function(e,t,n,a,i,c){var o,r={tenantId:e,data:{OrderId:t,TenderType:n},customerId:(null===a||void 0===a||null===(o=a.customer)||void 0===o?void 0:o.id)||""};t&&i(Object(qu.e)(r)),c(!0)}(E,null===ve||void 0===ve||null===(e=ve.response)||void 0===e||null===(t=e.order)||void 0===t?void 0:t.id,null===G||void 0===G?void 0:G.name,h,H,ce),w(!1)}),[h,H,null===ve||void 0===ve||null===(n=ve.response)||void 0===n?void 0:n.order,w,E,null===G||void 0===G?void 0:G.name]),Me=Object(i.useCallback)((function(){ya.b.isGoogle&&(ce(!1),H(Object(Oj.j)()),ya.b.payment=null,ya.b.oloPaymentInitializer=null,w(!1),Object(x.ac)(y))}),[H,w]),Fe=Object(i.useCallback)((function(){var e,t,n,a,i={tenantId:E,body:{orderId:null===ve||void 0===ve||null===(e=ve.response)||void 0===e||null===(t=e.order)||void 0===t?void 0:t.id,tenderType:ya.b.channel}};ya.b.orderId=null===ve||void 0===ve||null===(n=ve.response)||void 0===n||null===(a=n.order)||void 0===a?void 0:a.id,ce(!0),H(Object(Oj.d)(i))}),[H,null===ve||void 0===ve||null===(c=ve.response)||void 0===c?void 0:c.order,E]),He=Object(i.useCallback)((function(){ya.b.isGoogle&&(H(Object(Oj.j)()),Object(x.bc)(y))}),[H]);return Object(i.useEffect)((function(){Object(be.a)(ue.a.mark((function e(){var t,n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ya.b.addFeedback("(initiatePaymentStatus, initiatePaymentResponse): ".concat(JSON.stringify({initiatePaymentStatus:me,initiatePaymentResponse:fe}))),!fe||!ie){e.next=10;break}return e.next=4,ya.b.BindPayment(fe);case 4:t=ya.b.payment,ya.b.addFeedback("Payment isSuccess data: "+t),1===(null===t||void 0===t?void 0:t.code)?w(!1):0===(null===t||void 0===t?void 0:t.code)||(null===t||void 0===t?void 0:t.code)&&1!==(null===t||void 0===t?void 0:t.code)?Me():t&&(n={tenantId:E,body:t},H(Object(Oj.g)(n))),ce(!1),e.next=11;break;case 10:me===lj.Ld.FAILURE&&Me();case 11:case"end":return e.stop()}}),e)})))()}),[H,Me,fe,me,w,E,ie]),Object(i.useEffect)((function(){if(ya.b.addFeedback("(validatePaymentStatus, validatePaymentResponse): ".concat(JSON.stringify({validatePaymentStatus:pe,validatePaymentResponse:he}))),he)(null===he||void 0===he?void 0:he.status)===lj.Ld.SUCCESS?He():Me();else if(pe===lj.Ld.PENDING&&ya.b.transactionId){var e={tenantId:E,transactionId:ya.b.transactionId};H(Object(Oj.a)(e))}}),[H,Me,He,E,he,pe]),Object(i.useEffect)((function(){ya.b.addFeedback("(transactionStatus, transactionStatusResponse): ".concat(JSON.stringify({transactionStatus:ge,transactionStatusResponse:Ne}))),Ne?(null===Ne||void 0===Ne?void 0:Ne.status)===lj.Ld.SUCCESS?(ya.b.addFeedback("Great, channel manager payment status is NOT fail... ".concat(null===Ne||void 0===Ne?void 0:Ne.status)),He()):(ya.b.addFeedback("Hmmm, channel manager payment status IS FAIL... ".concat(null===Ne||void 0===Ne?void 0:Ne.status)),Me()):ge===lj.Ld.FAILURE&&(ya.b.shouldGoogleSpotIgnoreOloFailure?He():Me())}),[H,Me,He,ge,Ne]),Object(i.useEffect)((function(){var e,t,n=null===ve||void 0===ve||null===(e=ve.response)||void 0===e||null===(t=e.order)||void 0===t?void 0:t.id;if(R&&n)switch(localStorage.setItem("postPaymentType",null===G||void 0===G?void 0:G.name),localStorage.setItem("paymentStatus",""),null===G||void 0===G?void 0:G.name){case T.bb.CREDIT_CARD:case T.bb.NET_BANKING:case T.bb.OTHER_WALLET:case T.bb.UPI:!function(e,t,n,i,c){var o={OrderId:n,TenderType:null===i||void 0===i?void 0:i.name};(null===i||void 0===i?void 0:i.name)!==T.bb.NET_BANKING&&(null===i||void 0===i?void 0:i.name)!==T.bb.OTHER_WALLET||(o=Object(a.a)(Object(a.a)({},o),{},{AdditionalAttributes:{BankId:null===c||void 0===c?void 0:c.bankId}})),n&&e(Object(Ku.e)({tenantId:t,data:o}))}(H,E,n,G,W);break;case T.bb.PAY_BY_CASH:Object(x.bc)(y);break;case T.bb.PAYTM:!function(e,t,n,a){var i={OrderId:n,TenderType:null===a||void 0===a?void 0:a.name};e(Object(Ku.d)({tenantId:t,data:i}))}(H,E,n,G);break;case T.bb.GIFT_CARD:!function(e,t,n,i,c,o){delete c.userEmail,delete c.userPhone;var r=o.customerId,s=Object(a.a)({OrderId:n,TenderType:null===i||void 0===i?void 0:i.name},c);e(Object(Wu.a)({tenantId:t,customerId:r,body:s}))}(H,E,n,G,W,de);break;case T.bb.PHONEPE:!function(e,t,n,a){var i={OrderId:n,TenderType:null===a||void 0===a?void 0:a.name};e(Object(Ku.f)({tenantId:t,data:i}))}(H,E,n,G);break;case T.bb.GOOGLE_PAY_SPOT:Fe();break;case T.bb.PHONEPE_SWITCH:Pe()}}),[null===ve||void 0===ve||null===(o=ve.response)||void 0===o?void 0:o.order]),Object(i.useEffect)((function(){var e,t,n,i,c;if(R&&se&&(null===se||void 0===se?void 0:se.response))switch(null===G||void 0===G?void 0:G.name){case T.bb.CREDIT_CARD:q(Object(a.a)(Object(a.a)({},W),{},{paymentRequestMessage:null===se||void 0===se||null===(e=se.response)||void 0===e?void 0:e.requestMessage}));break;case T.bb.NET_BANKING:case T.bb.OTHER_WALLET:case T.bb.UPI:q(Object(a.a)(Object(a.a)({},W),{},{requestParameters:null===se||void 0===se||null===(t=se.response)||void 0===t?void 0:t.requestParameters,postUrl:null===se||void 0===se||null===(n=se.response)||void 0===n?void 0:n.postUrl}));break;case T.bb.PAYTM:(null===se||void 0===se||null===(i=se.response)||void 0===i?void 0:i.merchantId)&&""!==(null===se||void 0===se||null===(c=se.response)||void 0===c?void 0:c.merchantId)?q(Object(a.a)(Object(a.a)({},W),null===se||void 0===se?void 0:se.response)):F({errorCode:"payTmMerchantIdError"});break;case T.bb.GIFT_CARD:!0===le.giftCardTransactionStatus?Object(x.bc)(y):!1===le.giftCardTransactionStatus&&void 0===le.giftCardTransactionStatus&&Object(x.ac)(y);break;case T.bb.PHONEPE:q(Object(a.a)(Object(a.a)(Object(a.a)({},W),null===se||void 0===se?void 0:se.response),{},{tenderType:null===G||void 0===G?void 0:G.name}))}}),[null===se||void 0===se?void 0:se.response,le]),Object(u.jsxs)(u.Fragment,{children:[R&&(null===G||void 0===G?void 0:G.name)===T.bb.CREDIT_CARD&&Object(u.jsx)(uj,Object(a.a)({},W)),R&&((null===G||void 0===G?void 0:G.name)===T.bb.NET_BANKING||(null===G||void 0===G?void 0:G.name)===T.bb.OTHER_WALLET||(null===G||void 0===G?void 0:G.name)===T.bb.UPI)&&Object(u.jsx)(bj,Object(a.a)({},W)),R&&(null===G||void 0===G?void 0:G.name)===T.bb.PAYTM&&Object(u.jsx)(vj,Object(a.a)({},W)),R&&(null===G||void 0===G?void 0:G.name)===T.bb.PHONEPE&&Object(u.jsx)(jj,Object(a.a)({},W)),ya.b.isBrowser&&Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"row row-cols-12 mt-10px",children:[Object(u.jsx)("div",{className:"labelContent contact-label pl-25px col-sm-4 col-4",children:Object(u.jsx)("h2",{"aria-label":Object(Se.e)(De.PAYMENT),children:Object(Se.e)(De.PAYMENT)})}),""===(null===G||void 0===G?void 0:G.name)&&Object(u.jsx)("div",{className:"addPaymentContent px-25px col-sm-8 col-8",children:Object(u.jsx)("div",{className:"d-flex flex-column mt-20px",children:Object(u.jsx)("button",{className:"payButton","data-testid":"pay-button",onClick:function(){return zu(_,J,X,q,I,S,Y,D,w,L)},children:Object(Se.e)(Re)})})}),""!==(null===G||void 0===G?void 0:G.name)&&Object(u.jsx)("div",{className:"addPaymentContent col-sm-12 col-md-8 selectedPayment",children:Object(u.jsxs)("div",{className:"d-flex flex-column mt-20px",children:[Object(u.jsxs)(Ot.a,{className:"tenderButton","data-testid":"tender-btn",onClick:function(){return zu(_,J,X,q,I,S,Y,D,w,L)},children:[G&&(null===G||void 0===G?void 0:G.name)&&(null===G||void 0===G?void 0:G.payload)&&(null===G||void 0===G||null===(r=G.payload)||void 0===r?void 0:r.url)&&Object(u.jsx)("span",{className:"payment-image",children:Object(u.jsx)("img",{src:null===G||void 0===G||null===(s=G.payload)||void 0===s?void 0:s.url,alt:"TenderImage"})}),(null===G||void 0===G?void 0:G.name)===T.bb.CREDIT_CARD&&Object(u.jsx)("div",{className:"card-number-image",children:Object(u.jsx)("svg",Object(a.a)({},null===W||void 0===W?void 0:W.svgSource))}),Object(u.jsxs)("span",{className:"col-12 col-xs-10",children:[(null===G||void 0===G?void 0:G.name)===T.bb.CREDIT_CARD&&"x - "+(null===W||void 0===W||null===(d=W.cardNumber)||void 0===d||null===(l=d.trim())||void 0===l?void 0:l.substr((null===W||void 0===W||null===(b=W.cardNumber.trim())||void 0===b?void 0:b.length)-4)),((null===G||void 0===G?void 0:G.name)===T.bb.NET_BANKING||(null===G||void 0===G?void 0:G.name)===T.bb.OTHER_WALLET)&&(null===G||void 0===G||null===(v=G.payload)||void 0===v?void 0:v.displayName)+" : "+(null===W||void 0===W?void 0:W.bankName),(null===G||void 0===G?void 0:G.name)===T.bb.GIFT_CARD&&(null===G||void 0===G||null===(O=G.payload)||void 0===O?void 0:O.displayName)+": #"+(null===W||void 0===W||null===(m=W.AdditionalAttributes)||void 0===m?void 0:m.GiftCardNumber),((null===G||void 0===G?void 0:G.name)===T.bb.PAYTM||(null===G||void 0===G?void 0:G.name)===T.bb.PHONEPE||(null===G||void 0===G?void 0:G.name)===T.bb.PAY_BY_CASH||(null===G||void 0===G?void 0:G.name)===T.bb.UPI)&&(null===G||void 0===G||null===(f=G.payload)||void 0===f?void 0:f.displayName)]}),Object(u.jsx)("span",{className:"right-arrow-icon",children:Object(u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAANCAYAAAB7AEQGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACeSURBVHgBfdC9DQIxDAVgv9wCERNYAnoYgU3YAEaACRATMMqNANRQeITQUSCFl/BTXJJ7laN8jmKLMJozX0gjjrde0PWC2LegM7MgUfasfQviV6hO1wKcWLIJK7PbpUBjEMOnaxC1j6rOtmw/fOBr6UqgygE2+RDlyMEMJeA6BJomNrvvBtPVwR+NgYy+Gz+3QEoXQnh6P3kQXWsg5Q1LA016wKLMxwAAAABJRU5ErkJggg==",alt:""})})]}),(null===G||void 0===G?void 0:G.name)===T.bb.PAYTM&&Object(u.jsx)("span",{className:"paytmPaymentProcess mt-10px",children:" * Payment will process after place your order."})]})}),Object(u.jsx)(Vu,{isClickAddPayment:J,setIsClickAddPayment:X,cartData:h,isValidated:g,basketId:oe,tenantId:E,tender:G,setTender:Y,isValid:ee,checkoutProps:y,setIsValid:te,formPayload:W,setFormPayload:q,setIsPaymentTypeSelected:D,currencyConversionFactor:k})]})})]})}var pj=f.a.DISPOSITION,hj=!1,gj=function(e){var t,n,o,r,s,d,l,b,v,O,m,f,p=Zt.c.CHECKOUT_TITLES,h=Zt.c.DELIVERY,g=Zt.c.TAKEAWAY,I=Zt.c.IS_DELIVERY,S=Zt.c.IS_TAKEAWAY,C=Zt.c.IS_DINEIN,A=Zt.c.AGREEMENT_LABEL,y=Zt.c.CONTINUE_PAYMENT,_=Zt.c.FORM_NAMES,D=Zt.c.ADDRESS_PH,R=Zt.c.DINE_IN,w=Object(N.b)(),k=Object(i.useContext)(E.a),L=k.userOrderState,P=k.userOrderStateDispatch,M=Ae.a.SCHEDULE_ORDER_DATA,F=Object(i.useState)(Object(x.Hb)(window.innerWidth)),H=Object(j.a)(F,2),B=H[0],U=H[1],G=Object(i.useState)(""),Y=Object(j.a)(G,2),K=Y[0],V=Y[1],W=Object(i.useState)("leaveatmydoor"),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)(!1),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(i.useState)(!1),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)(Object(x.lb)(null===L||void 0===L?void 0:L.isPaymentAdded,null===L||void 0===L?void 0:L.isPaymentAdded,!1)),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=Object(i.useState)(!1),de=Object(j.a)(se,2),le=de[0],ue=de[1],be=Object(i.useState)(!1),ve=Object(j.a)(be,2),je=ve[0],Oe=ve[1],me=Object(i.useState)({value:null!==(t=ya.b.name)&&void 0!==t?t:"",errorMessage:"",error:!1}),fe=Object(j.a)(me,2),pe=fe[0],he=fe[1],ge=Object(i.useState)({value:null!==(n=ya.b.phone)&&void 0!==n?n:"",errorMessage:"",error:!1}),Ne=Object(j.a)(ge,2),xe=Ne[0],Ee=Ne[1],Ie=Object(i.useState)({value:null!==(o=ya.b.email)&&void 0!==o?o:"",errorMessage:"",error:!1}),Te=Object(j.a)(Ie,2),Ce=Te[0],ye=Te[1],_e=Object(i.useState)({value:!0,errorMessage:"",error:!1}),De=Object(j.a)(_e,2),Re=De[0],we=De[1],ke=Object(i.useState)({value:"",errorMessage:"",error:!1}),Le=Object(j.a)(ke,2),Pe=Le[0],Me=Le[1],Fe=Object(i.useState)(""),He=Object(j.a)(Fe,2),Be=He[0],Ue=He[1],Ge=function(){var e=Object(x.Hb)(window.innerWidth);U(e)},Ye=Object(N.c)((function(e){return e})),Ke=Ye.cartReducer,Ve=Ye.tenantReducer,We=Ye.profileReducer,qe=Ye.orderReducer,ze=Ye.postOrderReducer,Qe=Object(x.K)(Object(N.c)((function(e){return e.menuReducer}))).flatResponse,Je=(Qe=void 0===Qe?{}:Qe).productMapById,Xe=void 0===Je?{}:Je,Ze=Object(x.lb)(Object(x.Ab)(L.dispositionNew),JSON.parse(localStorage.getItem("dispositionNew")),L.dispositionNew),$e=Object(x.Bb)(Ze)?Ze:{},et=$e.type,tt=$e.store,nt=$e.date,at=$e.time,it=$e.deliveryAddress,ct=Ve.tenantId,ot=Ve.currencySymbol,rt=Ve.currencyConversionFactor,st=Object(x.r)(Object(x.Bb)(ze),ze).orderAccepted,dt=void 0===st?{}:st,lt=Object(x.lb)(null===L||void 0===L?void 0:L.isPaymentAdded,null===dt||void 0===dt?void 0:dt.customer,null===We||void 0===We?void 0:We.basic),ut=Ke.cartData,bt=void 0===ut?{}:ut,vt=Ke.isValidated,jt=void 0!==vt&&vt,Ot=Object(N.c)((function(e){return e.appStateReducer.userStatus})),mt=Object(i.useState)({}),ft=Object(j.a)(mt,2),pt=ft[0],ht=ft[1];Object(i.useEffect)((function(){var t;(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.ShowPaymentError)&&ue(!0)}),[null===e||void 0===e||null===(r=e.location)||void 0===r?void 0:r.ShowPaymentError]),Object(i.useEffect)((function(){Cn(document.title,pe.error,pe.errorMessage)}),[pe.errorMessage,pe.error]),Object(i.useEffect)((function(){Cn(document.title,xe.error,xe.errorMessage)}),[xe.errorMessage,xe.error]),Object(i.useEffect)((function(){Cn(document.title,Ce.error,Ce.errorMessage)}),[Ce.errorMessage,Ce.error]),Object(i.useEffect)((function(){!function(e,t,n){var a="";n?a=Object(Se.e)(cn):t?a=Object(Se.e)(an):e&&(null===e||void 0===e?void 0:e.error)&&(a=xn(e)),""!==a&&(Object(x.J)(document.title,a),Object(x.pb)(a))}(qe,le,je)}),[qe,le,je]),Object(i.useEffect)((function(){localStorage.setItem("paymentStatus",""),localStorage.setItem("postPaymentType",""),hj=!1,hn(bt,"BeginCheckoutClick",rt,Xe),Ot.loggedIn&&hn(bt,"AddContactInfoClick",rt,Xe),Sn(w,qe)}),[]),Object(i.useEffect)((function(){window.addEventListener("resize",Ge)}),[B]);var gt=function(){if(ya.b.isBrowser){var e=function(e){var t=Object(a.a)({},e),n=t.firstName,i=void 0===n?"":n,c=t.middleName,o=void 0===c?"":c,r=t.lastName,s=void 0===r?"":r,d=t.email,l=void 0===d?"":d,u=t.phone,b=void 0===u?"":u,v=t.phoneNumber;return{fullName:i||(""+o?o:""+s?s:""),email:l,phone:""!==b?b:void 0===v?"":v}}(lt);he(Object(a.a)(Object(a.a)({},pe),{},{value:e.fullName})),Ee(Object(a.a)(Object(a.a)({},xe),{},{value:e.phone})),ye(Object(a.a)(Object(a.a)({},Ce),{},{value:e.email}))}else ya.b.isPhonePe&&(he(Object(a.a)(Object(a.a)({},pe),{},{value:ya.b.name})),Ee(Object(a.a)(Object(a.a)({},xe),{},{value:ya.b.phone})),ye(Object(a.a)(Object(a.a)({},Ce),{},{value:ya.b.email})))};Object(i.useEffect)((function(){Object(x.Bb)(lt)&&Ot.loggedIn&&gt()}),[lt]),Object(i.useEffect)((function(){var e=Boolean(pe.value&&Ce.value&&xe.value),t=Boolean(Pe.error||pe.error||Ce.error||xe.error);ae(Object(x.r)(e,!t)),Object(x.r)(e,!t)&&(hj||Ot.loggedIn||(hn(bt,"AddContactInfoClick",rt,Xe),hj=!0))}),[Pe,z,pe,Ce,xe]);var Nt=function(e){$(!1);var t=e.target.value,n=e.target.name,i=e.target.checked;ln(n===D,(function(){return Ue(t)})),ln(n===_.VEHICAL_INFORMATION,(function(){return Me(Object(a.a)({},gn(Pe,t,et,z)))})),ln(n===_.DELIVERY_INSTRUCTION,(function(){return Me(Object(a.a)({},gn(Pe,t,et)))})),ln(n===_.SUBSCRIPTION,(function(){return we(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,n.error=!t,n}(Re,i)))})),ln(n===_.FULL_NAME,(function(){return he(Object(a.a)({},fn(pe,t)))})),ln(n===_.PHONE,(function(){return Ee(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?t.length<10||t.length>12||isNaN(t)||!/^\d*$/.test(t)?(n.error=!0,n.errorMessage=Object(Se.e)("invalidPhoneNumberErrMsg")):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Se.e)("emptyPhoneNumberErrMsg")),n}(xe,t)))})),ln(n===_.EMAIL,(function(){return ye(Object(a.a)({},pn(Ce,t)))}))};Object(x.Bb)(Ve)||JSON.parse(localStorage.getItem("tenantReducer")),Object(x.sb)(null===Ze||void 0===Ze?void 0:Ze.store),Ze&&Ze.type?Object(x.I)(Ze.type):Object(x.I)(null===(s=Ve.authoredContent)||void 0===s?void 0:s.defaultdisposition);Object(i.useEffect)((function(){Boolean((null===bt||void 0===bt?void 0:bt.total)&&ot&&rt)&&V(((null===bt||void 0===bt?void 0:bt.total)/rt).toFixed(2))}),[bt,ot,rt]);var xt=null,Et=null,Tt=Object(N.c)((function(e){var t,n;return{homePageContent:Object(x.vb)(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t?void 0:t.response),marketPageContent:Object(x.vb)(null===e||void 0===e||null===(n=e.marketConfigReducer)||void 0===n?void 0:n.response),tenantReducerContent:Object(x.vb)(null===e||void 0===e?void 0:e.tenantReducer)}}));if(Tt.marketPageContent&&Tt.tenantReducerContent&&Tt.homePageContent){var St;xt=Object(x.V)(Tt.homePageContent);var Ct=Object(x.sb)(null===Tt||void 0===Tt||null===(St=Tt.marketPageContent)||void 0===St?void 0:St.headerData),yt=Ct.header,_t=void 0===yt?{}:yt,Dt=Ct.tenant,Rt=void 0===Dt?[]:Dt,wt=Ct.footer,kt=void 0===wt?{}:wt;Et=Object(x.W)(_t),Object(x.O)(kt),Object(x.jb)(Rt)}Object(i.useEffect)((function(){Object(x.r)(qe,null===qe||void 0===qe?void 0:qe.error)&&(Object(x.r)(ya.b.isBrowser,ae(!0)),$(!1))}),[qe]);return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Bb)(Et)&&Object(u.jsx)(oj,{contentData:Et,tenantReducerData:Tt.tenantReducerContent,userParams:Ot,paymentHeader:!1,checkoutHeader:!0}),Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null!==(d=null===(l=xt)||void 0===l?void 0:l[pj])&&void 0!==d?d:{},contentDispositionData:null!==(b=null===(v=xt)||void 0===v?void 0:v[pj])&&void 0!==b?b:{}},userParams:Ot,showHeader:!1}),Object(u.jsx)("hr",{role:"presentation",className:"headerdivider"}),Object(u.jsx)("div",{className:"checkoutPagecont",children:Object(u.jsxs)("div",{className:"checkoutContainer".concat(bn(B)),"data-testid":"checkout-page",children:[Object(u.jsx)("img",{className:"px-25px",alt:"cart",src:Object(x.lb)(B,vv,bv)}),Object(u.jsx)("div",{className:"checkoutHeader col-sm-7 col-md-12 col-lg-7 col-sm-12 mt-10px px-25px".concat(vn(B)),children:Object(u.jsxs)("div",{className:"d-flex align-items-baseline justify-content-between",children:[Object(u.jsx)("h3",{className:"checkoutTitle ".concat(bn(B)),children:Object(Se.e)(p.TITLE)}),Object(u.jsxs)("div",{className:"secure-checkout",children:[Object(u.jsx)("img",{src:rj,alt:""}),Object(u.jsx)("span",{children:Object(Se.e)("secureCheckout")})]})]})}),Object(u.jsxs)("div",{className:"checkoutBody".concat(bn(B)," row"),children:[Object(u.jsxs)("div",{className:"checkoutDescDetails col-sm-12 col-lg-7 col-md-12",children:[qe&&((null===qe||void 0===qe?void 0:qe.error)||le||je)&&En(qe,le,je),Object(u.jsxs)("div",{className:"row row-cols-12 mt-10px",children:[Object(u.jsx)("div",{className:"labelContent info-label pl-25px col-sm-4 col-12",children:Object(u.jsx)("h2",{children:Object(Se.e)(On(et))})}),Object(u.jsx)("div",{className:"deliveryInfoContent px-25px col-sm-8 col-12",children:Object(u.jsxs)("div",{className:"d-flex flex-column mt-20px",children:[Object(u.jsxs)("div",{className:"d-flex align-items-start mb-4",children:[Object(u.jsx)("label",{className:"checkoutIcons",children:Object(u.jsx)("img",{src:sj,alt:""})}),Object(u.jsxs)("div",{className:"d-flex w-100 justify-content-between align-items-start",children:[Object(u.jsxs)("div",{className:"addressBox",children:[Object(u.jsx)("span",{className:"store_name d-block font-weight-bold",children:null===tt||void 0===tt||null===(O=tt.name[0])||void 0===O?void 0:O.value}),Object(x.dc)(et)===I&&Object(u.jsx)("span",{children:it}),[S,C].includes(Object(x.dc)(et))&&Object(u.jsx)("span",{children:null===(m=tt.addresses[0])||void 0===m||null===(f=m.address)||void 0===f?void 0:f.addressLines[0]}),Object(x.dc)(et)===I&&Object(u.jsxs)("div",{className:"addressField",children:[Object(u.jsx)("input",{id:D,type:"text",name:D,value:Be,className:"form-control",placeholder:"".concat(Object(Se.e)(D)),onChange:Nt}),Object(u.jsx)("label",{className:"form-label",children:"Address 2"})]})]}),Object(u.jsx)("button",{type:"button",variant:"link dark",onClick:function(e){return function(e,t){e.preventDefault(),e.stopPropagation(),P({type:M,value:{showScheduleOrder:!0,selectedStoreInfo:t,changeFlow:!0}})}(e,tt)},"data-testid":"schedule-order",children:Object(Se.e)("change")})]})]}),Object(u.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[Object(u.jsx)("label",{className:"checkoutIcons",children:Object(u.jsx)("img",{src:dj,alt:""})}),Object(u.jsx)("div",{className:"sceduledAt",children:jn({time:at,date:nt})})]})]})})]}),Object(u.jsxs)("div",{className:"row row-cols-12 mt-10px",children:[Object(u.jsx)("div",{className:"labelContent-checkout-options pl-25px col-sm-4 col-12 ".concat(Object(x.lb)(Object(x.dc)(et)===C,"type-dine-in","")),children:Object(u.jsx)("h2",{children:Object(Se.e)(mn(et))})}),Object(u.jsxs)("div",{className:"deliveryOptionsContent px-25px col-sm-8 col-12",children:[Object(u.jsxs)("div",{id:"radioButtons",className:"d-flex flex-column",value:z,onChange:function(){var e=Object(x.lb)("leaveatmydoor"===z,"handittome","leaveatmydoor");Q(e),Me(Object(a.a)(Object(a.a)({},Pe),{},{value:"",error:!1})),Object(x.r)(Object(x.dc)(et)===S,"handittome"===e)&&Me(Object(a.a)(Object(a.a)({},Pe),{},{value:"",error:!0}))},children:[Object(u.jsxs)("div",{className:"radioBtns",children:[Object(u.jsx)("input",{type:"radio",id:"leaveatmydoor",name:"checkoutoptions",value:"leaveatmydoor",defaultChecked:!0}),Object(u.jsx)("label",{for:"leaveatmydoor",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"leaveAtMyDoorTitle",tabIndex:"0",children:Object(Se.e)(Object(x.lb)(Object(x.dc)(et)===I,h.LEAVE_AT_MY_DOOR.TITLE,Object(x.lb)(Object(x.dc)(et)===S,g.WALK_IN_THE_STORE.TITLE,R.DINEIN_WALK_IN_THE_STORE.TITLE)))}),Object(u.jsx)("div",{className:"ml-25px option-note",children:Object(Se.e)(Object(x.lb)(Object(x.dc)(et)===I,h.LEAVE_AT_MY_DOOR.DESC,g.WALK_IN_THE_STORE.DESC))})]})})]}),Nj(S,I,et,bt,h,g)]}),xj(S,I,et,bt,h,g,z,_,Nt,Pe)]})]}),Object(u.jsxs)("div",{className:"row row-cols-12 mt-10px",children:[Object(u.jsxs)("div",{className:"labelContent contact-label pl-25px  col-sm-4 col-12",children:[Object(u.jsx)("h2",{children:Object(Se.e)(p.CONTACT_INFO)}),!Ot.loggedIn&&Object(u.jsx)("button",{type:"button",className:"btn btn-outlined btn-margin","data-testid":"sign-in","data-id":T.n.CHECKOUT_SIGN_IN_ATTR_DATA_ID,onClick:function(){return localStorage.setItem(nn,JSON.stringify(!0)),void Object(x.g)()},children:"Sign in"})]}),Object(u.jsxs)("div",{className:"contactInfoContent  col-sm-8 col-12",children:[!B&&Object(u.jsx)("p",{className:"mandatory-note",children:Object(Se.e)(Zt.c.mandatorynote)}),Object(u.jsx)(It,{className:dn(pe.error),placeholder:"Full Name*",onChange:Nt,onBlur:Nt,inputTestId:"form-fullname",name:_.FULL_NAME,value:pe.value,autocomplete:"off",maxlength:"26"}),Object(u.jsxs)("div",{id:"userFullName",className:un(pe.error),children:[pe.error&&Object(u.jsx)("img",{src:At,alt:"error",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:pe.errorMessage})]}),Object(u.jsx)(It,{className:dn(xe.error),placeholder:"Phone Number*",onChange:Nt,onBlur:Nt,inputTestId:"form-phone",name:_.PHONE,value:xe.value,autocomplete:"off",maxlength:"10"}),Object(u.jsxs)("div",{id:"userFullName",className:un(xe.error),children:[xe.error&&Object(u.jsx)("img",{src:At,alt:"error",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:xe.errorMessage})]}),Object(u.jsx)(It,{className:dn(Ce.error),placeholder:"Email*",onChange:Nt,onBlur:Nt,inputTestId:"form-email",name:_.EMAIL,value:Ce.value,autocomplete:"off"}),Object(u.jsxs)("div",{id:"userEmail",className:un(Ce.error),children:[Ce.error&&Object(u.jsx)("img",{src:At,alt:"error",className:"mr-2"}),Object(u.jsx)("span",{role:"alert",children:Ce.errorMessage})]}),Object(u.jsxs)("div",{className:"d-flex mt-20px mb-20px",children:[Object(u.jsx)("input",{tabIndex:"0",id:_.SUBSCRIPTION,type:"checkbox",name:_.SUBSCRIPTION,className:"common_checkbox mt-10px",value:Re.value,onChange:Nt,checked:Re.value}),Object(u.jsx)("label",{for:_.SUBSCRIPTION,title:!0,className:"form-check-label",children:Object(u.jsx)("span",{className:"agreeTxt",children:Object(Se.e)(A)})})]})]})]}),Object(u.jsx)(fj,{id:"paymentComp",productMapById:Xe,cartData:bt,isValidated:jt,tenantId:ct,userEmail:null===Ce||void 0===Ce?void 0:Ce.value,userPhone:null===xe||void 0===xe?void 0:xe.value,createOrderRequest:pt,subscription:null===Re||void 0===Re?void 0:Re.value,checkoutProps:e,paymentEnabled:ne,setIsPaymentTypeSelected:re,isClickContinuePayment:Z,setIsClickContinuePayment:$,currencyConversionFactor:rt,callBackValidateUserDetails:function(){ne||(Nt({target:{value:Pe.value,name:_.VEHICAL_INFORMATION,checked:!1}}),Nt({target:{value:pe.value,name:_.FULL_NAME,checked:!1}}),Nt({target:{value:xe.value,name:_.PHONE,checked:!1}}),Nt({target:{value:Ce.value,name:_.EMAIL,checked:!1}}))},tenderInfo:null===L||void 0===L?void 0:L.tenderInfo,paymentFormPayload:null===L||void 0===L?void 0:L.paymentFormPayload,callBackPaymentErrorHandler:function(e){e&&"payTmMerchantIdError"===e.errorCode&&($(!1),ae(!0),Oe(!0))}})]}),Object(u.jsx)("div",{className:"checkoutAmountDetails mt-10px ".concat(Object(x.lb)(B,"py-25px mobile","")," col-sm-12 col-lg-5 col-md-12"),children:Object(u.jsx)("div",{className:"col-sm-12 col-12",children:Object(u.jsxs)("div",{className:"p-3 ".concat(Object(x.lb)(B,"priceCard mobile","")," card"),children:[Object(u.jsx)(Ln,{cartReducer:Ke,tenantReducer:Ve,userParams:Ot,type:et,dispositionData:Ze}),Object(u.jsxs)("button",{id:y,variant:"outlined",className:"".concat(ne&&oe?"enabled ":"","payButton"),onClick:function(){var e,t,n,a,i;Oe(!1),ue(!1),Sn(w,qe);var c={basketId:null===bt||void 0===bt?void 0:bt.id,tenders:[],customer:{id:null===bt||void 0===bt||null===(e=bt.customer)||void 0===e?void 0:e.id,firstName:(null===pe||void 0===pe?void 0:pe.value)||(null===bt||void 0===bt||null===(t=bt.customer)||void 0===t?void 0:t.firstName)||"",lastName:(null===pe||void 0===pe?void 0:pe.value)||(null===bt||void 0===bt||null===(n=bt.customer)||void 0===n?void 0:n.lastName)||"",email:(null===Ce||void 0===Ce?void 0:Ce.value)||(null===bt||void 0===bt||null===(a=bt.customer)||void 0===a?void 0:a.email),phoneNumber:(null===xe||void 0===xe?void 0:xe.value)||(null===bt||void 0===bt||null===(i=bt.customer)||void 0===i?void 0:i.phone),couponCodes:[],customProperties:null}};Re.value&&(c.marketingPreferences=["email","phone"]),Object(x.dc)(et)===I&&(c.isContactless="leaveatmydoor"===z,c.instruction=Object(x.lb)("leaveatmydoor"===z,"",Pe.value),c.addressLines=[Be],In("DELIVERY","NA")),Object(x.dc)(et)===S&&((null===bt||void 0===bt?void 0:bt.availableCollectionPoints)&&(c.collectionPoint={name:Object(x.lb)("leaveatmydoor"===z,"in-store","curbside"),bayNumber:0}),In("PICKUP",z),c.instruction=Object(x.lb)("leaveatmydoor"===z,"",Pe.value)),Object(x.dc)(et)===C&&(c.collectionPoint={name:"in-store",bayNumber:0},In("DINEIN",c.collectionPoint.name)),ht({tenantId:ct,request:c}),Object(x.r)(ne,$(!0)),Object(x.r)(ya.b.isBrowser,ae(!1))},disabled:!Object(x.r)(ne,oe),children:["".concat(Object(Se.e)(y)),Object(u.jsxs)("span",{className:"rupee-text",children:[" ",ot,K," "]})]})]})})})]})]})}),L.showCartClearAlert&&Object(u.jsx)($d,{})]})},Nj=function(e,t,n,a,i,c){return[e,t].includes(Object(x.dc)(n))&&Tn(null===a||void 0===a?void 0:a.availableCollectionPoints,Object(x.dc)(n))&&Object(u.jsxs)("div",{className:"radioBtns mt-10px pl-0px pr-0px",children:[Object(u.jsx)("input",{type:"radio",id:"handittome",name:"checkoutoptions",value:"handittome"}),Object(u.jsx)("label",{for:"handittome",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"handItToMe",tabIndex:"0",children:Object(Se.e)(Object(x.lb)(Object(x.dc)(n)===t,i.HAND_IT_TO_ME.TITLE,c.KFC_TO_YOUR_CAR.TITLE))}),Object(u.jsx)("div",{className:"ml-25px option-note",children:Object(Se.e)(Object(x.lb)(Object(x.dc)(n)===t,i.HAND_IT_TO_ME.DESC,c.KFC_TO_YOUR_CAR.DESC))})]})}),Object(u.jsx)("hr",{className:"handItToMe-hr"})]})},xj=function(e,t,n,a,i,c,o,r,s,d){return[e,t].includes(Object(x.dc)(n))&&Tn(null===a||void 0===a?void 0:a.availableCollectionPoints,Object(x.dc)(n))&&Object(u.jsxs)("div",{className:"".concat(o,"-radiobutton"),children:[Object(u.jsx)("form",{className:"deliveryInstrs mb-3",children:Object(u.jsx)("textarea",{id:"instruction",className:"textarea",name:"".concat(Object(x.lb)(Object(x.dc)(n)===t,r.DELIVERY_INSTRUCTION,r.VEHICAL_INFORMATION)),rows:"2",placeholder:"".concat(Object(x.lb)(Object(x.dc)(n)===t,Object(Se.e)(i.HAND_IT_TO_ME.PLACE_HOLDER),Object(Se.e)(c.KFC_TO_YOUR_CAR.PLACE_HOLDER)),"*"),"aria-label":"".concat(Object(x.lb)(Object(x.dc)(n)===t,Object(Se.e)(i.HAND_IT_TO_ME.PLACE_HOLDER),Object(Se.e)(c.KFC_TO_YOUR_CAR.PLACE_HOLDER)),"*"),maxlength:"100",onChange:s,value:d.value,onBlur:s})}),Object(x.r)(d.error,Object(u.jsx)("div",{id:"deliveryInstrs",className:"deliveryInstrs-error",children:Object(u.jsx)("span",{role:"alert",className:"deliveryInstrs-error",children:d.errorMessage})}))]})},Ej=n.p+"static/media/kfcCup.7ca71cd3.svg",Ij=n.p+"static/media/kfc_bucket_mob.e7f992eb.svg",Tj={ERROR_CODE:"404",THERE_NO_FRIED_TEXT:"THERE'S NO FRIED",CHICKEN_PAGE_TEXT:"CHICKEN ON THIS PAGE...",TAKE_ME_HOME_TEXT:"takeMeHome",SIGN_UP_TEXT:"signUpText",SIGN_IN_TEXT:"signIn",SIGN_OUT_MESSAGE1:"signOutText1",SIGN_OUT_MESSAGE2:"signOutText2",SIGN_OUT_FAIL_MESSAGE1:"signOutFailText1",SIGN_OUT_FAIL_MESSAGE2:"signOutFailText2",DELETE_ACCOUNT_MESSAGE:"deleteAccountText"},Sj=function(e){var t=Tj.ERROR_CODE,n=Tj.THERE_NO_FRIED_TEXT,a=Tj.CHICKEN_PAGE_TEXT,i=Tj.TAKE_ME_HOME_TEXT;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"not-found-container",children:[Object(u.jsx)("div",{className:"not-found-kfc-bucket-part",children:Object(u.jsx)(Ca.a,{src:Object(x.Hb)(window.innerWidth)?Ij:Ej})}),Object(u.jsxs)("div",{className:"not-found-error-part",children:[Object(u.jsx)("p",{className:"not-found-error-text red-text",children:t}),Object(u.jsx)("p",{className:"not-found-error-text",children:n}),Object(u.jsx)("p",{className:"not-found-error-text",children:a}),Object(u.jsx)(Ot.a,{"data-testid":"take-me-homeid",className:"take-me-home-button",onClick:function(){e.history.push({pathname:"/"})},children:Object(Se.e)(i)})]})]})})},Cj=function(e){var t,n,a,o,r=Object(N.c)((function(e){return e.appStateReducer.userStatus})),s=Object(N.c)((function(e){return e.tenantReducer})),d=null,l=null,b=null,v=f.a.DISPOSITION,j=Object(N.b)();Object(i.useEffect)((function(){j(lb(s))}),[j,null===s||void 0===s?void 0:s.country]),Object(i.useEffect)((function(){j(ub(r))}),[j,r]);var O=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null}}));if(O.marketPageContent&&O.tenantReducerContent&&O.homePageContent){d=Object(x.V)(O.homePageContent);var m=O.marketPageContent.headerData||{},p=m.header,h=void 0===p?{}:p,g=m.footer,E=void 0===g?{}:g;l=Object(x.W)(h),b=Object(x.O)(E)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Bb)(l)&&Object(u.jsx)(Qa,{contentData:l,tenantReducerData:O.tenantReducerContent,userParams:r})||null,Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null!==(t=null===(n=d)||void 0===n?void 0:n[v])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(o=d)||void 0===o?void 0:o[v])&&void 0!==a?a:{}},userParams:r}),Object(u.jsx)(Sj,{"data-testid":"not-found-404-testid",history:e.history}),Object(x.Bb)(b)&&Object(u.jsx)(ba,{history:e.history,contentData:b,tenantReducerData:O.tenantReducerContent})||null]})},Aj=n(388),yj="effectiveDate",_j=function(e){var t=e.headerData,n=void 0===t?{}:t,a=n.title,i=void 0===a?"":a,c=n.effectiveDate,o=void 0===c?"":c,r=yj;return Object(u.jsxs)("div",{className:"privacy-header-container",children:[Object(u.jsx)("img",{src:ks,className:"privacy-icon",alt:""}),Object(u.jsx)("h1",{className:"privacy-header",children:i}),Object(u.jsxs)("div",{className:"privacy-eff-date",children:[Object(Se.e)(r)," ",o]})]})},Dj=function(e){var t=e.description,n=void 0===t?{}:t;return Object(u.jsx)("div",{children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Ur.documentToHtmlString)(n)},className:"privacy-description"})})},Rj=function(e){var t=e.questionList,n=void 0===t?[]:t,a=function(e){var t=e.target.parentElement.parentElement.parentElement;t.classList.contains("privacy-accordian-open")?t.classList.remove("privacy-accordian-open"):t.classList.add("privacy-accordian-open")};return Object(u.jsx)("div",{children:n.map((function(e){return Object(u.jsx)("div",{className:"privacy-accordian",children:Object(u.jsx)(oe,{header:e.question,onClickHandler:a,children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Ur.documentToHtmlString)(e.answer)},className:"privacy-accordian-answer"})})})}))})},wj=function(e){var t=e.contentData,n=void 0===t?{}:t,a=n.headerData,c=void 0===a?{}:a,o=n.description,r=void 0===o?{}:o,s=n.questionList,d=void 0===s?[]:s,l=Object(i.useState)(Object(x.Hb)(window.innerWidth)),b=Object(j.a)(l,2),v=b[0],O=b[1],m=function(){var e=Object(x.Hb)(window.innerWidth);O(e)};Object(i.useEffect)((function(){window.addEventListener("resize",m)}),[v]);return v?Object(u.jsxs)("div",{className:"privacy-mobile-container",children:[Object(u.jsx)("div",{className:"privacy-mobile-header",children:Object(u.jsx)(_j,{headerData:c})}),Object(u.jsx)("div",{className:"privacy-mobile-description",children:Object(u.jsx)(Dj,{description:r})}),Object(u.jsx)("div",{className:"privacy-mobile-questions",children:Object(u.jsx)(Rj,{questionList:d})})]}):Object(u.jsxs)("div",{className:"privacy-desktop-container",children:[Object(u.jsx)("div",{className:"privacy-section-left",children:Object(u.jsx)(_j,{headerData:c})}),Object(u.jsxs)("div",{className:"privacy-section-right",children:[Object(u.jsx)("div",{className:"privacy-description-desktop",children:Object(u.jsx)(Dj,{description:r})}),Object(u.jsx)("div",{className:"privacy-questions-desktop",children:Object(u.jsx)(Rj,{questionList:d})})]})]})},kj=function(e){var t,n,a,r,s,d=Object(i.useContext)(E.a).userOrderState,l=Object(N.b)(),b=Object(N.c)((function(e){return e.appStateReducer.userStatus})),v=Object(o.g)().pathname.includes("privacyPolicy/true"),j=null,O=null,g=null,T=null,S=f.a.DISPOSITION,C=Object(N.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),tenantReducerContent:m.a.get(e,"tenantReducer",null),privacyPolicyContent:m.a.get(e,"privacyPolicyReducer.response",null)}}));if(C.marketPageContent&&C.tenantReducerContent&&C.homePageContent&&Object(x.Bb)(C.privacyPolicyContent)){j=Object(x.V)(C.homePageContent);var A=C.marketPageContent.headerData,y=A.header,_=void 0===y?{}:y,D=A.tenant,R=void 0===D?[]:D,w=A.footer,k=void 0===w?{}:w;O=Object(x.W)(_),T=Object(x.O)(k),Object(x.jb)(R),g=Object(x.hb)(C.privacyPolicyContent)}return Object(i.useEffect)((function(){var e;l(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===C||void 0===C||null===(e=C.tenantReducerContent)||void 0===e?void 0:e.country,"fields.channel":ya.b.channel,include:5}}))}),[null===C||void 0===C||null===(t=C.tenantReducerContent)||void 0===t?void 0:t.country,l]),Object(i.useEffect)((function(){l(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ya.b.channel,include:"5"},userParams:b}))}),[l,b]),Object(i.useEffect)((function(){l(Object(Aj.a)({object:Object(I.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Privacy Policy",include:"5"}}))}),[l]),Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Bb)(O)&&!v&&Object(u.jsx)(Qa,{contentData:O,tenantReducerData:C.tenantReducerContent,userParams:b})||null,!v&&Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null!==(n=null===(a=j)||void 0===a?void 0:a[S])&&void 0!==n?n:{},contentDispositionData:null!==(r=null===(s=j)||void 0===s?void 0:s[S])&&void 0!==r?r:{}},userParams:b}),Object(x.Bb)(g)&&Object(u.jsx)(wj,{contentData:g}),Object(x.Bb)(T)&&!v&&Object(u.jsx)(ba,{history:e.history,contentData:T,tenantReducerData:C.tenantReducerContent})||null,d.showCartClearAlert?Object(u.jsx)($d,{}):null]})},Lj=n(389),Pj="effectiveDate",Mj=function(e){var t=e.headerData,n=void 0===t?{}:t,a=n.title,i=void 0===a?"":a,c=n.effectiveDate,o=void 0===c?"":c,r=Pj;return Object(u.jsxs)("div",{className:"ourAds-header-container",children:[Object(u.jsx)("img",{src:ks,className:"ourAds-icon",alt:" "}),Object(u.jsx)("h1",{className:"ourAds-header",children:i}),Object(u.jsxs)("div",{className:"ourAds-eff-date",children:[Object(Se.e)(r)," ",o]})]})},Fj=function(e){var t=e.description,n=void 0===t?{}:t;return Object(u.jsx)("div",{children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Ur.documentToHtmlString)(n)},className:"ourAds-description"})})},Hj=function(e){var t=e.questionList,n=void 0===t?[]:t,a=function(e){var t=e.target.parentElement.parentElement.parentElement;t.classList.contains("ourAds-accordian-open")?t.classList.remove("ourAds-accordian-open"):t.classList.add("ourAds-accordian-open")};return Object(u.jsx)("section",{children:n.map((function(e){return Object(u.jsx)("section",{className:"ourAds-accordian",children:Object(u.jsx)(oe,{header:e.question,onClickHandler:a,children:Object(u.jsx)("section",{dangerouslySetInnerHTML:{__html:Object(Ur.documentToHtmlString)(e.answer)},className:"ourAds-accordian-answer"})})})}))})},Bj=function(e){var t=e.contentData,n=void 0===t?{}:t,a=n.headerData,c=void 0===a?{}:a,o=n.description,r=void 0===o?{}:o,s=n.questionList,d=void 0===s?[]:s,l=Object(i.useState)(Object(x.Hb)(window.innerWidth)),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useContext)(E.a).userOrderState,f=function(){var e=Object(x.Hb)(window.innerWidth);O(e)};Object(i.useEffect)((function(){window.addEventListener("resize",f)}),[v]);return v?Object(u.jsxs)("div",{className:"ourAds-mobile-container",children:[Object(u.jsx)("div",{className:"ourAds-mobile-header",children:Object(u.jsx)(Mj,{headerData:c})}),Object(u.jsx)("div",{className:"ourAds-mobile-description",children:Object(u.jsx)(Fj,{description:r})}),Object(u.jsx)("div",{className:"ourAds-mobile-questions",children:Object(u.jsx)(Hj,{questionList:d})}),m.showCartClearAlert?Object(u.jsx)($d,{}):null]}):Object(u.jsxs)("div",{className:"ourAds-desktop-container",children:[Object(u.jsx)("div",{className:"ourAds-section-left",children:Object(u.jsx)(Mj,{headerData:c})}),Object(u.jsxs)("div",{className:"ourAds-section-right",children:[Object(u.jsx)("div",{className:"ourAds-description-desktop",children:Object(u.jsx)(Fj,{description:r})}),Object(u.jsx)("div",{className:"ourAds-questions-desktop",children:Object(u.jsx)(Hj,{questionList:d})})]}),m.showCartClearAlert?Object(u.jsx)($d,{}):null]})},Uj=function(e){var t,n,a,r,s=Object(i.useContext)(E.a).userOrderState,d=Object(N.c)((function(e){return e.tenantReducer})),l=Object(N.b)(),b=Object(x.Ab)(s.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):s.dispositionNew,v=(Object(i.useMemo)((function(){var e;return{tenantReducer:Object(x.Bb)(d)?d:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:b?null===b||void 0===b?void 0:b.store:{},dispositionType:b&&(null===b||void 0===b?void 0:b.type)?Object(x.I)(null===b||void 0===b?void 0:b.type):Object(x.I)(null===d||void 0===d||null===(e=d.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[b,d]),Object(N.c)((function(e){return e.appStateReducer.userStatus})));Object(i.useEffect)((function(){l(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===d||void 0===d?void 0:d.country,"fields.channel":ya.b.channel,include:5}}))}),[l]),Object(i.useEffect)((function(){l(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ya.b.channel,include:"5"},userParams:v}))}),[l,v]);var j=Object(o.g)().pathname.includes("ourAds/true");Object(i.useEffect)((function(){l(Object(Lj.a)({object:Object(I.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"About Our Ads",include:"5"}}))}),[l]);var O=null,g=null,T=null,S=null,C=f.a.DISPOSITION,A=Object(N.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),tenantReducerContent:m.a.get(e,"tenantReducer",null),ourAdsContent:m.a.get(e,"ourAdsReducer.response",null)}}));if(A.marketPageContent&&A.tenantReducerContent&&A.homePageContent&&Object(x.Bb)(A.ourAdsContent)){O=Object(x.V)(A.homePageContent);var y=A.marketPageContent.headerData,_=y.header,D=void 0===_?{}:_,R=y.tenant,w=void 0===R?[]:R,k=y.footer,L=void 0===k?{}:k;g=Object(x.W)(D),S=Object(x.O)(L),Object(x.jb)(w),T=Object(x.fb)(A.ourAdsContent)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Bb)(g)&&!j&&Object(u.jsx)(Qa,{contentData:g,tenantReducerData:A.tenantReducerContent,userParams:v})||null,!j&&Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null!==(t=null===(n=O)||void 0===n?void 0:n[C])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(r=O)||void 0===r?void 0:r[C])&&void 0!==a?a:{}},userParams:v}),Object(x.Bb)(T)&&Object(u.jsx)(Bj,{contentData:T}),Object(x.Bb)(S)&&!j&&Object(u.jsx)(ba,{history:e.history,contentData:S,tenantReducerData:A.tenantReducerContent})||null]})},Gj=n(222),Yj=n(102),Kj=function(e){var t=Fn.CURRENT_ORDER,n=void 0===t?"":t,a=Fn.PROCESSING,c=void 0===a?"":a,o=Fn.PROCESSING_YOUR,r=void 0===o?"":o,s=Fn.ORDER_READY_IN_JUST,d=void 0===s?"":s,l=Fn.SECOND,b=void 0===l?"":l,v=Fn.CONFIRMING_YOUR_ORDER,O=void 0===v?"":v,m=Fn.READY_IN_JUST_A_SECOND,f=void 0===m?"":m,p=Object(i.useState)(Object(x.Hb)(window.innerWidth)),h=Object(j.a)(p,2),g=h[0],N=h[1],E=function(){var e=Object(x.Hb)(window.innerWidth);N(e)};return Object(i.useEffect)((function(){window.addEventListener("resize",E)}),[g]),Object(i.useEffect)((function(){if(e.retryCount>=0&&e.retryCount<=Yj.a){var t=document.getElementById("progressBarContainer"),n=document.getElementById("progressBar");console.log(t.offsetWidth);var a=t.offsetWidth/Yj.a*(e.retryCount+1);console.log(a),n.style.width=a+"px"}}),[e.retryCount]),Object(u.jsx)("div",{children:g?Object(u.jsx)("div",{className:"orderConfirmScreenMob","data-testid":"orderConfirmItems-component",children:Object(u.jsxs)("div",{className:"statusBar",children:[Object(u.jsx)("div",{className:"currentStatusMob",children:Object(Se.e)(n)}),Object(u.jsx)("div",{id:"progressBarContainer",className:"ProgressMob",children:Object(u.jsx)("div",{id:"progressBar",className:"barMob","data-testid":"load-component"})}),Object(u.jsx)("div",{className:"progressBarMob",children:Object(Se.e)(c)}),Object(u.jsx)("div",{className:"confirmOrderMobile",children:Object(Se.e)(r)}),Object(u.jsxs)("div",{className:"confirmOrderMobile",children:[" ",Object(Se.e)(d)]}),Object(u.jsxs)("div",{className:"confirmOrderMobile",children:[" ",Object(Se.e)(b)]})]})}):Object(u.jsx)("div",{className:"orderConfirmScreen","data-testid":"orderConfirmItems-component",children:Object(u.jsxs)("div",{className:"statusBar",children:[Object(u.jsx)("div",{className:"currentStatus",children:Object(Se.e)(n)}),Object(u.jsx)("div",{id:"progressBarContainer",className:"Progress",children:Object(u.jsx)("div",{id:"progressBar",className:"bar"})}),Object(u.jsx)("div",{className:"progressBar",children:Object(Se.e)(c)}),Object(u.jsx)("div",{className:"confirmOrder",children:Object(Se.e)(O)}),Object(u.jsxs)("div",{className:"confirmOrder",children:[" ",Object(Se.e)(f)," "]})]})})})},Vj=n(125),Wj=function(e){var t=e.isOpen,n=void 0!==t&&t,c=e.handleClose,o=e.onSave,r=e.tenantReducer,s=void 0===r?{}:r,d=e.OrderReducerData,l=void 0===d?{}:d,b=s.tenantId,v=void 0===b?"":b,O=l.id,m=void 0===O?"":O,f=l.customer,p=(f=void 0===f?{}:f).id,h=void 0===p?"":p,g=f.phoneNumber,E=void 0===g?"":g,I=Object(i.useState)(Object(x.Hb)(window.innerWidth)),T=Object(j.a)(I,2),S=T[0],C=T[1],A=Object(i.useState)(!0),y=Object(j.a)(A,2),_=y[0],D=y[1],R=Object(i.useState)({value:"",errorMessage:"",error:!1}),w=Object(j.a)(R,2),k=w[0],L=w[1],P=Fn.THANKYOU,M=void 0===P?"":P,F=Fn.WE_SAVED,H=void 0===F?"":F,B=Fn.GIVE_A_NAME,U=void 0===B?"":B,G=function(e){var t=e.target.value;(function(){L(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?t.length<3?(n.error=!0,n.errorMessage=Object(Se.e)(Fn.SAVE_ORDER_NAME_ERROR),D(!0)):(n.error=!1,n.errorMessage="",D(!1)):(n.error=!0,n.errorMessage=Object(Se.e)(Fn.SAVE_ORDER_NAME_ERROR),D(!0)),n}(k,t)))})()},Y=Object(N.b)();Object(i.useEffect)((function(){return window.addEventListener("resize",K),function(){window.removeEventListener("resize",K)}}));var K=function(){C(Object(x.Hb)(window.innerWidth))},V=S?{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:n,classNames:"save-order-modal",showCloseBtn:!0,closeButtonHandler:c,autoFocus:!0}:{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:n,classNames:"save-order-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:c,autoFocus:!0};return Object(u.jsx)("div",{children:n&&Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},V),{},{children:Object(u.jsxs)("div",{className:"modalContants",children:[Object(u.jsx)("div",{className:"fontstyle",children:Object(Se.e)(M)}),Object(u.jsx)("div",{className:"fontstyle",children:Object(Se.e)(H)}),Object(u.jsx)("div",{className:"fontstyle",children:Object(Se.e)(U)}),S?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"inputbox",children:Object(u.jsx)(Rt,{value:k.value,className:"inputfield",placeholder:"Name This Order","data-testid":"modal-coupon-input-field",onChange:G})}),Object(u.jsxs)("div",{id:"saveTrackOrderScreen",className:"error-text",children:[k.error,Object(u.jsx)("span",{role:"alert",children:k.errorMessage})]})]}):Object(u.jsxs)("div",{className:"inputbox trackOrderScreen",children:[Object(u.jsx)(Rt,{value:k.value,className:"inputfield",placeholder:"Name This Order","data-testid":"modal-coupon-input-field",onChange:G}),Object(u.jsxs)("div",{id:"saveTrackOrderScreen",className:"error-text",children:[k.error,Object(u.jsx)("span",{role:"alert",children:k.errorMessage})]})]}),Object(u.jsxs)("div",{className:"buttonItems",children:[Object(u.jsx)(Ot.a,{"data-testid":"coupon-button-one",className:"button whiteButton blackBorder closebtn-cls",onClick:function(e){return console.log("close"),void c()},children:"Cancel"}),Object(u.jsx)(Ot.a,{"data-testid":"coupon-button-two",className:"button blackButton blackBorder save-button",onClick:function(e){return function(e){var t=Object(a.a)({},k);e.stopPropagation(),console.log("saved"),""!==k.value?(Y(Object(Vj.a)({customerId:h,tenantId:v,phoneNumber:E},{orderId:m,name:k.value})),o(!0),c()):(t.error=!0,t.errorMessage=Object(Se.e)(Fn.SAVE_ORDER_NAME_ERROR),D(!0),L(t))}(e)},disabled:_,children:"Save"})]})]})}))})};Wj.defaultProps={isOpen:!1,closeModal:null};var qj=Wj,zj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAYAAACALL/6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABXSURBVHgBtctBDQAgCAVQIxjBCEaxgRE0ghFsZgQjGAE5wObcQC6y/Qv/fed+HABkzMB4K+arLxwxi3A7i4IJVlzpOXkkYioDYR4lEQsjULEw0vE16prZA0KiodJlD34AAAAASUVORK5CYII=",Qj=Ls.phoneImg,Jj=Ls.Direction,Xj=Fn.GST,Zj=Fn.YOUR_ORDER,$j=Fn.ORDER,eO=Fn.ORDER_FROM_CAPS,tO=Fn.GET_DIRECTION,nO=Fn.SUB_TOTAL,aO=Fn.TOTAL,iO=Fn.largeCarryBagText,cO=Fn.addHopeText,oO=Fn.SEARCH_IN_CART,rO=Fn.DELIVERY,sO=Fn.PICKUP,dO=Fn.ONLY_IMAGE,lO=Fn.DELIVERY_FEE,uO=Fn.DISCOUNT_TEXT,bO=Fn.HH_MM,vO=Fn.HH_MM_A,jO=Fn.TOTAL_GST_INCLUDED,OO=function(e,t,n){return null===e||void 0===e?void 0:e.filter((function(e){var a,i;return(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.name)!==t&&(null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.name)!==n}))},mO=function(e){null===e||void 0===e||e.substr(0,null===e||void 0===e?void 0:e.indexOf(" "));var t=null===e||void 0===e?void 0:e.substr((null===e||void 0===e?void 0:e.indexOf(" "))+1);return(null===t||void 0===t?void 0:t.slice(0,3))+"-"+(null===t||void 0===t?void 0:t.slice(3,6))+"-"+(null===t||void 0===t?void 0:t.slice(6))},fO=function(e,t,n){return Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Se.e)(Xj)}),Object(u.jsxs)("span",{className:"amount",children:[e,ia(null===t||void 0===t?void 0:t.inclusiveTaxTotal,n)," "]})]})},pO=function(e){return(null===e||void 0===e?void 0:e.toUpperCase())===rO?Object(Se.e)(lO):Object(Se.e)(Fn.RESTAURANT_HANDLING_CHARGE)},hO=function(e,t,n,a){return e&&e.map((function(e,i){return Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:pO(a)}),Object(u.jsxs)("span",{className:"amount",children:[t,ia(null===e||void 0===e?void 0:e.amount,n)," "]})]},i)}))},gO=function(e){var t,n,a,i,c,o;return"".concat(null===e||void 0===e||null===(t=e.deliveryAddress)||void 0===t||null===(n=t.addressLines)||void 0===n?void 0:n.join(" ")," ").concat(null===e||void 0===e||null===(a=e.deliveryAddress)||void 0===a?void 0:a.city," ").concat(null===e||void 0===e||null===(i=e.deliveryAddress)||void 0===i?void 0:i.state," ").concat(null===e||void 0===e||null===(c=e.deliveryAddress)||void 0===c?void 0:c.country," ").concat(null===e||void 0===e||null===(o=e.deliveryAddress)||void 0===o?void 0:o.pinCode)},NO=function(e){return(null===e||void 0===e?void 0:e.id)?null===(null===e||void 0===e?void 0:e.posOrderId)||""===(null===e||void 0===e?void 0:e.posOrderId)?null===e||void 0===e?void 0:e.id:null===e||void 0===e?void 0:e.posOrderId:""},xO=function(e,t,n){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"line",children:oa(null===e||void 0===e?void 0:e.item,t,n)}),Object(u.jsxs)("div",{className:"price",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Se.e)(nO)}),Object(u.jsxs)("span",{className:"amount",children:[t,null===e||void 0===e?void 0:e.subTotal]})]}),(null===e||void 0===e?void 0:e.taxValue)&&Object(u.jsx)("div",{children:fO(t,e,n)}),Object(u.jsx)("div",{children:hO(null===e||void 0===e?void 0:e.additionalCharges,t,n,null===e||void 0===e?void 0:e.service)}),(null===e||void 0===e?void 0:e.discountTotal)>0&&Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Se.e)(uO)}),Object(u.jsxs)("span",{className:"amount",children:[" ","- ",t,null===e||void 0===e?void 0:e.discountTotal]})]})]})},EO=function(e,t,n,a,i){return(null===e||void 0===e?void 0:e.service)===rO?function(e,t,n,a){var i,c,o,r,s,d,l,b,v=Object(x.t)(null===e||void 0===e?void 0:e.operatingHours),j=Object(ye.s)(Object(x.eb)(v),bO,vO),O=Object(ye.s)(Object(x.x)(v),bO,vO);return Object(u.jsxs)("div",{className:"Bill",children:[Object(u.jsx)("h2",{className:"orderFrom",children:Object(Se.e)("deliveryAddress")}),Object(u.jsx)("div",{className:"place",children:null===e||void 0===e?void 0:e.fullAddressDetails}),(null===e||void 0===e?void 0:e.instruction)&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"orderFrom",children:Object(Se.e)("instructions")}),Object(u.jsx)("div",{className:"place",children:null===e||void 0===e?void 0:e.instruction})]}),Object(u.jsx)("h2",{className:"orderFrom",children:Object(Se.e)("preparedBy")}),Object(u.jsxs)("div",{className:"place",children:[Object(u.jsxs)("span",{className:"fnt-bld mob-display",children:[null===e||void 0===e?void 0:e.storeName," "]}),(null===v||void 0===v?void 0:v.length)&&Object(u.jsxs)("span",{className:"hrs-view mob-display",children:["Hours: ","".concat(j,"-").concat(O)]})]}),xO(e,t,n),(null===e||void 0===e?void 0:e.total)&&Object(u.jsxs)("div",{className:"totalAmount",children:[Object(u.jsxs)("span",{className:"total",children:[Object(Se.e)(jO),":"]}),Object(u.jsxs)("span",{className:"total",children:[t,null===e||void 0===e?void 0:e.total]})]}),Object(u.jsx)("div",{class:"hr-payment-type"}),Object(u.jsxs)("div",{className:"totalAmount mt-5",children:[Object(u.jsx)("span",{className:"total",children:Object(Se.e)("Payment")}),Object(u.jsx)("span",{className:"total payment-type",children:(null===a||void 0===a||null===(i=a.fields)||void 0===i?void 0:i.displayFormat)===dO?Object(u.jsx)("img",{src:null===a||void 0===a||null===(c=a.fields)||void 0===c||null===(o=c.icon)||void 0===o||null===(r=o.fields)||void 0===r||null===(s=r.desktopImage)||void 0===s||null===(d=s.fields)||void 0===d||null===(l=d.file)||void 0===l?void 0:l.url,alt:"paymentMethod"}):Object(u.jsx)("span",{children:null===a||void 0===a||null===(b=a.fields)||void 0===b?void 0:b.displayName})})]})]})}(e,n,a,t):function(e,t,n,a,i){var c,o,r,s,d,l,b,v;return Object(u.jsxs)("div",{className:"Bill",children:[Object(u.jsxs)("div",{className:"orderTitle",children:[Object(u.jsx)("h2",{className:"yourOrder",children:Object(Se.e)(Zj)}),Object(u.jsxs)("span",{className:"orderId",children:[Object(u.jsx)("span",{className:"OrderClass",children:Object(Se.e)($j)}),null===e||void 0===e?void 0:e.orderId]})]}),Object(u.jsx)("div",{className:"orderingDateTime",children:"".concat(null===e||void 0===e?void 0:e.orderingDate," ").concat(Object(Se.e)("At")," ").concat(null===e||void 0===e?void 0:e.orderingTime)}),Object(u.jsxs)("div",{className:"postorder-payment-details",children:[Object(u.jsx)("h2",{className:"payment-header",children:Object(Se.e)("paymentHeader")}),Object(u.jsx)("div",{className:"payment-details",children:(null===t||void 0===t||null===(c=t.fields)||void 0===c?void 0:c.displayFormat)===dO?Object(u.jsx)("img",{src:null===t||void 0===t||null===(o=t.fields)||void 0===o||null===(r=o.icon)||void 0===r||null===(s=r.fields)||void 0===s||null===(d=s.desktopImage)||void 0===d||null===(l=d.fields)||void 0===l||null===(b=l.file)||void 0===b?void 0:b.url,alt:"paymentMethod"}):Object(u.jsx)("span",{className:"payment-completed",children:null===t||void 0===t||null===(v=t.fields)||void 0===v?void 0:v.displayName})})]}),Object(u.jsx)("h2",{className:"orderFrom",children:Object(Se.e)(eO)}),Object(u.jsx)("div",{className:"place",children:null===e||void 0===e?void 0:e.storeName}),Object(u.jsx)("div",{className:"Address",children:null===e||void 0===e?void 0:e.addressLines}),Object(u.jsxs)("div",{className:"ContactDetail",children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("img",{src:Qj,alt:"",className:"phoneIcon"}),Object(u.jsx)("span",{className:"phoneNum",children:Object(u.jsx)("a",{href:"tel:{orderDetails?.phoneNumber}",className:"anchorTag",children:null===e||void 0===e?void 0:e.phoneNumberFormat})})]}),Object(u.jsxs)("span",{children:[Object(u.jsx)("img",{src:Jj,alt:"",className:"phoneIcon"}),Object(u.jsx)("span",{"data-testid":"get-direction",tabIndex:"0",className:"phoneNum",onClick:function(){return i()},children:Object(Se.e)(tO)})]})]}),xO(e,n,a),(null===e||void 0===e?void 0:e.service)===sO&&(null===e||void 0===e?void 0:e.carryBagDataExistsId)&&Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Se.e)(iO)}),Object(u.jsx)("span",{className:"amount",children:null===e||void 0===e?void 0:e.carryBagDataPrice})]}),Boolean(null===e||void 0===e?void 0:e.addHopeDataExistsId)&&Object(u.jsxs)("div",{className:"priceList",children:[Object(u.jsx)("span",{className:"fonts",children:Object(Se.e)(cO)}),Object(u.jsx)("span",{className:"amount",children:null===e||void 0===e?void 0:e.addHopeDataPrice})]}),(null===e||void 0===e?void 0:e.total)&&Object(u.jsxs)("div",{className:"totalAmount",children:[Object(u.jsx)("span",{className:"total",children:Object(Se.e)(aO)}),Object(u.jsxs)("span",{className:"total",children:[n,null===e||void 0===e?void 0:e.total]})]})]})}(e,t,n,a,i)},IO=function(e){var t,n=e.orderReducerData,a=void 0===n?{}:n,c=e.tenantReducer,o=void 0===c?{}:c,r=e.getDirectionClickForMaps,s=e.enableAccordion,d=e.isOpenAccordion,l=e.orderDetailsObj,b=void 0===l?{}:l,v=a.tenders,O=o.currencySymbol,m=o.currencyConversionFactor,f=o.addHope,p=o.carryBag,h=Object(N.c)((function(e){return null===e||void 0===e?void 0:e.paymentsContentReducer})).tendersContent.items,g=Object(N.b)();Object(i.useEffect)((function(){g(Object(Tt.a)({object:Object(I.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]);var E=Object(i.useState)({fields:{displayFormat:""}}),T=Object(j.a)(E,2),S=T[0],C=T[1],A=Object(i.useState)({service:"",orderId:"",storeName:"",phoneNumber:"",subTotal:0,taxValue:[],additionalCharges:[],discountTotal:0,total:"",item:[],addHopeDataExistsId:"",carryBagDataExistsId:"",addHopeDataPrice:"",carryBagDataPrice:"",orderingDate:"",orderingTime:"",fullAddressDetails:"",instruction:"",addressLines:"",inclusiveTaxTotal:"",operatingHours:null===b||void 0===b||null===(t=b.operatingTime)||void 0===t?void 0:t.operatingHours}),y=Object(j.a)(A,2),_=y[0],D=y[1];return Object(i.useEffect)((function(){if(null===a||void 0===a?void 0:a.id){var e,t,n,i,c,r,s,d=Object(x.r)(f,p)?ra(a,f,p,oO,void 0,void 0,o):{};D({service:null===a||void 0===a||null===(e=a.service)||void 0===e?void 0:e.toUpperCase(),orderId:NO(a),storeName:null===a||void 0===a||null===(t=a.store)||void 0===t?void 0:t.name,phoneNumber:null===a||void 0===a||null===(n=a.store)||void 0===n?void 0:n.phoneNumber,phoneNumberFormat:mO(null===a||void 0===a||null===(i=a.store)||void 0===i?void 0:i.phoneNumber),subTotal:ia(null===a||void 0===a?void 0:a.subTotal,m),taxValue:null===a||void 0===a?void 0:a.taxLines,additionalCharges:null===a||void 0===a?void 0:a.additionalChargeLines,discountTotal:ia(null===a||void 0===a?void 0:a.discountTotal,m),total:ia(null===a||void 0===a?void 0:a.total,m),item:OO(null===a||void 0===a?void 0:a.foodLines,f,p),addHopeDataExistsId:(null===d||void 0===d?void 0:d.addHopeDataExistsId)||"",carryBagDataExistsId:(null===d||void 0===d?void 0:d.carryBagDataExistsId)||"",addHopeDataPrice:(null===d||void 0===d?void 0:d.addHopeDataPrice)||"",carryBagDataPrice:(null===d||void 0===d?void 0:d.carryBagDataPrice)||"",orderingDate:Object(x.F)(null===a||void 0===a?void 0:a.orderingDateTime),orderingTime:Object(x.mb)(null===a||void 0===a?void 0:a.orderingDateTime),fullAddressDetails:gO(a),instruction:null===a||void 0===a?void 0:a.instruction,addressLines:null===a||void 0===a||null===(c=a.store)||void 0===c||null===(r=c.address)||void 0===r?void 0:r.addressLines,inclusiveTaxTotal:null===a||void 0===a?void 0:a.inclusiveTaxTotal,operatingHours:null===b||void 0===b||null===(s=b.operatingTime)||void 0===s?void 0:s.operatingHours}),Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya.b.BindOrder();case 2:case"end":return e.stop()}}),e)})))()}}),[null===a||void 0===a?void 0:a.id,f,p]),Object(i.useEffect)((function(){Object(x.r)(null===h||void 0===h?void 0:h.length,null===v||void 0===v?void 0:v.length)&&h.forEach((function(e){e.fields.title===v[0].type&&C(e)}))}),[v]),s?function(e,t,n,a,i,c){return Object(u.jsx)("div",{className:"accordion-bill",children:Object(u.jsxs)("div",{className:"accordion-bill-info",children:[Object(u.jsx)("div",{class:"circle-topp"}),Object(u.jsx)("div",{className:"accordion-Title",children:Object(u.jsx)("div",{className:"bill-accordian",id:null===e||void 0===e?void 0:e.orderId,children:Object(u.jsx)(oe,{cssClass:"bill-container",header:"".concat(Object(Se.e)($j)," ").concat(null===e||void 0===e?void 0:e.orderId),open:!c,onClickHandler:function(e){var t,n,a,i,c,o,r=null===e||void 0===e||null===(t=e.target)||void 0===t||null===(n=t.parentElement)||void 0===n||null===(a=n.parentElement)||void 0===a?void 0:a.parentElement;(null===r||void 0===r||null===(i=r.classList)||void 0===i?void 0:i.contains("terms-accordian-open"))?null===r||void 0===r||null===(c=r.classList)||void 0===c||c.remove("terms-accordian-open"):null===r||void 0===r||null===(o=r.classList)||void 0===o||o.add("terms-accordian-open")},children:Object(u.jsx)("div",{className:"bill-accordian-description",children:EO(e,t,n,a,i)})})})}),Object(u.jsx)("div",{class:"circle-bottomm"})]})})}(_,S,O,m,r,d):EO(_,S,O,m,r)},TO=function(e,t){return!e&&t.loggedIn&&Object(u.jsx)("div",{className:"linebreak"})},SO=function(e){var t=e.orderReducerData,n=void 0===t?{}:t,a=e.userParams,c=void 0===a?{}:a,o=e.tenantReducer,r=void 0===o?{}:o,s=Object(i.useState)(!1),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(i.useState)(!1),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(Object(x.Hb)(window.innerWidth)),h=Object(j.a)(p,2),g=h[0],N=h[1],E=Object(i.useState)(!1),I=Object(j.a)(E,2),T=I[0],S=I[1],C=Object(i.useState)(""),A=Object(j.a)(C,2),y=A[0],_=A[1],D=Object(i.useState)(""),R=Object(j.a)(D,2),w=R[0],k=R[1],L=Fn.SAVE_YOUR_ORDERS_AND_CHECKOUT_FASTER,P=void 0===L?"":L,M=Fn.SAVED_TO_FAVORITE_MENU,F=void 0===M?"":M,H=Fn.SAVE_THIS_Order,B=void 0===H?"":H,U=function(){var e=Object(x.Hb)(window.innerWidth);N(e)};Object(i.useEffect)((function(){window.addEventListener("resize",U)}),[g]),Object(i.useEffect)((function(){m&&(Wt.b.dark(Object(u.jsx)("div",{className:"img-text-div",children:Object(u.jsxs)("span",{className:"notifyText",children:[Object(u.jsx)("img",{src:zj,alt:"tick",className:"TickImg"}),Object(Se.e)(F)]})}),{bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:Wt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Wt.b.dismiss()}),4e3))}),[m]);var G,Y,K=function(){!function(e){e(!0)}(S)};return Object(i.useEffect)((function(){if(n.id){_(n.service);var e=n.fulfillmentDateTime,t=Object(x.mb)(e);k(t)}}),[n]),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"OrderReceivedContainer",children:Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("div",{className:"NotifyOrderPlaced",children:Object(u.jsxs)("div",{className:"tickimage",children:["DELIVERY"===y.toUpperCase()?Object(u.jsx)("div",{children:(G=n,Y=w,Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:Mn,alt:"success"}),Object(u.jsxs)("div",{className:"allSet",children:[Object(Se.e)(zn),"."]}),Object(u.jsxs)("div",{className:"idAndTime",children:[Object(Se.e)(null===Bn||void 0===Bn?void 0:Bn.toUpperCase())," ",Object(u.jsxs)("span",{className:"red",children:["#",null===(null===G||void 0===G?void 0:G.posOrderId)?null===G||void 0===G?void 0:G.id:null===G||void 0===G?void 0:G.posOrderId," "]}),Object(Se.e)(Kn.toUpperCase()),Object(u.jsx)("div",{className:"red",children:Y})]})]}))}):Object(u.jsx)("div",{children:aa(n,w,y)}),TO(m,c),c.loggedIn&&Object(u.jsx)("div",{children:!m&&Object(u.jsxs)("div",{className:"savingdiv",children:[Object(u.jsx)("span",{className:"saving",children:Object(Se.e)(P)}),Object(u.jsx)("span",{className:"saveButton",children:Object(u.jsx)(Ot.a,{"data-testid":"save-logged-order",className:"button transparent-btn black-border",onClick:function(){return ta(b)},ariaLable:Object(Se.e)(B),children:Object(Se.e)(B)})})]})})]})}),Object(u.jsx)(IO,{orderReducerData:n,tenantReducer:r,getDirectionClickForMaps:K})]})}),l&&Object(u.jsx)("div",{children:Object(u.jsx)(qj,{"data-testid":"confirm-modal",isOpen:l,handleClose:function(){return b(!1)},onSave:function(){return na(f,!0)},tenantReducer:r,OrderReducerData:n})}),T&&Object(u.jsx)("div",{children:Object(u.jsx)(xt,{"data-testid":"map-modal",isOpen:T,handleClose:function(){return S(!1)},OrderReducerData:n})})]})},CO=Ls.CallIcon,AO=function(e){var t,n,a,i,c,o,r=e.orderReducerData,s=void 0===r?{}:r,d=e.orderDetails,l=void 0===d?{}:d,b=e.isMobile,v=void 0!==b&&b,j=s.deliveryPartner,O=s.store,m=void 0===O?{}:O,f=T.Z.CREATED,p=T.Z.ASSIGNED,h=T.Z.PICKED_UP,g=T.Z.OUT_FOR_DELIVERY,N=T.Z.ARRIVED,x=(null===l||void 0===l||null===(t=l.status)||void 0===t?void 0:t.toUpperCase())===f,E=(null===l||void 0===l||null===(n=l.status)||void 0===n?void 0:n.toUpperCase())===p||(null===l||void 0===l||null===(a=l.status)||void 0===a?void 0:a.toUpperCase())===h||(null===l||void 0===l||null===(i=l.status)||void 0===i?void 0:i.toUpperCase())===g,I=(null===l||void 0===l||null===(c=l.status)||void 0===c?void 0:c.toUpperCase())===N,S=(null===l||void 0===l||null===(o=l.status)||void 0===o?void 0:o.toUpperCase())!==f;return Object(u.jsx)("div",{className:"delivery-info-daas",children:Object(u.jsxs)("div",{className:"info-content",children:[Object(u.jsxs)("div",{className:"dis-flex-first",children:[Object(u.jsx)("div",{className:"left-sec head-text mr-set",children:Object(u.jsx)("span",{children:Object(Se.e)("contactKFC")})}),(null===j||void 0===j?void 0:j.rider_phone)&&S&&!v&&Object(u.jsxs)("div",{className:"rgt-sec algn-left mr-set mob-wid",children:[Object(u.jsx)("span",{className:"set-opacity",children:Object(Se.e)("contact")})," ",Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name})]}),v&&E&&Object(u.jsxs)("div",{className:"rgt-sec algn-left mr-set mob-wid",children:[Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name})," ",Object(u.jsx)("span",{className:"set-opacity",children:Object(Se.e)("isOnTheWay")})]}),v&&I&&Object(u.jsxs)("div",{className:"rgt-sec algn-left mr-set mob-wid",children:[Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name}),Object(u.jsx)("span",{className:"set-opacity",children:Object(Se.e)("arrvingSoon")})]})]}),Object(u.jsxs)("div",{className:"dis-flex-sec",children:[x&&Object(u.jsx)("div",{className:"left-sec mr-set created-driverstatus",children:Object(u.jsxs)("span",{className:"set-opacity",children:[Object(Se.e)("findingDriver"),"..."]})}),!v&&E&&Object(u.jsxs)("div",{className:"left-sec mr-set",children:[Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name})," ",Object(u.jsx)("span",{className:"set-opacity",children:Object(Se.e)("isOnTheWay")})]}),!v&&I&&Object(u.jsxs)("div",{className:"left-sec mr-set",children:[Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name}),Object(u.jsx)("span",{className:"set-opacity",children:Object(Se.e)("arrvingSoon")})]}),v&&S&&(null===j||void 0===j?void 0:j.rider_phone)&&Object(u.jsxs)("div",{className:"rgt-sec algn-left mr-set mob-wid",children:[Object(u.jsx)("span",{className:"set-opacity",children:Object(Se.e)("contact")})," ",Object(u.jsx)("strong",{children:null===j||void 0===j?void 0:j.rider_name})]}),S&&Object(u.jsxs)("div",{className:"rgt-sec algn-rgt mr-set",children:[v&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:CO,alt:" "}),Object(u.jsx)("a",{href:"tel:"+(null===j||void 0===j?void 0:j.rider_phone),className:"anchorTags",children:Object(u.jsx)("span",{className:"contact-text",children:Object(Se.e)("call")})})]}),!v&&Object(u.jsx)("span",{className:"contact-text-mob",children:null===j||void 0===j?void 0:j.rider_phone})]})]}),Object(u.jsx)("div",{className:"hr-line"}),Object(u.jsx)("div",{className:"dis-flex-sec",children:Object(u.jsx)("div",{className:"left-sec mr-set",children:Object(u.jsx)("span",{className:"set-opacity",children:Object(Se.e)("kfcRestaraunt")})})}),Object(u.jsxs)("div",{className:"dis-flex-sec",children:[Object(u.jsx)("div",{className:"left-sec mr-set",children:Object(u.jsx)("strong",{children:null===m||void 0===m?void 0:m.name})}),Object(u.jsxs)("div",{className:"rgt-sec algn-rgt mr-set",children:[v&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:CO,alt:" "}),Object(u.jsx)("a",{href:"tel:"+(null===m||void 0===m?void 0:m.phoneNumber),className:"anchorTags",children:Object(u.jsx)("span",{className:"contact-text",children:Object(Se.e)("call")})})]}),!v&&Object(u.jsx)("span",{className:"contact-text-mob",children:null===m||void 0===m?void 0:m.phoneNumber})]})]})]})})},yO=function(e){var t=e.orderDetails,n=void 0===t?{}:t,a=cs.d.TRACK_ORDER;return Object(u.jsx)("iframe",{title:Object(Se.e)(a),src:function(){var e,t=null===n||void 0===n||null===(e=n.deliveryPartner)||void 0===e?void 0:e.tracking_url;return(t&&-1===t.indexOf(cs.c)?cs.c:"")+t}()})},_O=n(39),DO=function(e){var t,n=e.orderDetails,a=e.status,i=e.imageSrc,c=e.statusMessage,o=e.getTime,r=e.cardToFill,s=e.showProgressBar,d=T.pb.ESTIMATED_ARRIVAL,l=T.pb.ASK_FOR_OTP,b=T.Z.SENT_TO_POS_COMPLETED;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(a,"-delivery"),children:Object(Se.e)(d)}),Object(u.jsx)("div",{className:"idAndTime time-delivery",children:Object(u.jsx)("div",{className:"red",children:o(null===n||void 0===n?void 0:n.orderTime)})}),i&&Object(u.jsx)("img",{src:i,alt:a}),s&&Object(u.jsx)("div",{className:"progress-bar-list",children:function(){var e=[];return 0!==r&&m.a.times(5,(function(t){e.push(Object(u.jsx)("div",{id:"progressBarContainer",className:"ProgressDelivery ".concat(t+1<=r?"selectedBar":"Bar")},t))})),e}()}),Object(u.jsx)("div",{className:"allSet allset-delivery ".concat(a,"-delivery-allSet"),children:Object(Se.e)(c)}),a!==b&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg",children:Object(Se.e)(l)}),Object(u.jsx)("div",{className:"idAndTime time-delivery",children:Object(u.jsx)("div",{className:"red otp",children:null===n||void 0===n||null===(t=n.deliveryPartner)||void 0===t?void 0:t.otp})})]})]})},RO=Ls.ConfirmedImg,wO=Ls.TakeAwayImg,kO=Ls.TakeawayCompleted,LO=function(e){return Object(x.s)(Object(_O.g)(e),Object(_O.i)(e))?Object(_O.i)(e)?"distaIframeContainer-delivered":Object(_O.g)(e)?"distaIframeContainer-cancelled":"":""},PO=function(e){var t=e.orderDetails,n=void 0===t?{}:t,a=e.orderReducerData,c=void 0===a?{}:a,o=e.tenantReducer,r=void 0===o?{}:o,s=T.Z.DELIVERED,d=T.Z.SENT_TO_POS_COMPLETED,l=T.Z.CREATED,b=T.Z.ASSIGNED,v=T.Z.CANCEL,O=T.pb.ORDER_RECEIVED,m=T.pb.ORDER_READY,f=T.pb.FOUND_DRIVER,p=Object(i.useState)({imageSrc:"",statusMessage:"",showProgressBar:!1}),h=Object(j.a)(p,2),g=h[0],N=h[1],E=Object(i.useState)(0),I=Object(j.a)(E,2),S=I[0],C=I[1],A=Object(i.useState)(!1),y=Object(j.a)(A,2),_=y[0],D=y[1],R=Object(i.useState)(Object(x.Hb)(window.innerWidth)),w=Object(j.a)(R,2),k=w[0],L=w[1],P=function(){var e=Object(x.Hb)(window.innerWidth);L(e)};Object(i.useEffect)((function(){window.addEventListener("resize",P)}),[k]);var M=Object(_O.j)(n)&&!Object(_O.i)(n),F=function(){return Object(u.jsx)(IO,{orderReducerData:c,tenantReducer:r,enableAccordion:"true",isOpenAccordion:M,orderDetailsObj:n})};Object(i.useEffect)((function(){N(function(e){switch(Object(x.dc)(null===e||void 0===e?void 0:e.status)){case d:if(C(1),!_)var t=setTimeout((function(){D(!0),t&&clearTimeout(t)}),Yj.d);return{imageSrc:RO,statusMessage:O,showProgressBar:!_};case l:return C(2),{imageSrc:wO,statusMessage:m,showProgressBar:!0};case b:return C(3),{imageSrc:kO,statusMessage:f,showProgressBar:!0};case s:case v:return C(0),{imageSrc:"",statusMessage:"",showProgressBar:!1}}}(n))}),[null===n||void 0===n?void 0:n.deliveryDistaRetryCountFlag,null===c||void 0===c?void 0:c.id]);var H=M?"adjust-delivery-info bill-accordion-section":"bill-accordion-section";return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"OrderReceivedContainer",children:[Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("div",{className:"NotifyOrderPlaced ".concat(LO(n)," ").concat(Object(_O.k)(n)?" distaIframeContainer":""),children:Object(_O.k)(n)?Object(u.jsx)(yO,{orderDetails:n}):Object(u.jsx)("div",{className:"tickimage",children:Object(u.jsx)("div",{children:Object(u.jsx)(DO,{orderDetails:n,status:Object(x.dc)(null===n||void 0===n?void 0:n.status),imageSrc:null===g||void 0===g?void 0:g.imageSrc,statusMessage:null===g||void 0===g?void 0:g.statusMessage,getTime:x.mb,cardToFill:S,showProgressBar:null===g||void 0===g?void 0:g.showProgressBar})})})}),!k&&!Object(_O.j)(n)&&!Object(_O.i)(n)&&F()]}),Object(u.jsxs)("div",{className:H,children:[(Object(_O.h)(n)||Object(_O.j)(n))&&Object(u.jsx)(AO,{isMobile:k,orderReducerData:c,orderDetails:n}),Object(_O.j)(n)&&F(),k&&!Object(_O.j)(n)&&!Object(_O.i)(n)&&F()]})]})})},MO=function(e){var t=e.orderReducerData,n=void 0===t?{}:t,a=e.userParams,c=void 0===a?{}:a,o=e.tenantReducer,r=void 0===o?{}:o,s=Object(i.useState)(!1),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(i.useState)(!1),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(Object(x.Hb)(window.innerWidth)),h=Object(j.a)(p,2),g=h[0],N=h[1],E=Fn.SAVE_YOUR_ORDERS_AND_CHECKOUT_FASTER,I=Fn.SAVED_TO_FAVORITE_MENU,T=Fn.SAVE_THIS_Order,S=Fn.REORDER_FAVOURITES,C=Fn.CREATE_KFC_ACCOUNT,A=function(){var e=Object(x.Hb)(window.innerWidth);N(e)};return Object(i.useEffect)((function(){window.addEventListener("resize",A)}),[g]),Object(i.useEffect)((function(){m&&(Wt.b.dark(Object(u.jsx)("div",{className:"img-text-div",children:Object(u.jsxs)("span",{className:"notifyText",children:[Object(u.jsx)("img",{src:zj,alt:"tick",className:"TickImg"}),Object(Se.e)(I)]})}),{bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:Wt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Wt.b.dismiss()}),4e3))}),[m]),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:c.loggedIn?Object(u.jsx)("div",{children:!m&&Object(u.jsxs)("div",{className:"savingdivDelivery",children:[Object(u.jsx)("span",{className:"savingText",children:Object(Se.e)(E)}),Object(u.jsx)("span",{className:"saveButton",children:Object(u.jsx)(Ot.a,{"data-testid":"save-logged-order",className:"button transparent-btn black-border",onClick:function(){return ta(b)},ariaLable:Object(Se.e)(T),children:Object(Se.e)(T)})})]})}):Object(u.jsx)("div",{children:!m&&Object(u.jsxs)("div",{className:"savingdivDelivery",children:[Object(u.jsx)("span",{className:"savingText",children:Object(Se.e)(S)}),Object(u.jsx)("span",{className:"saveButton",children:Object(u.jsx)(Ot.a,{"data-testid":"save-guest-order",className:"button transparent-btn black-border",onClick:function(){return e=n,t=100,st(),Object(x.g)(),void at({orderValue:((null===e||void 0===e?void 0:e.total)/t).toFixed(2)||"NA"});var e,t},ariaLable:Object(Se.e)(C),children:Object(Se.e)(C)})})]})})}),l&&Object(u.jsx)("div",{children:Object(u.jsx)(qj,{"data-testid":"confirm-modal",isOpen:l,handleClose:function(){return b(!1)},onSave:function(){return na(f,!0)},tenantReducer:r,OrderReducerData:n})})]})},FO=function(e){var t,n=null,o=null,r=Object(i.useContext)(E.a).userOrderState,s=Object(N.c)((function(e){return e})),d=s.tenantReducer,l=s.appStateReducer,b=s.orderReducer,v=s.postOrderReducer,O=s.cartReducer,m=s.storesReducer,f=Object(N.b)(),g=l.userStatus,S=O.cartData,C=O.isBasketLoading,A=O.qrCodeScanTime,y=Object(x.Ab)(r.dispositionNew)?JSON.parse(localStorage.getItem(T.R.DISPOSITION_NEW)):r.dispositionNew,_=Object(i.useState)(Object(_O.u)(null===d||void 0===d?void 0:d.tenantId,Object(_O.e)(v,b,{},!1),null===b||void 0===b||null===(t=b.response)||void 0===t?void 0:t.order,y)),D=Object(j.a)(_,2),R=D[0],w=D[1],k=Object(i.useState)(!0),L=Object(j.a)(k,2),P=L[0],M=L[1],F=Object(i.useState)(0),H=Object(j.a)(F,2),B=H[0],U=H[1],G=Object(i.useState)(!1),Y=Object(j.a)(G,2),K=Y[0],V=Y[1],W=Object(i.useState)(!1),q=Object(j.a)(W,2),z=q[0],Q=q[1],J=Object(i.useState)(!1),X=Object(j.a)(J,2),Z=X[0],$=X[1],ee=Object(N.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useMemo)((function(){var e;return{tenantReducer:Object(x.Bb)(d)?d:JSON.parse(localStorage.getItem(T.R.TENANT_REDUCER)),storeInfo:y?null===y||void 0===y?void 0:y.store:{},dispositionType:y&&(null===y||void 0===y?void 0:y.type)?Object(x.I)(null===y||void 0===y?void 0:y.type):Object(x.I)(null===d||void 0===d||null===(e=d.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[y,d]);Object(i.useEffect)((function(){window.scrollTo(0,0)})),Object(i.useEffect)((function(){return window.removeEventListener("beforeunload",(function(){return Object(_O.t)(f)}),!0),window.addEventListener("beforeunload",(function(){return Object(_O.t)(f)})),function(){window.removeEventListener("beforeunload",(function(){return Object(_O.t)(f)}),!0),w({}),Object(_O.t)(f)}}),[]),Object(i.useEffect)((function(){var t=Object(_O.e)(v,b,{},!1);if(t&&Object.keys(t).length){if(!Object(_O.p)(t)&&!Z)!function(e){var t,n=[{storeId:null===e||void 0===e||null===(t=e.store)||void 0===t?void 0:t.storeId,channel:ya.b.channel,service:null===e||void 0===e?void 0:e.service}],a=null===d||void 0===d?void 0:d.tenantId;f(Object(Xa.c)({data:n,tenantId:a,isFavoritePage:!1}))}(t),!function(e,t){var n,a,i,c,o,r,s,d,l,u=[];null===e||void 0===e||null===(n=e.foodLines)||void 0===n||n.forEach((function(e,n){var a,i="";null===(a=e.item.modGrps)||void 0===a||a.forEach((function(e){i=i+e.modifiers[0].name+","})),u.push({item_name:e.item.dname[0].value||"NA",item_id:e.item.id||"NA",price:e.item.unitPrice/t||"NA",item_variant:i||"NA",quantity:e.quantity||"NA"})}));var b=ya.b.shouldGoogleSpotIgnoreOloFailure&&ya.b.transactionId?ya.b.transactionId:null!==(a=null===e||void 0===e||null===(i=e.paymentReferences)||void 0===i||null===(c=i[0])||void 0===c?void 0:c.transactionId)&&void 0!==a?a:"NA";tt({transaction_id:b,value:(null===e||void 0===e?void 0:e.total)?e.total/t:"NA",tax:(null===e||void 0===e?void 0:e.taxTotal)?e.taxTotal/t:"NA",shipping:"delivery-charge"===(null===e||void 0===e||null===(o=e.additionalChargeLines)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.chargeType)?(null===(s=e.additionalChargeLines)||void 0===s?void 0:s[0].amount)/t:"NA",currency:"INR",coupon:(null===e||void 0===e||null===(d=e.discountLines)||void 0===d||null===(l=d[0])||void 0===l?void 0:l.couponCode)||"NA",items:u||"NA"})}(t,d.currencyConversionFactor),$(!0);Object(_O.q)(t,z,Q),Object(_O.v)(t,R,w,z,e)}}),[null===v||void 0===v?void 0:v.orderAccepted,null===b||void 0===b?void 0:b.pastOrderResponse]);var te=function(){var t=Object(_O.e)(v,b,{},!1);Object(_O.s)(f,R,B,t,U,e)};Object(i.useEffect)((function(){P&&B>0&&te()}),[B]),Object(i.useEffect)((function(){if(wr.e&&(null===d||void 0===d?void 0:d.tenantId)&&localStorage.getItem(T.R.ORDER_TRACKING)){var e,t,n,i=JSON.parse(localStorage.getItem(T.R.ORDER_TRACKING));if(i&&Object.keys(i).length)(null===i||void 0===i?void 0:i.postOrderDetails)&&0===Object.keys(null===i||void 0===i?void 0:i.postOrderDetails).length&&Object(_O.c)(f,i),w(Object(a.a)(Object(a.a)(Object(a.a)({},R),i),{},{deliveryDistaRetryCountFlag:(null===i||void 0===i?void 0:i.postOrderDetails)?1:0,operatingTime:null===m||void 0===m||null===(e=m.storesWithStatus)||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.summary)||void 0===n?void 0:n.timings}));else R&&te()}}),[wr.e,null===d||void 0===d?void 0:d.tenantId]),Object(i.useEffect)((function(){var e;f(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===ne||void 0===ne||null===(e=ne.tenantReducerContent)||void 0===e?void 0:e.country,"fields.channel":ya.b.channel,include:5}}))}),[f]),Object(i.useEffect)((function(){f(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ya.b.channel,include:"5"},userStatus:g}))}),[f,g,null===d||void 0===d?void 0:d.tenantId]),Object(i.useEffect)((function(){var t=null;if(P&&!Object(_O.m)(R)){var n=function(){var t=Object(be.a)(ue.a.mark((function t(){var n,a;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(_O.e)(v,b,{},!1),t.next=3,Object(_O.r)(n,M,e);case 3:a=t.sent,Object(_O.a)(f,R,n,S,r,l,C,a,A);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n()}return Object(_O.f)(R)&&!K&&(V(!0),M(!1)),(null===R||void 0===R?void 0:R.orderId)&&Object(_O.n)(R)&&(t=setTimeout((function(){Object(_O.c)(f,R)}),Yj.b)),function(){t&&clearTimeout(t)}}),[null===R||void 0===R?void 0:R.deliveryDistaRetryCountFlag]),Object(i.useEffect)((function(){"giftCardPurchase"===localStorage.getItem(T.R.POST_PAYMENT_TYPE)&&(localStorage.setItem(T.R.PAYMENT_STATUS,T.ab.SUCCESS),Object(x.Yb)(e))}),[]);var ne=Object(N.c)((function(e){return{homePageContent:Object(x.vb)(e.contentReducer.response),marketPageContent:Object(x.vb)(e.marketConfigReducer.response),tenantReducerContent:Object(x.vb)(e.tenantReducer)}}));if(ne.marketPageContent&&ne.tenantReducerContent&&ne.homePageContent){var ae=Object(x.sb)(ne.marketPageContent.headerData),ie=ae.header,ce=void 0===ie?{}:ie,oe=(ae.tenant,ae.footer),re=void 0===oe?{}:oe;n=Object(x.W)(ce),o=Object(x.O)(re)}return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"PostPaymentProcessComponent",children:[Object(x.Bb)(n)&&Object(u.jsx)(oj,{contentData:n,tenantReducerData:ne.tenantReducerContent,userParams:ee,paymentHeader:!0,checkoutHeader:!1}),P&&Object(u.jsx)(Kj,{retryCount:B}),Object(_O.o)(R)&&!Object(_O.l)(R)&&Object(u.jsx)(SO,{orderReducerData:Object(_O.e)(v,b,R),userParams:ee,tenantReducer:d,orderDetails:R}),K&&Object(u.jsxs)("div",{children:[Object(u.jsx)(PO,{orderDetails:R,orderReducerData:Object(_O.e)(v,b,R),tenantReducer:d}),Object(u.jsx)(MO,{orderReducerData:Object(_O.e)(v,b,R),userParams:ee,tenantReducer:d,orderDetails:R})]}),Object(x.Bb)(o)&&Object(u.jsx)(ba,{contentData:o,history:e.history,tenantReducerData:ne.tenantReducerContent})]})})},HO=function(e){return function(t){var n=null,i=null,o=Object(N.c)((function(e){var t,n;return{homePageContent:Object(x.vb)(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t?void 0:t.response),marketPageContent:Object(x.vb)(null===e||void 0===e||null===(n=e.marketConfigReducer)||void 0===n?void 0:n.response),tenantReducerContent:Object(x.vb)(null===e||void 0===e?void 0:e.tenantReducer)}}));if(o.marketPageContent&&o.tenantReducerContent&&o.homePageContent){var r;Object(x.V)(o.homePageContent);var s=Object(x.sb)(null===o||void 0===o||null===(r=o.marketPageContent)||void 0===r?void 0:r.headerData),d=s.header,l=void 0===d?{}:d,b=s.tenant,v=void 0===b?[]:b,j=s.footer,O=void 0===j?{}:j;n=Object(x.W)(l),i=Object(x.O)(O),Object(x.jb)(v)}var m=Object(N.c)((function(e){return e.appStateReducer.userStatus}));return Object(u.jsxs)(c.a.Fragment,{children:[BO(n,o,m,!0,!1),Object(u.jsx)(e,Object(a.a)({},t)),UO(i,t.history,o)," "]})}},BO=function(e,t,n,a,i){return Object(x.Bb)(e)&&Object(u.jsx)(oj,{contentData:e,tenantReducerData:t.tenantReducerContent,userParams:n,paymentHeader:a,checkoutHeader:i})},UO=function(e,t,n){return Object(x.Bb)(e)&&Object(u.jsx)(ba,{contentData:e,history:t,tenantReducerData:n.tenantReducerContent})},GO=HO((function(e){var t,n=Object(N.b)(),a=Object(N.c)((function(e){return e})),c=a.tenantReducer,o=a.paymentsReducer,r=a.orderReducer,s=Object(i.useState)(!1),d=Object(j.a)(s,2),l=d[0],b=d[1];return Object(i.useEffect)((function(){var t,a;localStorage.getItem("postPaymentType")===T.bb.PAYTM?wr.e&&(null===c||void 0===c?void 0:c.tenantId)&&(null===r||void 0===r?void 0:r.response)&&(null===o||void 0===o||null===(t=o.response)||void 0===t?void 0:t.transactionId)&&(!function(e,t,n,a){var i=(null===a||void 0===a?void 0:a.order).customer,c={tenantId:t,transactionId:n,customerId:null===i||void 0===i?void 0:i.id};e(Object(Ku.a)(c))}(n,null===c||void 0===c?void 0:c.tenantId,null===o||void 0===o||null===(a=o.response)||void 0===a?void 0:a.transactionId,null===r||void 0===r?void 0:r.response),b(!0)):Object(x.bc)(e)}),[wr.e,null===c||void 0===c?void 0:c.tenantId,null===r||void 0===r?void 0:r.response,null===o||void 0===o?void 0:o.response]),Object(i.useEffect)((function(){var t;localStorage.getItem("postPaymentType")===T.bb.PAYTM?(null===o||void 0===o?void 0:o.paytmStatusData)&&l&&(b(!1),"success"===(null===o||void 0===o||null===(t=o.paytmStatusData)||void 0===t?void 0:t.status)?Object(x.bc)(e):Object(x.ac)(e)):console.log("useEffect")}),[l,null===o||void 0===o||null===(t=o.paytmStatusData)||void 0===t?void 0:t.status]),Object(u.jsx)("div",{className:"PostPaymentProcessComponent",children:Object(u.jsx)(Kj,{showLoader:"false"})})})),YO=n.p+"static/media/Issue.15271b1b.svg";function KO(e){e.tenantId;var t=e.paymentFailedProps,n=Object(i.useState)(Object(x.Hb)(window.innerWidth)),a=Object(j.a)(n,2),c=a[0],o=a[1],r=Fn.THAT_AINT_RIGHT,s=Fn.FAILED_MSG,d=Fn.BACK_TO_CART,l=function(){var e=Object(x.Hb)(window.innerWidth);o(e)};Object(i.useEffect)((function(){Object(x.Tb)(r,s)}),[]),Object(i.useEffect)((function(){window.addEventListener("resize",l)}),[c]);var b=function(){var e=Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(x.Wb)(t);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"paymentFailed",children:Object(u.jsxs)("div",{className:"FailedDisplay",children:[Object(u.jsx)("div",{className:"Failimage",children:Object(u.jsx)("img",{src:YO,alt:"image"})}),Object(u.jsx)("div",{className:"notRight",children:Object(Se.e)(r)}),Object(u.jsx)("div",{className:"Reason",children:Object(Se.e)(s)}),Object(u.jsx)("div",{className:"backToCart",children:Object(u.jsx)(Ot.a,{"data-testid":"Back-Cart-Button",className:"button whiteButton blackBorder back-To-Cart",onClick:b,children:Object(Se.e)(d)})})]})})}var VO=function(e,t,n,a){Object(x.i)(e,St.e,t,n,a),e(Object(mt.e)()),e(Object(tn.b)()),localStorage.setItem(T.R.PAYMENT_STATUS,""),localStorage.setItem(T.R.POST_PAYMENT_TYPE,"")},WO=function(e){var t=null,n=null,a=Object(i.useState)(!1),c=Object(j.a)(a,2),o=c[0],r=c[1],s=Object(i.useContext)(E.a).userOrderState,d=Object(N.c)((function(e){return e.tenantReducer})),l=d.tenantId,b=Object(N.b)(),v=Object(N.c)((function(e){return e.appStateReducer})).userStatus,O=Object(N.c)((function(e){return e.cartReducer})).qrCodeScanTime,f=Object(N.c)((function(e){return e.appStateReducer.userStatus})),g=Object(x.Ab)(s.dispositionNew)?JSON.parse(localStorage.getItem(T.R.DISPOSITION_NEW)):s.dispositionNew,S=Object(N.c)((function(e){return e})),C=S.authReducer,A=S.postOrderReducer,y=S.orderReducer,_=A.orderAccepted,D=Object(x.Sb)(C);Object(i.useEffect)((function(){!function(e,t,n,a,i,c){var o;if(wr.e&&t&&(null===e||void 0===e?void 0:e.response)&&Object.keys(null===e||void 0===e?void 0:e.response).length)if(null===e||void 0===e||null===(o=e.response)||void 0===o?void 0:o.order){var r,s,d,l,u,b={orderId:null===e||void 0===e||null===(r=e.response)||void 0===r||null===(s=r.order)||void 0===s?void 0:s.id,tenantId:t,customerId:null===e||void 0===e||null===(d=e.response)||void 0===d||null===(l=d.order)||void 0===l||null===(u=l.customer)||void 0===u?void 0:u.id};Object(_O.d)(n,b)}else VO(n,t,a,c),Object(x.Zb)(i)}(y,l,b,s,e,O)}),[wr.e,l,null===y||void 0===y?void 0:y.response]),Object(i.useEffect)((function(){!function(e,t,n,a,i,c,o){e&&Object.keys(e).length&&(localStorage.setItem(T.R.PAYMENT_STATUS,T.ab.FAILED),(null===e||void 0===e?void 0:e.id)?Object(x.dc)(null===e||void 0===e?void 0:e.status)===T.Z.SENT_TO_POS_FAILED||Object(x.dc)(null===e||void 0===e?void 0:e.status)===T.Z.ACCEPTED||Object(_O.l)(e)?(VO(t,n,a,o),i(!0)):(Object(x.Xb)(c,!0),i(!1)):(VO(t,n,a,o),Object(x.Zb)(c)))}(_,b,l,s,r,e,O)}),[_]),Object(i.useEffect)((function(){b(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ya.b.channel,include:"5"},userStatus:v}))}),[b,v,l]),Object(i.useEffect)((function(){var e;b(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===R||void 0===R||null===(e=R.tenantReducerContent)||void 0===e?void 0:e.country,"fields.channel":ya.b.channel,include:5}}))}),[b]),Object(i.useEffect)((function(){b(Object(Ku.g)())}),[f,D]),Object(i.useEffect)((function(){"giftCardPurchase"===localStorage.getItem(T.R.POST_PAYMENT_TYPE)&&(localStorage.setItem(T.R.PAYMENT_STATUS,T.ab.FAILED),Object(x.Yb)(e,!0))}));var R=Object(N.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),tenantReducerContent:m.a.get(e,"tenantReducer",null)}}));Object(i.useMemo)((function(){var e;return{tenantReducer:Object(x.Bb)(d)?d:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:g?null===g||void 0===g?void 0:g.store:{},dispositionType:g&&(null===g||void 0===g?void 0:g.type)?Object(x.I)(null===g||void 0===g?void 0:g.type):Object(x.I)(null===d||void 0===d||null===(e=d.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[g,d]);if(R.marketPageContent&&R.tenantReducerContent&&R.homePageContent){var w=R.marketPageContent.headerData||{},k=w.header,L=void 0===k?{}:k,P=w.tenant,M=void 0===P?[]:P,F=w.footer,H=void 0===F?{}:F;t=Object(x.W)(L),n=Object(x.O)(H),Object(x.jb)(M)}return o&&Object(u.jsxs)("div",{className:"PaymentFailedScreen",children:[Object(x.Bb)(t)&&Object(u.jsx)(oj,{contentData:t,tenantReducerData:R.tenantReducerContent,userParams:f,paymentHeader:!0,checkoutHeader:!1}),Object(u.jsx)(KO,{paymentFailedProps:e,basketId:null===_||void 0===_?void 0:_.basketId,tenantId:l}),Object(x.Bb)(n)&&Object(u.jsx)(ba,{contentData:n,history:e.history,tenantReducerData:R.tenantReducerContent})]})},qO=n(164),zO=n(391),QO=n.n(zO),JO=function(e){var t=e.appUpdateContents;return t&&0!==t.length?Object(u.jsx)("div",{className:"app-update align-items-center d-flex flex-column",children:t.map((function(e,t){return T.Cb.CMS_CONTENT_TYPES.LOGO_ICON===e.contentType&&Object(u.jsx)("div",{className:"d-flex p-2 ".concat(e.className),children:Object(u.jsx)("img",{src:e.imgSrc,alt:e.altTxt})},t)||T.Cb.CMS_CONTENT_TYPES.MULTI_TEXT===e.contentType&&Object(u.jsx)("div",{className:"update-txt text-uppercase",children:e.txts.map((function(e,t){return Object(u.jsx)("span",{children:e},t)}))},t)||T.Cb.CMS_CONTENT_TYPES.CALL_TO_ACTION===e.contentType&&Object(u.jsx)("div",{className:"p-2 mt-2",children:Object(u.jsx)(Ot.a,{className:"button blackButton text-uppercase","aria-label":"app-update-button",onClickHandler:e.onClickHandler,id:"appUpdateButton",type:"submit","data-testid":"app-update-button",children:Object(u.jsx)("span",{children:e.txt})})},t)}))}):Object(u.jsx)(u.Fragment,{})},XO="AppStore",ZO="PlayStore",$O=function(e){var t,n,a=e.history,c=Object(i.useState)(null),o=Object(j.a)(c,2),r=o[0],s=o[1],d=Object(N.b)(),l=Object(N.c)((function(e){var t;return{appUpdateContent:(null===e||void 0===e||null===(t=e.appUpdateReducer)||void 0===t?void 0:t.response)||null}})).appUpdateContent,b=function(){var e={key:"OpenInBrowser",value:""},t=Object(O.filter)(v,{contentType:T.Cb.CMS_CONTENT_TYPES.NAVIGATION_LINK,storeLinkId:"iOS"===r?XO:ZO});e.value=t[0].storeUrl;var n=JSON.stringify(e);window.sendToMobile(r,n)},v=null===l||void 0===l||null===(t=l.headerData)||void 0===t||null===(n=t.body)||void 0===n?void 0:n.map((function(e){var t,n,a,i,c,o,r,s,d,l,u,v,j,O={},m=null===e||void 0===e||null===(t=e.sys)||void 0===t||null===(n=t.contentType)||void 0===n||null===(a=n.sys)||void 0===a?void 0:a.id;T.Cb.CMS_CONTENT_TYPES.LOGO_ICON===m&&(O={contentType:m,className:null===e||void 0===e||null===(i=e.fields)||void 0===i?void 0:i.category,imgSrc:null===e||void 0===e||null===(c=e.fields)||void 0===c||null===(o=c.mobileImage)||void 0===o||null===(r=o.fields)||void 0===r||null===(s=r.file)||void 0===s?void 0:s.url,altTxt:null===e||void 0===e||null===(d=e.fields)||void 0===d?void 0:d.altText});T.Cb.CMS_CONTENT_TYPES.MULTI_TEXT===m&&(O={contentType:m,txts:null===e||void 0===e||null===(l=e.fields)||void 0===l?void 0:l.listText});T.Cb.CMS_CONTENT_TYPES.CALL_TO_ACTION===m&&(O={contentType:m,txt:null===e||void 0===e||null===(u=e.fields)||void 0===u?void 0:u.buttonText,onClickHandler:b});T.Cb.CMS_CONTENT_TYPES.NAVIGATION_LINK===m&&(O={contentType:m,storeUrl:null===e||void 0===e||null===(v=e.fields)||void 0===v?void 0:v.externalurl,storeLinkId:null===e||void 0===e||null===(j=e.fields)||void 0===j?void 0:j.linkId});return O})),m=Object(i.useCallback)((function(){a.push({pathname:"/"})}),[a]);return Object(i.useEffect)((function(){var t=QO.a.parse(e.location.search);if(Object(O.isEmpty)(null===t||void 0===t?void 0:t.appurl))m();else{var n=Object(x.d)(null===t||void 0===t?void 0:t.appurl),a=n.DeviceId,i=n.DeviceType;a||m(),s(i)}}),[m,e.location.search]),Object(i.useEffect)((function(){d(Object(qO.c)({object:Object(I.a)(),contentFull:{content_type:"appUpdate","fields.updateStatus":"major",include:5}}))}),[d]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(JO,{appUpdateContents:v})})},em=n.p+"static/media/LightwhiteCrossClose.21785371.svg",tm="| Enter question or search term",nm="singleResult",am="MultipleResults",im=function(e){return"".concat(0===e?"active":"")},cm=function(e){var t=e.contentData,n=void 0===t?{}:t,o=Object(i.useState)(Object(x.Hb)(window.innerWidth)),r=Object(j.a)(o,2),s=r[0],d=r[1],l=Object(i.useState)(""),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useState)(!1),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(i.useState)({isSearchedMode:!1,searchedData:""}),N=Object(j.a)(g,2),I=N[0],T=N[1],C=Object(i.useState)([]),A=Object(j.a)(C,2),y=A[0],_=A[1],D=Object(i.useState)([]),R=Object(j.a)(D,2),w=R[0],k=R[1],L=Object(i.useState)([]),P=Object(j.a)(L,2),M=P[0],F=P[1],H=Object(i.useState)(!1),B=Object(j.a)(H,2),U=B[0],G=B[1],Y=Object(i.useContext)(E.a).userOrderState,K=Object(i.useState)(!1),V=Object(j.a)(K,2),W=V[0],q=V[1],z=Object(i.useRef)(null),Q=function(){var e=Object(x.Hb)(window.innerWidth);d(e)};Object(i.useEffect)((function(){return window.addEventListener("resize",Q),function(){window.removeEventListener("resize",Q)}}),[s]),Object(i.useEffect)((function(){var e=localStorage.getItem("SelectedFaqItem");!function(e,t,n){if(""!==t){var a=t;console.log("dataReceived",a),is.scroller.scrollTo(a,{duration:1500,delay:100,smooth:!0,containerId:"",offset:n?-240:-100})}else is.scroller.scrollTo(e.FinalData[0].Title.trim(),{duration:1500,delay:100,smooth:!0,containerId:"",offset:n?-240:-100})}(n,e,s)}),[n]),Object(i.useEffect)((function(){return function(){localStorage.setItem("SelectedFaqItem","")}}),[]),Object(i.useEffect)((function(){return document.addEventListener("mousedown",J),function(){document.removeEventListener("mousedown",J)}}));var J=function(e){z.current&&!z.current.contains(e.target)&&h(!1)};return function(){var t=function(e){var t=Object(x.sb)(n).FinalData;t&&void 0!==e&&(F(null===t||void 0===t?void 0:t.map((function(t){return t.QuesAns.filter((function(t){return-1!==t.question.toLowerCase().indexOf(e.toLowerCase().toString())}))})).flat().slice()),k([]))},i=function(e){if("Enter"===e.key){if(""===e.target.value)return void _([]);q(!1),h(!1),t(e.target.value.toLowerCase().toString()),T({isSearchedMode:!0,searchedData:v})}},o=function(e){O(e.target.value),e.target.value.toString().length>2?p||(h(!0),d(e.target.value.toString())):p&&(h(!1),d(""),t(),T({isSearchedMode:!1,searchedData:""}))},r=function(){k([]),F([]),O(""),h(!1),d(""),t(),T({isSearchedMode:!1,searchedData:""})},d=function(e){var t=Object(x.sb)(n).FinalData;_(null===t||void 0===t?void 0:t.map((function(t){return t.QuesAns.filter((function(t){return-1!==t.question.toLowerCase().indexOf(e.toLowerCase().toString())}))})).flat().slice(0,7))},l=function(e,t){t&&is.scroller.scrollTo(n.FinalData[t].Title.trim(),{duration:1500,delay:100,smooth:!0,containerId:"",offset:Object(x.lb)(s,-240,-100)})},b=function(e){var t=e.target.parentElement.parentElement.parentElement;t.classList.contains("ourAds-accordian-open")?t.classList.remove("ourAds-accordian-open"):t.classList.add("ourAds-accordian-open")},j=function(e){!function(e){var t=[];t.push(e),k(t),F([])}(e),h(!1),O(e.question),T({isSearchedMode:!0,searchedData:e.question}),q(!1)};var m={id:"FiltePopup",role:"dialog",modalTitleId:"FiltePopup",show:W,classNames:"mobileFilter",showCloseBtn:!0,showBackBtn:!1,autoFocus:!0,closeButtonHandler:function(){q(!1)},modalTitle:Object(Se.e)("Refine Items")},f=Object(u.jsx)(Rt,{"aria-label":"Enter question or search term",className:"faq-search-menu-input",id:"inputFocus",onClick:function(){G(!0),q(!0)},onKeyPress:function(e){return i(e)},onChange:function(e){return o(e)},value:v,placeholder:Object(Se.e)(tm),autocomplete:"off",onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="".concat(Object(Se.e)(tm))}}),g=Object(u.jsxs)("div",{ref:z,className:"inputAutoComplete",children:[Object(u.jsx)("div",{className:"SuggestionHeader",children:"Suggested Search Terms"}),Object(u.jsx)("ul",{className:"autoCompleteList",children:v.length>2&&(null===y||void 0===y?void 0:y.length)>0&&y.map((function(e,t){return Object(u.jsxs)("li",{onClick:function(){return j(e)},"data-testid":"suggestion-click-".concat(e.name),className:"wrapperAutoComplete",children:[Object(u.jsx)("span",{className:"searchgrey-icon-img",children:Object(u.jsx)(S.a,{srcFile:mb})}),Object(u.jsx)("span",{children:e.question})]},t)}))})]}),N=Object(u.jsx)(S.a,{srcFile:Ob,className:"search-icon-img"}),E=Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("img",{className:"faq-input-dark-cross",onClick:function(){return r()},src:fb,alt:"crossCancel"})]}),C=function(e,t,n){return console.log("fnfile",e),Object(u.jsx)("div",{children:e.FinalData.map((function(a,i){return Object(u.jsxs)(is.Element,{name:a.Title,id:"faqLinkOption-".concat(i),tabIndex:"-1",children:[Object(u.jsx)("h2",{className:n?"Mob-AccordianTitle":"AccordianTitle",id:e.FinalData[0].Title===a.Title?"FirstHeading":"",children:a.Title}),a.QuesAns.map((function(e,n){var i=a.QuesAns.length;return Object(u.jsx)("div",{className:"ourAds-accordian",id:i===n+1?"lastElement":"",children:Object(u.jsx)(oe,{header:e.question,onClickHandler:t,children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Ur.documentToHtmlString)(e.answer)},className:"ourAds-accordian-answer"})})})}))]})}))})}(n,b,s),A=function(e,t,n,a){return Object(u.jsx)("div",{children:Object(u.jsxs)(is.Element,{children:[e.length>0&&0===n.length&&Object(u.jsxs)("div",{className:"totalNumbers",children:[e.length," ","",1===e.length?Object(Se.e)(nm):Object(Se.e)(am)," ","",Object(u.jsxs)("span",{className:"enteredSearch",children:["\u201c",a,"\u201d"]})]}),n.length>0&&0===e.length&&Object(u.jsxs)("div",{className:"totalNumbers",children:[n.length," ","",1===e.length?Object(Se.e)(nm):Object(Se.e)(am)," ","",Object(u.jsxs)("span",{className:"enteredSearch",children:["\u201c",a,"\u201d"]})]}),e.length>0&&e.map((function(n,a){var i=e.length;return Object(u.jsx)("div",{className:"ourAds-accordian",id:i===a+1?"lastElement":"",children:Object(u.jsx)(oe,{header:n.question,onClickHandler:t,children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Ur.documentToHtmlString)(n.answer)},className:"ourAds-accordian-answer"})})})})),n.length>0&&n.map((function(e,a){var i=n.length;return Object(u.jsx)("div",{className:"ourAds-accordian",id:i===a+1?"lastElement":"",children:Object(u.jsx)(oe,{header:e.question,onClickHandler:t,children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Ur.documentToHtmlString)(e.answer)},className:"ourAds-accordian-answer"})})})}))]})})}(w,b,M,v),D=function(e,t,n){return console.log("isMobile",n),Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.ButtonInfo.map((function(e){if("navigationLink"===e.sys.contentType.sys.id)return Object(u.jsx)("span",{className:n?"ContactUsButtonMob":"ContactUsButton",children:Object(u.jsxs)(Ot.a,{ariaLable:e.fields.linkText,"data-testid":"alert-cancel-button",className:"button whiteButton blackBorder Message-button",onClickHandler:t,children:[Object(u.jsx)(S.a,{srcFile:e.fields.icon.fields.desktopImage.fields.file.url,alt:"",className:n?"MessageimageMob":"Messageimage"}),e.fields.linkText]})})}))})}(n,(function(){e.history.push({pathname:"/contactus"})}),s);return s?Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("div",{className:"Mob-faq-container",children:Object(u.jsx)(vb.a,{children:Object(u.jsxs)("div",{className:"faq-nav",children:[Object(u.jsxs)("div",{className:"TopDiv",children:[Object(u.jsx)(vb.a,{className:"Mob-faq-stripes-section",children:Object(u.jsx)(S.a,{srcFile:Aa,className:"stripes-img"})}),Object(u.jsx)("h1",{className:"Mob-faq-title",children:"FAQ"}),!I.isSearchedMode&&Object(u.jsx)("div",{className:"ListItems",children:Object(u.jsx)("ul",{className:"mob-outer-ul",children:null===n||void 0===n?void 0:n.FinalData.map((function(e,t){return Object(u.jsx)("li",{children:Object(u.jsx)(is.Link,{to:e.Title,spy:!0,smooth:!0,offset:-460,onClick:function(e){return l(0,t)},activeClass:im(),onSetActive:function(){var e;return null===(e=document.querySelector("li > a.active"))||void 0===e?void 0:e.scrollIntoView({inline:"center"})},children:e.Title})},t)}))})}),Object(u.jsxs)("div",{className:"Mob-faq-search-menu",children:[Object(u.jsx)("span",{className:"Mob-faq-search-icon",children:N}),f,v.length>2&&E]})]}),0===w.length&&!I.isSearchedMode&&Object(u.jsx)("div",{className:"Faq-mobile-questions",children:C}),w.length>0&&I.isSearchedMode&&Object(u.jsx)("div",{className:"Faq-mobile-questions",children:A}),M.length>0&&I.isSearchedMode&&Object(u.jsx)("div",{className:"Faq-mobile-questions",children:A}),Object(u.jsxs)("div",{className:"LastDiv",children:[Object(u.jsx)("div",{className:"stillAQues",children:"Still Have a question?"}),Object(u.jsx)("hr",{className:"Line"}),Object(u.jsxs)("div",{className:"ButtonDiv",children:[null===n||void 0===n?void 0:n.ButtonInfo.map((function(e){if("callToAction"===e.sys.contentType.sys.id){var t="tel:"+e.fields.phoneNumber;return Object(u.jsx)("span",{children:Object(u.jsx)("a",{href:t,className:"anchorTags",children:Object(u.jsxs)(Ot.a,{ariaLable:"","data-testid":"alert-cancel-button",className:"button whiteButton blackBorder Contact-button",id:"callUs",children:[Object(u.jsx)(S.a,{srcFile:e.fields.image.fields.file.url,alt:"desktopImage",className:"phoneIconMob"}),e.fields.buttonText]})})})}})),D]})]})]})})}),W&&U&&Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},m),{},{children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"searchInputMobMenuPlp",children:[Object(u.jsx)(Rt,{"data-testid":"mob-search-input",className:"search-menu-inputMob",onChange:function(e){return o(e)},onKeyPress:function(e){return i(e)},value:v,placeholder:"search"}),Object(u.jsx)("span",{className:"search-iconMob",children:Object(u.jsx)(S.a,{srcFile:mb,className:"search-icon-img"})}),v.length>2&&Object(u.jsx)("img",{"data-testid":"mob-cross-icon",className:"input-dark-cross-mob",onClick:function(){return r()},src:em,alt:"clearIcon"}),p&&g]})})})),Y.showCartClearAlert?Object(u.jsx)($d,{}):null]}):Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("div",{className:"faq-container",children:Object(u.jsxs)(vb.a,{className:"faq-row",children:[Object(u.jsxs)(jb.a,{md:"4",className:"faq-left-nav",children:[Object(u.jsx)(vb.a,{className:"faq-stripes-section",children:Object(u.jsx)(S.a,{srcFile:Aa,className:"stripes-img"})}),Object(u.jsx)("h1",{className:"faq-title",children:"FAQ"}),I.isSearchedMode?Object(u.jsx)(Ot.a,{className:"clearAllFilterButton","data-testid":"clear-all-handle",onClickHandler:r,children:"Clear Search"}):Object(u.jsx)("ul",{className:"outer-ul",children:null===n||void 0===n?void 0:n.FinalData.map((function(e,t){return Object(u.jsx)("li",{children:Object(u.jsx)(is.Link,{tabIndex:"0",href:"#faqLinkOption-".concat(t),to:e.Title,spy:!0,smooth:!0,onClick:function(e){return l(0,t)},onKeyPress:function(e){return l(0,t)},activeClass:im(t),offset:-160,children:e.Title})},t)}))}),Object(u.jsx)("hr",{className:"Line"}),null===n||void 0===n?void 0:n.ButtonInfo.map((function(e){if("callToAction"===e.sys.contentType.sys.id){var t="tel:"+e.fields.phoneNumber,n="".concat(e.fields.buttonText," ").concat(e.fields.phoneNumber);return Object(u.jsx)("a",{tabIndex:"-1",href:t,className:"anchorTags",children:Object(u.jsxs)(Ot.a,{ariaLable:n,"data-testid":"alert-cancel-button",className:"button whiteButton blackBorder Contact-button",children:[Object(u.jsx)(S.a,{srcFile:e.fields.image.fields.file.url,alt:"",className:"phoneIcon"}),e.fields.buttonText," ",e.fields.phoneNumber]})})}})),D]}),Object(u.jsxs)(jb.a,{md:"8",className:"faq-right-nav",children:[Object(u.jsx)(vb.a,{className:"SearchBar",children:Object(u.jsxs)("div",{className:"faq-search-menu",children:[f,Object(u.jsx)("span",{className:"faq-search-icon",children:N}),v.length>2&&E]})}),p&&g,0===w.length&&!I.isSearchedMode&&Object(u.jsx)("div",{className:"Accordian",children:C}),w.length>0&&I.isSearchedMode&&Object(u.jsx)("div",{className:"Accordian",children:A}),M.length>0&&I.isSearchedMode&&Object(u.jsx)("div",{className:"Accordian",children:A})]})]})}),Y.showCartClearAlert?Object(u.jsx)($d,{}):null]})}()},om=function(e){var t,n,a,o,r=Object(N.c)((function(e){return e.tenantReducer})),s=Object(N.b)(),d=Object(N.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useEffect)((function(){s(lb(r))}),[s,null===r||void 0===r?void 0:r.country]),Object(i.useEffect)((function(){s(ub(d))}),[s,d]),Object(i.useEffect)((function(){s(Object(db.a)({object:Object(I.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"FAQ",include:"5"}}))}),[]);var l=null,b=null,v=null,j=null,O=f.a.DISPOSITION,m=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null,ourFaqContent:e.ourFaqReducer.response||null}}));if(m.marketPageContent&&m.tenantReducerContent&&m.homePageContent&&Object(x.Bb)(m.ourFaqContent)){l=Object(x.V)(m.homePageContent);var p=m.marketPageContent.headerData,h=p.header,g=void 0===h?{}:h,E=p.tenant,S=void 0===E?[]:E,C=p.footer,A=void 0===C?{}:C;b=Object(x.W)(g),j=Object(x.O)(A),Object(x.jb)(S),v=Object(x.P)(m.ourFaqContent)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Bb)(b)&&Object(u.jsx)(Qa,{contentData:b,tenantReducerData:m.tenantReducerContent,userParams:d})||null,Object(u.jsx)(Yr,{page:T.C}),Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null!==(t=null===(n=l)||void 0===n?void 0:n[O])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(o=l)||void 0===o?void 0:o[O])&&void 0!==a?a:{}},userParams:d}),Object(x.Bb)(v)&&Object(u.jsx)(cm,{contentData:v,history:e.history}),Object(x.Bb)(j)&&Object(u.jsx)(ba,{history:e.history,contentData:j,tenantReducerData:m.tenantReducerContent})||null]})},rm=n(392),sm=n(191),dm=f.a.KFC_Gift_Card,lm=function(e){var t=yu,n=Su,c=_u,o=Nu,r=xu,s=hu,d=e.isOpen,l=e.handleClose,b=e.tenantId,v=Object(i.useState)(Object(x.Hb)(window.innerWidth)),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useState)(""),h=Object(j.a)(p,2),g=h[0],E=h[1],I=Object(i.useState)(""),T=Object(j.a)(I,2),S=T[0],C=T[1],A=Object(i.useState)(!0),y=Object(j.a)(A,2),_=y[0],D=y[1],R=Object(i.useState)(!1),w=Object(j.a)(R,2),k=w[0],L=w[1],P=Object(i.useState)(!1),M=Object(j.a)(P,2),F=M[0],H=M[1],B=Object(N.b)(),U=Object(N.c)((function(e){return e})),G=U.tenantReducer,Y=U.profileReducer,K=U.createBalanceReducer,V=G.currencySymbol,W=K.response,q=function(){var e=Object(x.Hb)(window.innerWidth);f(e)};Object(i.useEffect)((function(){window.addEventListener("resize",q)}),[m]),Object(i.useEffect)((function(){switch(W.cardStatus){case o:C(W.cardBalance),L(!0),H(!1);break;case r:L(!1),H(!0)}}),[W]);var z=Object(i.useState)({value:"",errorMessage:"",error:!1}),Q=Object(j.a)(z,2),J=Q[0],X=Q[1],Z=Object(i.useState)({value:"",errorMessage:"",error:!1}),$=Object(j.a)(Z,2),ee=$[0],te=$[1],ne=Object(i.useState)({value:"",errorMessage:"",error:!1}),ae=Object(j.a)(ne,2),ie=ae[0],ce=ae[1];Object(i.useEffect)((function(){var e=""!==(ee.value&&ie.value),t=!1===(ee.error||ie.error);D(!e||!t)}),[ee,ie]),Object(i.useEffect)((function(){Cn(dm,ee.error,ee.errorMessage)}),[ee.errorMessage,ee.error]),Object(i.useEffect)((function(){Cn(dm,ie.error,ie.errorMessage)}),[ie.errorMessage,ie.error]),Object(i.useEffect)((function(){Cn(dm,J.error,J.errorMessage)}),[J.errorMessage,J.error]);var oe=function(e){E(e.target.value);var t,i=Object(a.a)({},J);i.value=g,g&&(t=g,!n.test(t))?(i.error=!0,i.errorMessage=Object(Se.e)("invalidEmailErrMsg")):(i.error=!1,i.errorMessage=""),X(Object(a.a)({},i))},re=function(e,t){e&&t()},se=function(e){var t=e.target.value,n=e.target.name;re("cardNumber"===n,(function(){return te(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?t.length<16||isNaN(t)?(n.error=!0,n.errorMessage=Object(Se.e)("invalidcardNumber")):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Se.e)(cu)),n}(ee,t)))})),re("pinNumber"===n,(function(){return ce(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?6!==t.length||isNaN(t)?(n.error=!0,n.errorMessage=Object(Se.e)("invalidPin")):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Se.e)(ou)),n}(ie,t)))}))},de=function(){te({value:""}),ce({value:""}),C(""),L(!1),X({value:""}),E(""),L(!1)},le=Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"GiftbalanceInputArea",children:[Object(u.jsxs)("div",{className:"balanceHeader",children:[Object(u.jsx)("h3",{className:"InputboxHeading",children:Object(Se.e)(t.GIFTCARD_HEADER)}),!m&&Object(u.jsx)("p",{className:"mandatory-note",children:Object(Se.e)(s)})]}),Object(u.jsx)("div",{className:"inputcardNumbox",children:Object(u.jsx)(It,{"data-testid":"card-no",className:ee.error?"error-text":"details",name:"cardNumber",placeholder:Object(Se.e)(t.GIFTCARDNUM_INPUT),value:ee.value,onChange:se,onKeyPress:function(e){return function(e){/[0-9]/.test(e.key)||e.preventDefault()}(e)},maxLength:16,helperTextClassName:"error-text",helperText:ee.errorMessage,error:ee.error,required:!0})}),Object(u.jsx)("div",{className:"inputpinNumbox",children:Object(u.jsx)(It,{"data-testid":"pin-no",className:ie.error?"error-text":"details",name:"pinNumber",placeholder:Object(Se.e)(t.GIFTCARDPN_INPUT),value:ie.value,onChange:se,maxLength:6,helperTextClassName:"error-text",helperText:ie.errorMessage,error:ie.error,required:!0})}),Object(u.jsx)("div",{className:"inputmailbox",children:Object(u.jsx)(It,{"data-testid":"email-id",className:J.error?"error-text":"details",type:"email",name:"mailId",placeholder:Object(Se.e)(t.EMAIL_ADDR),value:g,onChange:function(e){return oe(e)},helperTextClassName:"error-text",helperText:J.errorMessage,error:J.error,required:!0})})]})}),ue=m?{role:"dialog",modalTitleId:"CheckBalancepopup",show:d,classNames:"giftcard-checkbalance-modal",showCloseBtn:!0,closeButtonHandler:l,autoFocus:!0,modalTitle:Object(Se.e)("giftcardCheckbalnaceTitle"),closeDataTestId:"giftcheck-balance"}:{role:"dialog",modalTitleId:"CheckBalancepopup",show:d,classNames:k?"giftcard-resbal-modal":"giftcard-checkbal-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:l,modalTitle:Object(Se.e)("giftcardCheckbalnaceTitle"),autoFocus:!0,closeDataTestId:"giftcheck-balance",ariaLabel:Object(Se.e)("closeGiftClose")};return Object(u.jsxs)("div",{className:"giftcardContainer".concat(m?" mobile":""),"data-testid":"giftcard-checkBal",children:[d&&Object(u.jsxs)(jt,Object(a.a)(Object(a.a)({},ue),{},{children:[Object(u.jsx)("div",{className:"checkBalModalContent",children:le}),Object(u.jsxs)("div",{className:"buttonGiftModal",children:[Object(u.jsx)(Ot.a,{"data-testid":"canc-button",className:"button whiteButton blackBorder closebtn-cls",onClick:function(e){return te({value:""}),ce({value:""}),E(""),void X({value:""})},children:Object(Se.e)(t.CANCEL_BUTTONT)}),Object(u.jsx)(Ot.a,{"data-testid":"subm-button",className:"button blackButton blackBorder save-button",onClick:function(e){return function(e){if(""!==(ee.value&&ie.value)){var t={customerId:Y.customerId,tenantId:b,body:{cardNumber:ee.value,cardPin:ie.value}};console.log("cardNumber",ee.value),Object(x.vb)(b)&&B(Object(Uu.a)(t))}}()},disabled:_,children:Object(Se.e)(t.SUBMIT_BUTTON)})]})]})),";",k&&Object(u.jsxs)(jt,Object(a.a)(Object(a.a)({},ue),{},{children:[Object(u.jsxs)("div",{className:"resultBalModalContent",children:[Object(u.jsxs)("div",{className:"GiftbalanceInputArea",children:[Object(u.jsx)("div",{className:"InputboxHeading",children:Object(Se.e)(t.GIFTCARD_HEADER)}),Object(u.jsx)("div",{className:"inputcardNumboxup",children:Object(u.jsx)(It,{"data-testid":"result-cardnum",className:"details",type:"tel",placeholder:Object(Se.e)(c.GIFTCARDNUM_SHOW),value:ee.value})}),Object(u.jsx)("div",{className:"inputpinNumbox",children:Object(u.jsx)(It,{"data-testid":"result-pinnum",className:"details",type:"tel",placeholder:Object(Se.e)(c.GIFTCARDNUM_SHOWSHOW),value:ie.value})}),Object(u.jsx)("div",{className:"inputmailbox",children:Object(u.jsx)(It,{"data-testid":"result-mailid",className:"details",type:"email",placeholder:Object(Se.e)(c.EMAIL_SHOW),value:g})})]}),Object(u.jsxs)("div",{className:"BalanceText",children:[Object(Se.e)("balanceText")," ",V," ",S]})]}),Object(u.jsxs)("div",{className:"addPayButton",children:[Object(u.jsx)("div",{className:"payButton",children:Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder ",children:Object(Se.e)(t.CHECKBALANCE_BUTTON)})}),Object(u.jsx)("div",{className:"resetButton",children:Object(u.jsx)(Ot.a,{"data-testid":"reset-button",className:"button whiteButton ",onClick:de,children:Object(u.jsx)("u",{children:Object(Se.e)(t.RESET_BUTTON)})})})]})]})),";",F&&Object(u.jsx)("div",{className:"checkBal-errorModal",children:Object(u.jsx)(Ti,{CartAlertForm:Object(u.jsx)(xi,{title:Object(Se.e)(t.INVALID_MODALTITLE),contentMsg:Object(Se.e)(t.INVALID_MODALCONTENT),cancelHandler:function(){de(),H(!1)},cancelButtonText:Object(Se.e)(t.INVALID_OKBUTTON)})})}),";"]})};var um=function(e){var t,n=e.giftCardPurchaseData,a=n.orderId,c=n.tenderType,o=n.transactionId,r=n.transactionAmount,s=n.postUrl,d=n.requestMessage;return Object(i.useEffect)((function(){var e,t,n;null===(e=document)||void 0===e||null===(t=e.giftcard)||void 0===t||t.submit(),(null===(n=document)||void 0===n?void 0:n.giftcard)&&localStorage.setItem("postPaymentType","giftCardPurchase")}),[document,null===(t=document)||void 0===t?void 0:t.giftcard]),Object(u.jsx)("div",{children:s&&Object(u.jsxs)("form",{method:"POST",action:s,name:"giftcard",children:[Object(u.jsx)("input",{type:"hidden",name:"orderId",value:a}),Object(u.jsx)("input",{type:"hidden",name:"tenderType",value:c}),Object(u.jsx)("input",{type:"hidden",name:"transactionId",value:o}),Object(u.jsx)("input",{type:"hidden",name:"transactionAmount",value:r}),Object(u.jsx)("input",{type:"hidden",name:"msg",value:d})]})})},bm=n.p+"static/media/GiftCard.58a3fe2e.svg",vm=n.p+"static/media/purchasefailure.ea27383e.svg",jm=function(e){var t=Du,n=Ru,c=wu,o=e.isOpen,r=e.handleClose,s=e.purchaseStatus,d=e.paymentStatus,l=Object(i.useState)(Object(x.Hb)(window.innerWidth)),b=Object(j.a)(l,2),v=b[0],O=b[1],m=function(){var e=Object(x.Hb)(window.innerWidth);O(e)};Object(i.useEffect)((function(){window.addEventListener("resize",m)}),[v]);var f=function(){r()},p=v?{role:"dialog",modalTitleId:"PurchaseSuccesspopup",show:o,classNames:"giftcard-purchase-success",showCloseBtn:!0,closeButtonHandler:r,autoFocus:!0,modalTitle:" ",closeDataTestId:"purchase-success"}:{role:"dialog",modalTitleId:"PurchaseSuccesspopup",show:o,classNames:"giftcard-purchase-success",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:r,modalTitle:" ",autoFocus:!0,closeDataTestId:"purchase-success"};return Object(u.jsx)("div",{className:"giftcardContainer".concat(v?" mobile":""),"data-testid":"giftcard-success",children:o&&Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},p),{},{children:"success"===s?Object(u.jsxs)("div",{className:"giftCardSuccessContent",children:[Object(u.jsx)("div",{className:"imageComp",children:Object(u.jsx)(S.a,{srcFile:bm,alt:"giftcard",className:"giftcard-confirm"})}),Object(u.jsx)("div",{className:"congratsMsg",children:Object(Se.e)(t.CONGRATS_TEXT)}),Object(u.jsx)("div",{className:"feedbackMsg",children:Object(Se.e)(t.FEEDBACK_MESSAGE)}),Object(u.jsx)("div",{className:"buttonTobuy",children:Object(u.jsx)("button",{"data-testid":"buy-card",className:"button whiteButton blackBorder",onClick:f,children:Object(Se.e)(t.BUY_NEWGIFTCARD)})})]}):Object(u.jsxs)("div",{className:"giftCardSuccessContent",children:[Object(u.jsx)("div",{className:"imageComp",children:Object(u.jsx)(S.a,{srcFile:vm,alt:"giftcardfailure",className:"giftcard-confirm"})}),Object(u.jsx)("div",{className:"congratsMsg",children:Object(Se.e)(n.FAILURE_TEXT)}),"Failed"===d?Object(u.jsx)("div",{className:"feedbackMsg",children:Object(Se.e)(c)}):Object(u.jsx)("div",{className:"feedbackMsg",children:Object(Se.e)(n.FAILURE_MESSAGE)}),Object(u.jsx)("div",{className:"buttonTobuy",children:Object(u.jsx)("button",{"data-testid":"reset",className:"button whiteButton blackBorder",onClick:f,children:Object(Se.e)(n.RETRY)})})]})}))})},Om=f.a.PAYMENT_FAILED_MESSAGE,mm=f.a.KFC_Gift_Card,fm=function(e){return Su.test(e)},pm=function(e){var t=Object(i.useState)(!1),n=Object(j.a)(t,2),r=n[0],s=n[1],d=Object(i.useState)(!0),l=Object(j.a)(d,2),b=l[0],v=l[1],O=e.contentData,m=O.headerData,f=void 0===m?{}:m,p=O.desktopImage,h=void 0===p?{}:p,g=O.giftAmount,E=void 0===g?{}:g,I=O.termsncondition,T=void 0===I?{}:I,S=e.isMobile,C=su,A=du,y=lu,_=uu,D=bu,R=vu,w=ju,k=Ou,L=Eu,P=Iu,M=Tu,F=gu,H=hu,B=Object(N.b)(),U=Object(o.g)(),G=Object(N.c)((function(e){return e.tenantReducer})),Y=G||{},K=Y.tenantId,V=Y.currencySymbol,W=Object(N.c)((function(e){return e.profileReducer.customerId})),q=Object(N.c)((function(e){return e.giftCardPurchaseReducer}))||{},z=q.giftCardPurchaseData,Q=void 0===z?{}:z,J=q.isPurchaseSuccess,X=void 0!==J&&J,Z=(Object(N.c)((function(e){return e.paymentsGiftCardReducer}))||{}).giftCardPurchaseStatResp,$=void 0===Z?{}:Z,ee=function(e){e.preventDefault(),s(!1)};Object(i.useEffect)((function(){var e=function(e){27===e.keyCode&&ee(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var te=Object(i.useState)({value:"",errorMessage:"",error:!1}),ne=Object(j.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(i.useState)({value:"",errorMessage:"",error:!1}),oe=Object(j.a)(ce,2),re=oe[0],se=oe[1],de=Object(i.useState)({value:"",errorMessage:"",error:!1}),le=Object(j.a)(de,2),ue=le[0],be=le[1],ve=Object(i.useState)({value:"",errorMessage:"",error:!1}),je=Object(j.a)(ve,2),Oe=je[0],me=je[1],fe=Object(i.useState)(""),pe=Object(j.a)(fe,2),he=pe[0],ge=pe[1],Ne=Object(i.useState)(""),xe=Object(j.a)(Ne,2),Ee=xe[0],Ie=xe[1],Te=Object(i.useState)(!1),Ce=Object(j.a)(Te,2),Ae=Ce[0],ye=Ce[1],_e=Object(i.useState)(!0),De=Object(j.a)(_e,2),Re=De[0],we=De[1],ke=Object(i.useState)(!1),Le=Object(j.a)(ke,2),Pe=Le[0],Me=Le[1];Object(i.useEffect)((function(){Ee>0&&""!==(ue.value&&Oe.value&&re.value&&ae.value)&&!1===(ue.error||Oe.error||re.error||ae.error)?we(!1):we(!0)}),[ae,re,ue,Oe,Ee]),Object(i.useEffect)((function(){Cn(mm,re.error,re.errorMessage)}),[re.errorMessage,re.error]),Object(i.useEffect)((function(){Cn(mm,Oe.error,Oe.errorMessage)}),[Oe.errorMessage,Oe.error]),Object(i.useEffect)((function(){Cn(mm,ue.error,ue.errorMessage)}),[ue.errorMessage,ue.error]),Object(i.useEffect)((function(){Cn(mm,ae.error,ae.errorMessage)}),[ae.errorMessage,ae.error]),Object(i.useEffect)((function(){X&&ye(!0)}),[X]),Object(i.useEffect)((function(){(null===U||void 0===U?void 0:U.ShowFailureError)&&(Me(!0),Object(x.J)("KFC Gift Card",Om))}),[null===U||void 0===U?void 0:U.ShowFailureError]),Object(i.useEffect)((function(){"giftCardPurchase"===localStorage.getItem("postPaymentType")&&"Success"===localStorage.getItem("paymentStatus")&&K&&B(Object(Wu.b)({tenantId:K,orderId:null===Q||void 0===Q?void 0:Q.orderId}))}),[localStorage.getItem("paymentStatus")]);var Fe=function(e,t){var n=e.target.value;t===L.USER_FULL_NAME&&se(Object(a.a)({},function(e,t){var n=Au,i=Object(a.a)({},e);return i.value=t,n.test(t)?(i.error=!0,i.errorMessage=Object(Se.e)("namevalidationmsg")):!t||t.length<2||t.length>26?(i.error=!0,i.errorMessage=Object(Se.e)("emptyYourNameErrMsg")):(i.error=!1,i.errorMessage=""),i}(re,n))),t===L.USER_PHONE&&me(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?10!==t.length||isNaN(t)?(n.error=!0,n.errorMessage=Object(Se.e)("invalidPhoneNumberErrText")):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Se.e)("phonenumberEmptyHelpText")),n}(Oe,n))),t===L.USER_EMAIL&&be(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?fm(t)?(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Se.e)("invalidYourEmailErrText")):(n.error=!0,n.errorMessage=Object(Se.e)("yourEmailHelpText")),n}(ue,n))),t===L.RECP_EMAIL&&ie(Object(a.a)({},function(e,t){var n=Object(a.a)({},e);return n.value=t,t?fm(t)?(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(Se.e)("invalidRecipientEmailErrText")):(n.error=!0,n.errorMessage=Object(Se.e)("recipientEmptyEmailHelpText")),n}(ae,n))),t===L.MESSAGE&&ge(n)};return Object(u.jsxs)("div",{className:"giftcard-container",children:[Object(u.jsxs)("div",{className:"giftcard-headline-container",children:[Object(u.jsx)("h1",{className:"giftcard-headline",children:f.headline}),Object(u.jsx)("button",{"data-testid":"toggle-modal",className:"button whiteButton blackBorder check-balance",onClick:function(){return s(!0),void B(Object(Uu.b)())},children:Object(Se.e)(C)}),r&&Object(u.jsx)(lm,{tenantId:G.tenantId,isOpen:r,handleClose:ee})]}),Object(u.jsxs)("div",{className:"main-container",children:[Object(u.jsx)("h2",{className:"buy-card-text",children:f.subHeadline}),Object(u.jsx)("img",{src:h.url,alt:"KFC Gift Card",className:"card-image"}),Object(u.jsxs)("div",{className:"card-amount-container",children:[Object(u.jsx)("h3",{className:"card-amount-heading container-heading",children:E.title}),Object(u.jsxs)("div",{className:"amount-list",children:[E&&E.list&&E.list.map((function(e,t){return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)(Ot.a,{"data-testid":"selected-amt",id:"gift-amount",className:e===Ee?"amount-block amount-block-select":"amount-block",onClick:function(t){Ie(e),function(e,t,n){document.getElementById("gift-amount").setAttribute("aria-label",t+n+"selected")}(0,e,V)},ariaLable:e+V,children:[V,e]})})})),"INDIA"!==(null===G||void 0===G?void 0:G.country)&&Object(u.jsx)("div",{className:"amount-block",children:F})]})]}),Object(u.jsxs)("div",{className:"infomation-container",children:[Object(u.jsx)("h3",{className:"information-heading container-heading",children:M}),Object(u.jsxs)("div",{className:"infomation-input-container",children:[!S&&Object(u.jsx)("p",{className:"mandatory-note",children:Object(Se.e)(H)}),Object(u.jsx)(It,{"data-testid":"recept-email",autoComplete:"on",value:ae.value,labelClassName:"info-label",inputClassName:"info-input",helperTextClassName:"error-text",placeholder:Object(Se.e)(A),"aria-required":"true",onChange:function(e){return Fe(e,L.RECP_EMAIL)},helperText:ae.errorMessage,error:ae.error}),Object(u.jsx)(It,{"data-testid":"user-name",autoComplete:"on",value:re.value,labelClassName:"info-label",inputClassName:"info-input",helperTextClassName:"error-text",maxlength:"26","aria-required":"true",placeholder:Object(Se.e)(y),onChange:function(e){return Fe(e,L.USER_FULL_NAME)},helperText:re.errorMessage,error:re.error}),Object(u.jsx)(It,{"data-testid":"user-email",autoComplete:"on",value:ue.value,labelClassName:"info-label",inputClassName:"info-input",helperTextClassName:"error-text","aria-required":"true",placeholder:Object(Se.e)(_),onChange:function(e){return Fe(e,L.USER_EMAIL)},helperText:ue.errorMessage,error:ue.error}),Object(u.jsx)(It,{"data-testid":"user-phone",autoComplete:"on",value:Oe.value,labelClassName:"info-label",inputClassName:"info-input",helperTextClassName:"error-text",maxlength:"10","aria-required":"true",placeholder:Object(Se.e)(D),onChange:function(e){return Fe(e,L.USER_PHONE)},helperText:Oe.errorMessage,error:Oe.error})]})]}),Object(u.jsxs)("div",{className:"msg-container",children:[Object(u.jsx)("h3",{className:"msg-heading container-heading",children:P}),Object(u.jsx)("textarea",{"data-testid":"msg-input",value:he,className:"msg-inputbox",placeholder:Object(Se.e)(R),"aria-label":Object(Se.e)(R),onChange:function(e){return Fe(e,L.MESSAGE)}})]})]}),Object(u.jsxs)("div",{id:"terms-condition-button-container",children:[Object(u.jsxs)("div",{className:"terms-condition-container",children:[Object(u.jsx)("div",{className:"terms-condition-title","aria-label":T.title,children:T.title}),Object(u.jsx)("div",{className:"terms-condition-data","aria-label":T.data,children:T.data})]}),Object(u.jsxs)("div",{className:"button-container",children:[Object(u.jsx)("button",{"data-testid":"clear-input",className:"button whiteButton blackBorder cancel-button",onClick:function(){return ie({value:""}),se({value:""}),be({value:""}),me({value:""}),ge(""),void Ie("")},children:Object(Se.e)(w)}),Object(u.jsx)("button",{"data-testid":"payment-button",className:"button redButton payment-button",disabled:Re,onClick:function(){Ee>0&&""!==(ue.value&&Oe.value&&re.value&&ae.value)&&B(Object(sm.a)({body:{RecipientEmail:ae.value,BuyerName:re.value,BuyerEmail:ue.value,BuyerMobileNumber:Oe.value,Message:he,GiftCardAmount:Ee},tenantId:K,customerId:W}))},children:Object(Se.e)(k)})]})]}),Ae&&Object(u.jsx)(um,{giftCardPurchaseData:Q}),b&&(Pe||"Success"===localStorage.getItem("paymentStatus"))&&Object(u.jsx)(jm,{isOpen:b,handleClose:function(){return localStorage.setItem("paymentStatus",""),localStorage.setItem("postPaymentType",""),B(Object(Wu.c)()),B(Object(sm.b)()),v(!1),void window.location.reload()},purchaseStatus:$.purchaseStatus,paymentStatus:localStorage.getItem("paymentStatus")})]})},hm=function(){return Object(x.Hb)(window.innerWidth)},gm=function(e){var t=e.contentData,n=void 0===t?{}:t,a=Object(i.useState)(Object(x.Hb)(window.innerWidth)),c=Object(j.a)(a,2),o=c[0],r=c[1],s=Object(i.useContext)(E.a).userOrderState;Object(i.useEffect)((function(){window.addEventListener("resize",r(hm))}),[o]);return o?Object(u.jsxs)("div",{className:"giftCard-mobile-container",children:[n&&Object(u.jsx)(pm,{contentData:n,isMobile:o}),s.showCartClearAlert?Object(u.jsx)($d,{}):null]}):Object(u.jsxs)("div",{className:"giftCard-desktop-container",children:[n&&Object(u.jsx)(pm,{contentData:n,isMobile:o}),s.showCartClearAlert?Object(u.jsx)($d,{}):null]})},Nm=function(e){var t,n,a,o,r=Object(i.useState)(Object(x.Hb)(window.innerWidth)),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(N.c)((function(e){return e.tenantReducer})),v=Object(N.b)(),O=function(){var e=Object(x.Hb)(window.innerWidth);l(e)};Object(i.useEffect)((function(){window.addEventListener("resize",O)}),[d]);var m=Object(N.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useEffect)((function(){v(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===b||void 0===b?void 0:b.country,"fields.channel":ya.b.channel,include:5}})),v(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ya.b.channel,include:"5"},userParams:m})),v(Object(rm.a)({object:Object(I.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Gift Card",include:"5"}})),v(Object(sm.b)())}),[v,null===b||void 0===b?void 0:b.country,m]);var g=null,E=null,S=null,C=null,A=f.a.DISPOSITION,y=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null,giftCardContent:e.giftCardReducer||null}}));if(y.marketPageContent&&y.marketPageContent.headerData&&y.tenantReducerContent&&y.homePageContent&&Object(x.Bb)(y.giftCardContent)){g=Object(x.V)(y.homePageContent);var _=y.marketPageContent.headerData,D=_.header,R=void 0===D?{}:D,w=_.tenant,k=void 0===w?[]:w,L=_.footer,P=void 0===L?{}:L;E=Object(x.W)(R),S=Object(x.O)(P),Object(x.jb)(k),C=Object(x.T)(y.giftCardContent)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Bb)(E)&&Object(u.jsx)(Qa,{contentData:E,tenantReducerData:y.tenantReducerContent,userParams:m})||null,Object(u.jsx)(Yr,{page:T.H}),Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null!==(t=null===(n=g)||void 0===n?void 0:n[A])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(o=g)||void 0===o?void 0:o[A])&&void 0!==a?a:{}},userParams:m}),Object(x.Bb)(C)&&Object(u.jsx)(gm,{contentData:C}),Object(x.Bb)(S)&&Object(u.jsx)(ba,{history:e.history,contentData:S,tenantReducerData:y.tenantReducerContent})||null]})},xm=n(393),Em=function(e){var t=e.headerData,n=e.history,a=e.isMobile,i=t.headline,c=t.subHeadline,o=t.faqButtonData,r=t.callUsButtonData,s="tel:"+Object(x.ub)(null===r||void 0===r?void 0:r.phoneNumber);return Object(u.jsxs)("div",{className:"contactUs-header-container",children:[Object(u.jsx)("img",{src:ks,alt:"",className:"contactUs-icon"}),Object(u.jsx)("h1",{className:"contactUs-header",children:i}),Object(u.jsx)("div",{className:"contactUs-subheader",children:c}),Object(u.jsxs)("div",{className:"button-container",children:[Object(u.jsx)("a",{tabIndex:"-1",href:s,className:"anchorTags",children:Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder contactus-button",ariaLable:"Call Us 080-4275-4444",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(S.a,{className:"icon",srcFile:r.icon}),r.buttonText," ",!a&&r.phoneNumber]})})}),a&&Object(u.jsx)("span",{className:"space"}),o&&Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder contactus-button",ariaLable:"FAQ",onClickHandler:function(e){e.preventDefault(),n.push({pathname:null===o||void 0===o?void 0:o.internalurl})},children:o.linkText})]})]})},Im={questionForUs:"questionForUs",loveToHearFromYou:"loveToHearFromYou",wantToKnow:"wantToKnow",wantToKnowPlaceholder:"wantToKnowPlaceholder",letUsKnow:"letUsKnow",contactInfoTitle:"contactInfoTitle",firstNamePlaceholder:"firstNamePlaceholder",lastNamePlaceHolder:"lastNamePlaceHolder",phonePlaceholder:"phonePlaceholder",emailPlaceholder:"emailPlaceholder",cancelButtonText:"cancelButtonText",submitButtonText:"submitButtonText",recaptchaLabel:"recaptchaLabel",haveQuestion:"haveQuestion",enterQuestionPlaceholder:"enterQuestionPlaceholder",refineItemsHeader:"refineItemsHeader",searchResultHeader:"searchResultHeader",selectATopic:"selectATopic",pleaseSelect:"pleaseSelect",popoverDoneButton:"popoverDoneButton",feedbackSuccess:"feedbackSuccess",feedbackSuccessMessage:"feedbackSuccessMessage",feedbackSuccessOk:"feedbackSuccessOk",feedbackHelpText:"feedbackHelpText",firstNameHelpText:"firstNameHelpText",lastNameHelpText:"lastNameHelpText",phoneHelpText:"phoneHelpText",emailHelpText:"emailHelpText",mandatorynote:"mandatorynote"},Tm=n(165),Sm=n(408),Cm=function(e){return/^[a-zA-Z ]{2,12}$/.test(String(e).toLowerCase())},Am=function(e){return/^[a-zA-Z ]{2,26}$/.test(String(e).toLowerCase())},ym=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},_m=function(e){return/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(String(e))},Dm=function(e,t){var n=e.wantToKnowText,a=e.selectedLetUsKnow,i=e.firstNameText,c=e.lastNameText,o=e.phoneNoText,r=e.emailText;return!(0===(null===n||void 0===n?void 0:n.length)||(null===n||void 0===n?void 0:n.length)>200)&&(!!Cm(i)&&(!!Cm(c)&&(!!Am("".concat(i).concat(c))&&(!!_m(o)&&(!!ym(r)&&(!!Object(x.Bb)(a)&&!!t))))))},Rm=function(e){var t=e.firstNameText,n=e.lastNameText,a=e.phoneNoText,i=e.emailText;return!!Am(t)&&(!!Am(n)&&(!!_m(a)&&!!ym(i)))},wm=function(e){var t=e.onClickHandler;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{id:"alertPop",role:"dialog",show:!0,classNames:"conatct-us-alet-modal",closeDataTestId:"handler-close",autoFocus:!0,children:Object(u.jsxs)("div",{className:"submit-alert-conatiner",children:[Object(u.jsx)("span",{className:"alert-title",children:Object(Se.e)(Im.feedbackSuccess)}),Object(u.jsx)("span",{className:"alert-message",children:Object(Se.e)(Im.feedbackSuccessMessage)}),Object(u.jsx)(Ot.a,{onClickHandler:t,className:"redButton alert-button",children:Object(Se.e)(Im.feedbackSuccessOk)})]})})})},km=function(e){var t,n=e.arialabelledby,a=e.options,i=e.selectClassName,o=e.optionContainerClassName,r=e.optionClassName,s=e.onChange,d=(e.testid,c.a.useState(!1)),l=Object(j.a)(d,2),b=l[0],v=l[1];return Object(u.jsxs)("div",{"aria-labelledby":n,className:"select-topic-selection-conatiner",onClick:function(){return v(!b)},onKeyPress:function(){return v(!b)},children:[Object(u.jsx)("div",{tabIndex:"0",className:"".concat(i," ").concat(b?" inverted-arrow":""),children:null===(t=a[0])||void 0===t?void 0:t.value}),b&&Object(u.jsx)("div",{className:o,role:"listbox",children:a.map((function(e){var t=e.key,n=e.value;return Object(u.jsx)("span",{role:"listitem",tabIndex:"0",className:r,onClick:function(){return s({key:t,value:n})},onKeyPress:function(){return s({key:t,value:n})},children:n},t||n)}))})]})},Lm=function(e){var t=e.options,n=e.selectedItem,i=e.SetformData;return t.map((function(e){var c=e.key,o=e.value;return Object(u.jsxs)("div",{class:"form-radio-wrapper",children:[Object(u.jsx)("input",{type:"radio",value:o,id:o,checked:n.value===o,"data-testid":o,onChange:function(e){return i((function(n){return Object(a.a)(Object(a.a)({},n),{},{selectedLetUsKnow:t.find((function(t){return t.value===e.target.value}))})}))}},c),Object(u.jsx)("label",{for:o,children:Object(u.jsx)("span",{children:o})})]})}))},Pm=function(e){var t,n,i,o,r=e.bodyFormData,s=e.tenantId,d=e.history,l=e.isMobile,b=r.headline,v=r.topicOptions,O=c.a.useState(!1),m=Object(j.a)(O,2),f=m[0],p=m[1],h=c.a.useState(void 0),g=Object(j.a)(h,2),x=g[0],E=g[1],I=c.a.useState({wantToKnowText:"",selectedLetUsKnow:{},firstNameText:"",lastNameText:"",phoneNoText:"",emailText:""}),S=Object(j.a)(I,2),C=S[0],A=S[1],y=Object(N.b)(),_=Object(N.c)((function(e){var t;return null===(t=e.feedbackReducer)||void 0===t?void 0:t.response}));return c.a.useEffect((function(){window.scrollTo(0,0)}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h5",{className:"contactUs-title",children:b}),Object(u.jsxs)("div",{className:"select-topic-container",children:[Object(u.jsx)("h6",{className:"select-topic-label",id:"listbox1label",children:Object(Se.e)(Im.selectATopic)}),Object(u.jsx)(km,{arialabelledby:"listbox1label",options:v.map((function(e,t){return{key:t,value:e.linkText}})),selectClassName:"select-topic-selection",optionContainerClassName:"select-topic-option-conatiner",optionClassName:"select-topic-option",onChange:function(e){var t=e.key,n=v[t].externalurl;n&&(window.location.href=n)},testid:"select-topic"})]}),Object(u.jsxs)("div",{className:"contactUs-questions-container",children:[Object(u.jsx)("h6",{className:"questions-form-header",children:Object(Se.e)(Im.questionForUs)}),Object(u.jsx)("span",{className:"questions-form-subheader",children:Object(Se.e)(Im.loveToHearFromYou)}),Object(u.jsxs)("div",{className:"questions-form-container1",children:[Object(u.jsx)("h6",{className:"container1-header",children:"".concat(Object(Se.e)(Im.wantToKnow))}),Object(u.jsx)("textarea",{className:"container1-input","aria-label":Object(Se.e)(Im.wantToKnow),multiple:!0,maxLength:200,value:C.wantToKnowText,onChange:function(e){return A(Object(a.a)(Object(a.a)({},C),{},{wantToKnowText:e.target.value}))},placeholder:Object(Se.e)(Im.wantToKnowPlaceholder),"data-testid":"wantToKnowText"})]}),Object(u.jsx)("div",{className:"questions-form-container2",children:Object(u.jsxs)("fieldset",{children:[Object(u.jsx)("legend",{className:"container2-header",children:"".concat(Object(Se.e)(Im.letUsKnow))}),Object(u.jsx)("div",{className:"radio-container",children:Object(u.jsx)(Lm,{options:v[0].contents,selectedItem:C.selectedLetUsKnow,SetformData:A})})]})}),Object(u.jsxs)("div",{className:"questions-form-container3",children:[Object(u.jsxs)("div",{className:"container3-header-block",children:[Object(u.jsx)("h6",{className:"container3-header",children:Object(Se.e)(Im.contactInfoTitle)}),!l&&Object(u.jsx)("p",{className:"mandatory-note",children:Object(Se.e)(Im.mandatorynote)})]}),Object(u.jsx)(It,{placeholder:"".concat(Object(Se.e)(Im.firstNamePlaceholder)),value:C.firstNameText,onChange:function(e){return A(Object(a.a)(Object(a.a)({},C),{},{firstNameText:e.target.value}))},inputClassName:"input",autoComplete:"on",containerClassName:"input-conatiner",inputTestId:Im.firstNamePlaceholder,error:0!==(null===C||void 0===C||null===(t=C.firstNameText)||void 0===t?void 0:t.length)&&!Cm(C.firstNameText),helperText:Object(Se.e)(Im.firstNameHelpText),helperTextClassName:"error-text","aria-required":"true",maxlength:13}),Object(u.jsx)(It,{placeholder:"".concat(Object(Se.e)(Im.lastNamePlaceHolder)),value:C.lastNameText,onChange:function(e){return A(Object(a.a)(Object(a.a)({},C),{},{lastNameText:e.target.value}))},inputClassName:"input",autoComplete:"on",containerClassName:"input-conatiner",inputTestId:Im.lastNamePlaceHolder,error:0!==(null===C||void 0===C||null===(n=C.lastNameText)||void 0===n?void 0:n.length)&&!Cm(C.lastNameText),helperText:Object(Se.e)(Im.lastNameHelpText),helperTextClassName:"error-text",maxlength:13,"aria-required":"true"}),Object(u.jsx)(It,{placeholder:"".concat(Object(Se.e)(Im.phonePlaceholder)),value:C.phoneNoText,onChange:function(e){return A(Object(a.a)(Object(a.a)({},C),{},{phoneNoText:e.target.value}))},inputClassName:"input",autoComplete:"on",containerClassName:"input-conatiner",inputTestId:Im.phonePlaceholder,error:0!==(null===C||void 0===C||null===(i=C.phoneNoText)||void 0===i?void 0:i.length)&&!_m(C.phoneNoText),helperText:Object(Se.e)(Im.phoneHelpText),helperTextClassName:"error-text",maxlength:10,"aria-required":"true"}),Object(u.jsx)(It,{placeholder:"".concat(Object(Se.e)(Im.emailPlaceholder)),value:C.emailText,onChange:function(e){return A(Object(a.a)(Object(a.a)({},C),{},{emailText:e.target.value}))},inputClassName:"input",autoComplete:"on",containerClassName:"input-conatiner",inputTestId:Im.emailPlaceholder,error:0!==(null===C||void 0===C||null===(o=C.emailText)||void 0===o?void 0:o.length)&&!ym(C.emailText),helperText:Object(Se.e)(Im.emailHelpText),helperTextClassName:"error-text","aria-required":"true"})]}),Object(u.jsx)("div",{className:"captcha",children:Object(u.jsx)(Sm.a,{sitekey:T.jb,onChange:function(e){E(e)}})}),Object(u.jsxs)("div",{className:"button-container",children:[Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder contactus-button",ariaLable:"Cancel","data-testid":Im.cancelButtonText,onClickHandler:function(e){e.preventDefault(),d.push("/")},children:Object(Se.e)(Im.cancelButtonText)}),Object(u.jsx)(Ot.a,{disabled:!Dm(C,x),className:"button blackButton contactus-button disabled",ariaLable:"Submit","data-testid":Im.submitButtonText,onClickHandler:function(e){e.preventDefault();var t=function(e,t,n){return{tenantId:t,payload:{data:[{key:"message",value:e.wantToKnowText},{key:"category",value:e.selectedLetUsKnow.key},{key:"firstName",value:e.firstNameText},{key:"lastName",value:e.lastNameText},{key:"email",value:e.emailText},{key:"phone",value:e.phoneNoText},{key:"language",value:"en-US"},{key:"captchaResponse",value:n}],attachments:[]}}}(C,s,x);y(Object(Tm.a)(t)),p((function(){return!0}))},children:Object(Se.e)(Im.submitButtonText)})]})]}),_&&f?Object(u.jsx)(wm,{onClickHandler:function(){d.push("/")}}):null]})},Mm=function(e){var t=e.contentData,n=void 0===t?{}:t,a=e.history,c=e.tenantId,o=n.headerData,r=n.bodyFormData,s=Object(i.useState)(Object(x.Hb)(window.innerWidth)),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(i.useContext)(E.a).userOrderState,O=function(){var e=Object(x.Hb)(window.innerWidth);b(e)};Object(i.useEffect)((function(){window.addEventListener("resize",O)}),[l]);return l?Object(u.jsxs)("div",{className:"contactUs-mobile-container",children:[Object(u.jsx)("div",{className:"contactUs-mobile-header",children:o&&Object(u.jsx)(Em,{headerData:o,history:a,isMobile:l})}),Object(u.jsx)("div",{className:"contactUs-section-body",children:r&&Object(u.jsx)(Pm,{bodyFormData:r,history:a,tenantId:c,isMobile:l})}),v.showCartClearAlert?Object(u.jsx)($d,{}):null]}):Object(u.jsxs)("div",{className:"contactUs-desktop-container",children:[Object(u.jsx)("div",{className:"contactUs-section-left",children:o&&Object(u.jsx)(Em,{headerData:o,history:a,isMobile:l})}),Object(u.jsx)("div",{className:"contactUs-section-right",children:Object(u.jsx)("div",{className:"contactUs-description-desktop",children:r&&Object(u.jsx)(Pm,{bodyFormData:r,history:a,tenantId:c,isMobile:l})})}),v.showCartClearAlert?Object(u.jsx)($d,{}):null]})},Fm=function(e){var t,n,a,o,r=Object(N.c)((function(e){return e.tenantReducer})),s=Object(N.b)(),d=Object(N.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useEffect)((function(){s(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===r||void 0===r?void 0:r.country,"fields.channel":ya.b.channel,include:5}})),s(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ya.b.channel,include:"5"},userParams:d})),s(Object(xm.a)({object:Object(I.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Contact Us",include:"5"}}))}),[]);var l=null,b=null,v=null,j=null,O=f.a.DISPOSITION,m=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null,contactUsContent:e.contactUsReducer.response||null}}));if(m.marketPageContent&&m.tenantReducerContent&&m.homePageContent&&Object(x.Bb)(m.contactUsContent)){var g;l=Object(x.V)(m.homePageContent);var E=null===(g=m.marketPageContent)||void 0===g?void 0:g.headerData,T=E.header,S=void 0===T?{}:T,C=E.tenant,A=void 0===C?[]:C,y=E.footer,_=void 0===y?{}:y;b=Object(x.W)(S),j=Object(x.O)(_),Object(x.jb)(A),v=Object(x.z)(m.contactUsContent)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Bb)(b)&&Object(u.jsx)(Qa,{contentData:b,tenantReducerData:m.tenantReducerContent,userParams:d})||null,Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null!==(t=null===(n=l)||void 0===n?void 0:n[O])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(o=l)||void 0===o?void 0:o[O])&&void 0!==a?a:{}},userParams:d}),Object(x.Bb)(v)&&Object(u.jsx)(Mm,{contentData:v,history:e.history,tenantId:r.tenantId}),Object(x.Bb)(j)&&Object(u.jsx)(ba,{history:e.history,contentData:j,tenantReducerData:m.tenantReducerContent})||null]})},Hm=n(394),Bm=function(e){var t=e.headerData,n=(t=void 0===t?{}:t).description,a=t.title;return Object(u.jsxs)("div",{className:"terms-header-container",children:[Object(u.jsx)("img",{src:ks,className:"terms-icon",alt:" "}),Object(u.jsx)("h4",{className:"terms-header",children:a}),Object(u.jsx)("div",{className:"terms-and-condition-data",children:n})]})},Um=function(e){var t=e.questionList,n=void 0===t?[]:t,a=e.headerData,i=(a=void 0===a?{}:a).title,c=e.isMobile,o=function(e){var t=e.target.parentElement.parentElement.parentElement;t.classList.contains("terms-accordian-open")?t.classList.remove("terms-accordian-open"):t.classList.add("terms-accordian-open")};return Object(u.jsx)("div",{children:n.map((function(e,t){return Object(u.jsx)("div",{className:"terms-accordian",id:c&&n[0].question===e.question?"removeLine":"",children:Object(u.jsx)(oe,{"data-testId":"acordian-handle",header:"Terms of Use"===i?"".concat(e.question):"".concat(t+1,". ").concat(e.question),onClickHandler:o,children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Ur.documentToHtmlString)(e.answer)},className:"terms-accordian-answer"})})})}))})},Gm=function(e){var t=e.contentData,n=(t=void 0===t?{}:t).headerData,a=void 0===n?{}:n,c=t.questionList,o=void 0===c?[]:c,r=Object(i.useState)(Object(x.Hb)(window.innerWidth)),s=Object(j.a)(r,2),d=s[0],l=s[1],b=Object(i.useContext)(E.a).userOrderState,v=function(){var e=Object(x.Hb)(window.innerWidth);l(e)};Object(i.useEffect)((function(){window.addEventListener("resize",v)}),[d]);return d?Object(u.jsxs)("div",{className:"terms-mobile-container",children:[Object(u.jsx)("div",{className:"terms-mobile-header",children:Object(u.jsx)(Bm,{headerData:a})}),Object(u.jsx)("div",{className:"terms-mobile-questions",children:Object(u.jsx)(Um,{questionList:o,headerData:a,isMobile:d})}),b.showCartClearAlert?Object(u.jsx)($d,{}):null]}):Object(u.jsxs)("div",{className:"terms-desktop-container",children:[Object(u.jsx)("div",{className:"terms-section-left",children:Object(u.jsx)(Bm,{headerData:a})}),Object(u.jsx)("div",{className:"terms-section-right",children:Object(u.jsx)("div",{className:"terms-questions-desktop",children:Object(u.jsx)(Um,{questionList:o,headerData:a,isMobile:d})})}),b.showCartClearAlert?Object(u.jsx)($d,{}):null]})},Ym=function(e){var t,n,a,r,s=Object(Se.e)(_t.r),d=Object(N.c)((function(e){return e.tenantReducer})),l=Object(N.b)(),b=Object(N.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useEffect)((function(){l(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===d||void 0===d?void 0:d.country,"fields.channel":ya.b.channel,include:5}}))}),[l,null===d||void 0===d?void 0:d.country]);var v=Object(o.g)();Object(i.useEffect)((function(){v.pathname.includes(_t.s)&&Object(Se.e)(_t.r)&&(document.title=s)}),[s,v.pathname]);var j=v.pathname.includes("terms-of-use/true")||v.pathname.includes("terms-and-conditions/true"),O=Object(x.lb)(v.pathname.includes("terms-of-use"),"Terms of Use","Terms and Conditions");Object(i.useEffect)((function(){l(Object(Hm.a)({object:Object(I.a)(),contentFull:{content_type:"staticLandingPage","fields.page":O,include:"5"}}))}),[l,O,v.pathname]);var p=null,g=null,E=null,T=null,S=f.a.DISPOSITION,C=Object(N.c)((function(e){return{homePageContent:m.a.get(e,"contentReducer.response",null),marketPageContent:m.a.get(e,"marketConfigReducer.response",null),tenantReducerContent:m.a.get(e,"tenantReducer",null),termsOfUseContent:m.a.get(e,"termsOfUseReducer.response",null)}}));if(C.marketPageContent&&C.tenantReducerContent&&C.homePageContent&&Object(x.Bb)(C.termsOfUseContent)){p=Object(x.V)(C.homePageContent);var A=C.marketPageContent.headerData,y=A.header,_=void 0===y?{}:y,D=A.tenant,R=void 0===D?[]:D,w=A.footer,k=void 0===w?{}:w;g=Object(x.W)(_),T=Object(x.O)(k),Object(x.jb)(R),E=Object(x.kb)(C.termsOfUseContent)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Bb)(g)&&!j&&Object(u.jsx)(Qa,{contentData:g,tenantReducerData:C.tenantReducerContent,userParams:b})||null,!j&&Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null!==(t=null===(n=p)||void 0===n?void 0:n[S])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(r=p)||void 0===r?void 0:r[S])&&void 0!==a?a:{}},userParams:b}),Object(x.Bb)(E)&&Object(u.jsx)(Gm,{contentData:E}),Object(x.Bb)(T)&&!j&&Object(u.jsx)(ba,{history:e.history,contentData:T,tenantReducerData:C.tenantReducerContent})||null]})},Km=n.p+"static/media/getHelp.c28c1243.svg",Vm=function(e){var t,n,a,i,c,o,r,s,d,l,b,v,j,O,m=null!==(t=JSON.parse(localStorage.getItem("storeInfo")))&&void 0!==t?t:{},f=e.contentData,p=e.isLocalized,h=e.isMobile,g=e.history,N=e.onStartOrderClick,E=f.faqSectionDetails,I=f.helpSectionCallDetails,T=f.helpSectionContactDetails,C=f.helpSectionHeadline,A=f.helpSectionNearestKFC,y=f.surveyDetails,_=function(e){console.log("clicked",e.target.textContent),localStorage.setItem("SelectedFaqItem",e.target.textContent),g.push({pathname:"/faq"})},D=function(e){var t="";if(Object(x.Bb)(e)){var n=e.contacts;(void 0===n?[]:n).forEach((function(e){var n=e.key,a=e.value;"phoneNumber"===n&&(t=a)}))}return t};return Object(u.jsxs)("div",{className:"get-help-section",children:[Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"help-text",children:C}),Object(u.jsxs)("div",{className:"help-block-container",children:[Object(u.jsxs)("div",{className:"get-help-block mr5 mb-5",children:[Object(u.jsx)("h3",{className:"header-text",children:Object(u.jsx)("span",{children:A})}),!h&&p&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{"data-testid":"nearest-kfc",className:"nearest-kfc-details",children:[Object(u.jsx)("span",{className:"section-text font-bold",children:null===m||void 0===m||null===(n=m.name)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.value}),Object(u.jsx)("span",{className:"section-text font-bold",children:null===m||void 0===m||null===(i=m.addresses)||void 0===i||null===(c=i[0])||void 0===c||null===(o=c.address)||void 0===o||null===(r=o.addressLines)||void 0===r?void 0:r[0]}),Object(u.jsxs)("span",{className:"section-text font-bold",children:["Call. ",Object(u.jsx)("span",{className:"deepBlack",children:D(m)})]})]})}),h&&p&&Object(u.jsxs)("div",{className:"section-text ContactUsButton",children:[Object(u.jsxs)("div",{className:"nearest-kfc-details mb-1rem",children:[Object(u.jsx)("span",{className:"section-text font-bold",children:null===m||void 0===m||null===(s=m.name)||void 0===s||null===(d=s[0])||void 0===d?void 0:d.value}),Object(u.jsx)("span",{className:"section-text font-bold",children:null===m||void 0===m||null===(l=m.addresses)||void 0===l||null===(b=l[0])||void 0===b||null===(v=b.address)||void 0===v||null===(j=v.addressLines)||void 0===j?void 0:j[0]})]}),Object(u.jsx)("a",{"data-testid":"nearest-kfc-localised",href:"tel:".concat(D(m)),className:"anchorTags",children:Object(u.jsxs)(Ot.a,{ariaLable:"",className:"deepBlack font-bold button whiteButton blkBorder ",children:[Object(u.jsx)(S.a,{srcFile:null===I||void 0===I?void 0:I.icon,alt:"desktopImage",className:"Messageimage"}),"Call Restaurant"]})})]}),!p&&Object(u.jsx)("div",{"data-testid":"find-kfc",className:"section-text mt-5 ContactUsButton",children:Object(u.jsx)(Ot.a,{ariaLable:"find a kfc","data-testid":"start-order-click",className:"deepBlack font-bold button whiteButton blkBorder ",onClick:function(){return N()},children:"Find a KFC"})})]}),Object(u.jsxs)("div",{className:"get-help-block mr5 mb-5",children:[Object(u.jsx)("h3",{className:"header-text",children:Object(u.jsx)("span",{children:null===I||void 0===I?void 0:I.title})}),Object(u.jsx)("span",{className:"section-text",children:null===I||void 0===I?void 0:I.description}),!h&&Object(u.jsx)("span",{"data-testid":"contact-no-text",className:"section-text font-bold deepBlack",children:null===I||void 0===I?void 0:I.contactNo}),h&&Object(u.jsx)("a",{"data-testid":"contact-no-btn",href:"tel:".concat(null===I||void 0===I?void 0:I.contactNo),className:"anchorTags",children:Object(u.jsx)("div",{className:"section-text mt-adjust ContactUsButton",children:Object(u.jsxs)(Ot.a,{ariaLable:"",className:"deepBlack font-bold button whiteButton blkBorder ",children:[Object(u.jsx)(S.a,{srcFile:null===I||void 0===I?void 0:I.icon,alt:"desktopImage",className:"Messageimage"}),null===I||void 0===I?void 0:I.buttonText]})})})]}),Object(u.jsxs)("div",{className:"get-help-block mb-5",children:[Object(u.jsx)("h3",{className:"header-text",children:Object(u.jsx)("span",{children:null===T||void 0===T?void 0:T.title})}),Object(u.jsx)("span",{className:"section-text",children:null===T||void 0===T?void 0:T.description}),Object(u.jsx)("div",{className:"section-text mt-5 ContactUsButton",children:Object(u.jsxs)(Ot.a,{ariaLable:"contact us","data-testid":"contact-us-btn",className:"deepBlack font-bold button whiteButton blkBorder ",onClick:function(){return e=null===T||void 0===T?void 0:T.linkUrl,void g.push({pathname:e});var e},children:[Object(u.jsx)(S.a,{srcFile:null===T||void 0===T?void 0:T.desktopImage,alt:" ",className:"Messageimage"}),null===T||void 0===T?void 0:T.linkText]})})]})]})]}),E.length>0&&Object(u.jsxs)("div",{className:"faq-survey-section mb-5",children:[Object(u.jsxs)("div",{class:"faq-survey-block  m1-adjust",children:[Object(u.jsx)("h3",{className:"header-text",children:null===E||void 0===E?void 0:E.title}),Object(u.jsx)("span",{className:"section-text",children:null===E||void 0===E?void 0:E.description}),Object(u.jsx)("div",{className:"faq-text-block",children:null===E||void 0===E||null===(O=E.topics)||void 0===O?void 0:O.map((function(e){return Object(u.jsx)(Ot.a,{ariaLable:e,tabindex:"0","data-testid":"topic-item",className:"section-text",onClick:_,children:e})}))}),Object(u.jsx)("span",{className:"section-text mt-5",children:Object(u.jsx)(Ot.a,{ariaLable:"view all faq","data-testid":"view-all-faq",className:"deepBlack font-bold help-btn image-full-text-btn button whiteButton blkBorder",onClick:function(){return e=null===E||void 0===E?void 0:E.linkUrl,void g.push({pathname:e});var e},children:null===E||void 0===E?void 0:E.btnText})})]}),Object(u.jsxs)("div",{class:"faq-survey-block  m-adjust",children:[Object(u.jsx)("p",{className:"header-text",children:null===y||void 0===y?void 0:y.title}),Object(u.jsx)("div",{className:"section-text faq-text-block",children:null===y||void 0===y?void 0:y.description}),Object(u.jsx)("span",{className:"section-text mt-5",children:Object(u.jsx)("a",{href:null===y||void 0===y?void 0:y.linkUrl,"aria-hidden":"true",tabindex:"-1",target:"_blank",className:"anchorTags",rel:"noopener noreferrer",children:(null===y||void 0===y?void 0:y.btnText)&&Object(u.jsx)(Ot.a,{className:"deepBlack font-bold help-btn image-full-text-btn button whiteButton blkBorder",children:null===y||void 0===y?void 0:y.btnText})})})]})]})]})},Wm=function(e){var t=e.onStartOrderClick,n=Object(i.useState)(Object(x.Hb)(window.innerWidth)),a=Object(j.a)(n,2),c=a[0],o=a[1],r=Object(N.c)((function(e){return e.appStateReducer.userStatus})).localized,s=void 0!==r&&r;Object(i.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(i.useEffect)((function(){return window.addEventListener("resize",d),function(){window.removeEventListener("resize",d)}}));var d=function(){o(Object(x.Hb)(window.innerWidth))};return Object(u.jsxs)("div",{className:"get-help-container-section",children:[Object(u.jsx)("div",{style:{backgroundImage:"url(".concat(Km,")")},className:"get-help-header-image",children:Object(u.jsx)("h1",{className:"get-help-image-text",children:e.contentData.bannerTitle})}),Object(u.jsx)("div",{className:"get-help-offers-container",children:Object(u.jsx)(Vm,{onStartOrderClick:t,contentData:e.contentData,history:e.history,isLocalized:s,isMobile:c})})]})},qm=function(e){var t,n,a,o,r,s=Object(N.c)((function(e){return e.appStateReducer.userStatus})),d=Ae.a.DISPOSITION_DATA,l=Object(i.useContext)(E.a),b=l.userOrderState,v=l.userOrderStateDispatch,j=null,O=null,m=null,g=null,T=f.a.DISPOSITION,S=Object(N.b)(),C=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null,getHelpContent:e.helpReducer.helpResponse||null}}));if(C.marketPageContent&&C.tenantReducerContent&&C.homePageContent){var A;j=Object(x.V)(C.homePageContent);var y=(null===(A=C.marketPageContent)||void 0===A?void 0:A.headerData)||{},_=y.header,D=void 0===_?{}:_,R=y.tenant,w=void 0===R?[]:R,k=y.footer,L=void 0===k?{}:k;O=Object(x.W)(D),g=Object(x.O)(L),Object(x.jb)(w),m=Object(x.X)(C.getHelpContent)}return Object(i.useEffect)((function(){var e;S(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===C||void 0===C||null===(e=C.tenantReducerContent)||void 0===e?void 0:e.country,"fields.channel":ya.b.channel,include:5}})),S(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ya.b.channel,include:"5"},userParams:s}))}),[null===C||void 0===C||null===(t=C.tenantReducerContent)||void 0===t?void 0:t.country,S,s]),Object(i.useEffect)((function(){S(Object(hv.a)({object:Object(I.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Help",include:"5"}}))}),[]),Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Bb)(O)&&Object(u.jsx)(Qa,{contentData:O,tenantReducerData:C.tenantReducerContent,userParams:s})||null,Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null!==(n=null===(a=j)||void 0===a?void 0:a[T])&&void 0!==n?n:{},contentDispositionData:null!==(o=null===(r=j)||void 0===r?void 0:r[T])&&void 0!==o?o:{}},userParams:s}),Object(x.Bb)(m)&&Object(u.jsx)(Wm,{"data-testid":"get-help-container",onStartOrderClick:function(){v({type:d,value:{showDisposition:!0}})},contentData:m,history:e.history}),Object(x.Bb)(g)&&Object(u.jsx)(ba,{history:e.history,contentData:g,tenantReducerData:C.tenantReducerContent})||null,b.showCartClearAlert?Object(u.jsx)($d,{}):null]})},zm=n.p+"static/media/confirmedSignOut.66163951.svg",Qm=function(e){var t=e.history,n=e.pageFlag,a=Tj.TAKE_ME_HOME_TEXT,o=Tj.SIGN_UP_TEXT,r=Tj.SIGN_OUT_MESSAGE1,s=Tj.SIGN_OUT_MESSAGE2,d=Tj.SIGN_OUT_FAIL_MESSAGE1,l=Tj.SIGN_OUT_FAIL_MESSAGE2,b=Tj.DELETE_ACCOUNT_MESSAGE,v=Tj.SIGN_IN_TEXT,m=sessionStorage.getItem("forcedSignOut")||!1,f=Object(N.c)((function(e){var t=e.i18nReducer,n=(t=void 0===t?{}:t).response,a=(n=void 0===n?{}:n).items;a=void 0===a?[]:a;var i=Object(j.a)(a,1)[0],c=(i=void 0===i?{}:i).fields;return{i18Translations:(c=void 0===c?{}:c).data}})).i18Translations,p=Object(i.useState)(""),h=Object(j.a)(p,2),g=h[0],E=h[1];Object(i.useEffect)((function(){return function(){sessionStorage.removeItem("forcedSignOut")}}),[]),Object(i.useEffect)((function(){Object(O.isEmpty)(f)||E("DELETE"===n?Object(Se.e)(b):m?"".concat(Object(Se.e)(d),"\n").concat(Object(Se.e)(l)):"".concat(Object(Se.e)(r),"\n").concat(Object(Se.e)(s)))}),[g,f]);return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"account-remove-container",children:[Object(u.jsx)("div",{className:"account-remove-confirm-icon",children:Object(u.jsx)(Ca.a,{src:zm})}),Object(u.jsx)("div",{className:"main-text-account-remove",children:g}),Object(u.jsxs)("div",{className:"account-remove-buttons",children:[Object(u.jsx)(Ot.a,{"data-testid":"sign-upid",className:function(){var e="sign-up-account-remove";return m&&(e+=" sign-up-account-remove-login-fail"),e}(),onClick:function(e){Object(x.g)()},children:"DELETE"===n?Object(Se.e)(o):Object(Se.e)(v)}),!m&&Object(u.jsx)(Ot.a,{"data-testid":"take-me-homeid",className:"take-me-home-account-remove",onClick:function(){t.push({pathname:"/"})},children:Object(Se.e)(a)})]})]})})},Jm=n(110),Xm=function(e){var t,n,a,c,o,r,s=Object(N.c)((function(e){return e.tenantReducer})),d=Object(N.c)((function(e){return e.appStateReducer.userStatus})),l=s.tenantId,b=void 0===l?"":l,v=null,j=null,O=null,m=f.a.DISPOSITION,g=Object(N.b)();Object(i.useContext)(E.a).userOrderState;Object(i.useEffect)((function(){g(Object(h.a)({object:Object(I.a)(),contentFull:{include:5,content_type:"marketConfig","fields.location":null===s||void 0===s?void 0:s.country,"fields.channel":ya.b.channel}}))}),[g,null===s||void 0===s?void 0:s.country]),Object(i.useEffect)((function(){var t,n;"DELETE"===(null===(t=e.history)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.state)?(g(Object(Ra.a)()),g(Object(Jm.a)("in"))):d.loggedIn&&e.history.push("/"),g(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ya.b.channel,include:"5"},userParams:d}))}),[d,b,g]);var T=Object(N.c)((function(e){return{tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null,homePageContent:e.contentReducer.response||null}}));if(T.marketPageContent&&T.homePageContent&&T.tenantReducerContent){j=Object(x.V)(T.homePageContent);var S=T.marketPageContent.headerData||{},C=S.header,A=S.footer;v=Object(x.W)(C),O=Object(x.O)(A)}return Object(u.jsxs)(u.Fragment,{children:[Object(x.Bb)(v)&&Object(u.jsx)(Qa,{tenantReducerData:T.tenantReducerContent,userParams:d,contentData:v})||null,Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null!==(t=null===(n=j)||void 0===n?void 0:n[m])&&void 0!==t?t:{},contentDispositionData:null!==(a=null===(c=j)||void 0===c?void 0:c[m])&&void 0!==a?a:{}},userParams:d}),Object(u.jsx)(Qm,{pageFlag:null===(o=e.history)||void 0===o||null===(r=o.location)||void 0===r?void 0:r.state,history:e.history}),Object(x.Bb)(O)&&Object(u.jsx)(ba,{contentData:O,history:e.history})||null]})},Zm=n.p+"static/media/Arrow.0e41a9fb.svg",$m=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.registerEvent(we.a.accountViewFavItemList.name,{data:{event:"view_item_list",ecommerce:{item_list:{items:t}}}},x.E);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ef=function(e){var t,n=e.currentMenu,a=e.updateMenu,c=Object(N.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)||null})),o=(null!==(t=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,r=(o=void 0===o?{}:o).productMapById,s=void 0===r?{}:r,d=Object(i.useState)(Object(x.Hb)(window.innerWidth)),l=Object(j.a)(d,2),b=l[0],v=l[1],O=function(){Object(gd.d)(null===c||void 0===c?void 0:c.id),window.location.replace(Object(Lt.a)(Ht.D)),window.localStorage.clear()};Object(i.useEffect)((function(){window.addEventListener("resize",(function(){var e=Object(x.Hb)(window.innerWidth);v(e)}))}),[b]);var m=cs.d.ORDER_HISTORY_TAG,f=cs.d.MY_FAV_MENU,p=cs.d.ADDRESS,h=cs.d.ACCOUNT_SETTING,g=cs.d.SIGN_OUT,E=Object(N.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||[]}));Object(i.useEffect)((function(){if(n===f&&(null===E||void 0===E?void 0:E.length)){var e=[];E.forEach((function(t,n){var a,i=null!==(a=null===s||void 0===s?void 0:s[t.foodItemId])&&void 0!==a?a:{},c=i.categoryId,o=void 0===c?"NA":c,r=i.categoryName,d=void 0===r?"NA":r;e.push({item_name:Object(x.s)(t.name,"NA"),item_id:Object(x.s)(t.id,"NA"),price:Object(x.s)(t.price,"NA"),item_category:d,item_list_name:"Account - Favorite Menu",item_list_id:o,index:n+1,quantity:t.quantity||"NA"})})),$m(e)}}),[n]);return b?Object(u.jsxs)("div",{className:"account-mobile-container",children:[Object(u.jsx)("div",{className:"account-mobile-header",children:Object(u.jsxs)("div",{className:"account-header-container",children:[Object(u.jsx)("img",{src:ks,className:"account-icon"}),Object(u.jsx)("h4",{className:"account-header",children:Object(Se.e)("Good ".concat(Object(x.U)()," ").concat(c.firstName||c.phone,"!"))}),Object(u.jsx)(Ot.a,{className:"button transparent-btn white-border sign-out-btn","data-id":T.n.HEADER_SIGN_IN_ATTR_DATA_ID,"aria-label":"",onClickHandler:O,type:"submit",children:Object(u.jsx)("span",{children:Object(Se.e)(g)})})]})}),Object(u.jsxs)("div",{className:"account-mobile-menu-option",children:[Object(u.jsx)("section",{"data-testid":"order-history-mobile-testid",onClick:function(){return a(m)},class:"account-accordian",children:Object(u.jsx)("div",{class:"global-accordian-container",children:Object(u.jsxs)("div",{class:"global-accordian-header-container",children:[Object(u.jsx)("span",{class:"global-accordian-header",children:Object(Se.e)(m)}),Object(u.jsx)("img",{src:Zm,className:"account-icon"})]})})}),Object(u.jsx)("section",{"data-testid":"fav-menu-mobile-testid",onClick:function(){return a(f)},class:"account-accordian",children:Object(u.jsx)("div",{class:"global-accordian-container",children:Object(u.jsxs)("div",{class:"global-accordian-header-container",children:[Object(u.jsx)("span",{class:"global-accordian-header",children:Object(Se.e)(f)}),Object(u.jsx)("img",{src:Zm,className:"account-icon"})]})})}),Object(u.jsx)("section",{"data-testid":"saved-address-mobile-testid",onClick:function(){return a(p)},class:"account-accordian",children:Object(u.jsx)("div",{class:"global-accordian-container",children:Object(u.jsxs)("div",{class:"global-accordian-header-container",children:[Object(u.jsx)("span",{class:"global-accordian-header",children:Object(Se.e)(p)}),Object(u.jsx)("img",{src:Zm,className:"account-icon"})]})})}),Object(u.jsx)("section",{"data-testid":"account-settings-mobile-testid",onClick:function(){return a(h)},class:"account-accordian",children:Object(u.jsx)("div",{class:"global-accordian-container",children:Object(u.jsxs)("div",{class:"global-accordian-header-container",children:[Object(u.jsx)("span",{class:"global-accordian-header",children:Object(Se.e)(h)}),Object(u.jsx)("img",{src:Zm,className:"account-icon"})]})})})]})]}):Object(u.jsxs)("div",{className:"account-header-container",children:[Object(u.jsx)("img",{src:ks,className:"account-icon"}),Object(u.jsx)("h4",{className:"account-header",children:Object(Se.e)("".concat(Object(Se.e)("greetingGood")," ").concat(Object(x.U)()," ").concat(c.firstName||Object(Se.e)("kfcLover"),"!"))}),Object(u.jsxs)("div",{className:"account-menu-container",children:[Object(u.jsx)("div",{"data-testid":"order-history-testid",className:Object(x.lb)(n===m,"activeMenu account-menu","account-menu"),onClick:function(){return a(m)},children:Object(Se.e)(m)}),Object(u.jsx)("div",{className:Object(x.lb)(n===f,"activeMenu account-menu","account-menu"),onClick:function(){return a(f)},"data-testid":"fav-menu-link",children:Object(Se.e)(f)}),Object(u.jsx)("div",{"data-testid":"saved-address-testid",className:Object(x.lb)(n===p,"activeMenu account-menu","account-menu"),onClick:function(){return a(p)},children:Object(Se.e)(p)}),Object(u.jsx)("div",{"data-testid":"account-settings-testid",className:Object(x.lb)(n===h,"activeMenu account-menu","account-menu"),onClick:function(){return a(h)},children:Object(Se.e)(h)})]}),Object(u.jsx)(Ot.a,{"data-id":T.n.HEADER_SIGN_IN_ATTR_DATA_ID,className:"button transparent-btn white-border sign-out-btn","aria-label":"",type:"submit",children:Object(u.jsx)("span",{"data-testid":"signout-button-testid",onClick:O,children:Object(Se.e)(g)})})]})},tf=n.p+"static/media/Calender.87526494.svg",nf=n.p+"static/media/Reload.bccb975e.svg",af=function(e){var t,n=e.onClickHandler,a=e.isDarkMode,o=void 0!==a&&a,r=e.dataTestId,s=e.cardInfo,d=void 0===s?{}:s,l=e.title,b=e.occassionTime,v=e.onEditOccasionName,O=e.itemId,m=e.itemName,f=e.favouriteOrders,p=void 0===f?[]:f,h=e.tenantData,g=void 0===h?{}:h,N=cs.d.AT,E=cs.d.REFUND_INIT,I=cs.d.SCHEDULE,T=cs.d.REFUND_INIT_TEXT,S=cs.d.EDIT_ITEM_TEXT,C=cs.d.TODAY_AT,A=cs.d.CANCELLED,y=cs.d.DELIVERED,_=cs.d.PICK_UP,D=Object(x.sb)(d),R=D.id,w=void 0===R?"":R,k=D.fulfillmentDateTime,L=void 0===k?"":k,P=D.service,M=void 0===P?"":P,F=D.status,H=void 0===F?"":F,B=D.fulfillmentDateTime,U=void 0===B?"":B,G=g.pastOrderDateformat,Y=void 0===G?"":G,K=g.pastOrderTimeFormat,V=void 0===K?"":K;t=p.length>0&&p.find((function(e){return e.id===w}))||{};var W=Object.keys(t).length>0?t.name:"".concat("pickup"===M?_:M," ").concat(Object(Se.e)("order")),q=Object(ye.l)(L,Y),z=Object(ye.l)(U,Y),Q="".concat(Object(ye.l)(L,Y),"  ").concat(Object(Se.e)(N)),J=Object(ye.e)(new Date,Y),X="".concat(z," ").concat(Object(Se.e)(N)," "),Z=Object(ye.e)(Object(ye.q)(L),V),$=Object(ye.p)(U);z===J&&(X=Object(Se.e)(I)+" for "+Object(Se.e)(C));var ie=Object(i.useState)(!1),ce=Object(j.a)(ie,2),oe=ce[0],re=ce[1],se=function(e){re(!oe),n&&!oe&&n(e,w)},de=$&&(q===J||z===J);return Object(u.jsxs)("div",{className:"global-accordian-container ".concat(oe?"account-accordian-open":""),children:[Object(u.jsxs)("div",{className:"global-accordian-header-container",children:[Object(u.jsxs)("span",{className:"global-accordian-header",children:[H===E&&!l&&Object(u.jsxs)("div",{className:"order-accordian-heading-section",children:[Object(u.jsx)("img",{src:nf,className:"account-icon"}),Object(u.jsx)("span",{className:"order-status",children:Object(Se.e)(T)})]}),de&&function(e){return e!==A&&e!==y}(H)?Object(u.jsxs)("div",{className:"order-accordian-heading-section",children:[Object(u.jsx)("img",{src:tf,className:"account-icon"}),Object(u.jsx)("span",{className:"order-status",children:Object(Se.e)(I)})]}):null,l?Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("span",{className:"order-accordian-heading",children:l}),Object(u.jsx)("span",{className:"edit-occasion-link",onClick:function(){return v(O,m)},children:Object(Se.e)(S)})]}):Object(u.jsx)("span",{className:"order-accordian-heading",children:W})]}),Object(u.jsxs)("div",{className:"global-accordian-right",children:[b?Object(u.jsx)("span",{className:"order-time",children:b}):Object(u.jsx)("span",{className:"order-time",children:de?X+Z:Q+" "+Z}),o?Object(u.jsx)("img",{src:oe?ae:ne,onClick:se,className:"global-accordian-arrow","data-testid":"acordian-handle-dark"}):Object(u.jsx)("img",{src:oe?te:ee,onClick:se,className:"global-accordian-arrow","data-testid":r})]})]}),oe&&Object(u.jsx)("div",{className:"global-accordian-content",children:e.children})]})},cf=n(395),of=function(e){var t=Object(N.b)(),n=e.onCancel,a=e.cardInfo,c=e.tenantData.tenantId,o=Object(i.useState)([]),r=Object(j.a)(o,2),s=r[0],d=r[1],l=Object(i.useState)(!1),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(i.useState)(!1),f=Object(j.a)(m,2),p=f[0],h=f[1],g=Object(N.c)((function(e){return{customerInfo:e.profileReducer||{}}})).customerInfo||{},x=g.customerId,E=g.basic,I=(E=void 0===E?{}:E).phone,T=void 0===I?"":I,S=g.favouriteOrders,C=void 0===S?[]:S,A=cs.d.CANCEL,y=cs.d.SAVE,_=cs.d.OCCASSOIN_HEADING,D=cs.d.OREDER_PLACEHOLDER,R=cs.d.NAME_EXIST,w=cs.d.OCCASION_NAME_VALIDATION;Object(i.useEffect)((function(){var e=[];C.map((function(t){var n;return e.push(null===(n=t.name.toUpperCase())||void 0===n?void 0:n.trim())})),d(e)}),[]);var k=Object(i.useState)(""),L=Object(j.a)(k,2),P=L[0],M=L[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"InputHeading",children:Object(Se.e)(_)}),Object(u.jsxs)("div",{className:"inputLookUpNumbox",children:[Object(u.jsx)("input",{value:P,type:"tel","data-testid":"occasion-input",className:"occasion-input-box",placeholder:Object(Se.e)(D),maxlength:"11",required:!0,onChange:function(e){return function(e){M(e.target.value),h(!1),O(!1)}(e)}}),v&&Object(u.jsx)("span",{className:"error-text",children:Object(Se.e)(R)}),p&&Object(u.jsx)("span",{className:"error-text",children:Object(Se.e)(w)})]}),Object(u.jsxs)("div",{className:"buttonItems",children:[Object(u.jsx)(Ot.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:function(e){return n()},children:Object(Se.e)(A)}),Object(u.jsx)(Ot.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClickHandler:function(){var e=null===P||void 0===P?void 0:P.trim(),i=s.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),o=cf.a.test(P),r=e.replace(/ /g,"").length;if(!o||0===r||r<=2)h(!0);else if(o&&i>=0)O(!0),h(!1);else{var d=a.id;t(Object(Vj.a)({customerId:x,tenantId:c,phoneNumber:T},{orderId:d,name:P})),n()}},children:Object(Se.e)(y)})]})]})},rf=function(e){var t,n=e.isMobile,c=e.cardInfo,r=e.tenantData,s=e.customerId,d=e.orderItemArray,l=e.isGetOrdersLoading,b=d.find((function(e){return e.id===c.id})),v=Object(i.useState)(!1),m=Object(j.a)(v,2),f=m[0],p=m[1],h=Object(i.useState)(!1),g=Object(j.a)(h,2),E=g[0],I=g[1],S=cs.d.REORDER_TEXT,C=cs.d.ADD_TO_OCCASION,A=cs.d.VIEW_RECEIPT,y=cs.d.ACCOUNT_ORDERS,_=cs.d.TRACK_ORDER,D=Object(N.c)((function(e){return e.cartReducer})),R=Object(N.c)((function(e){return e.tenantReducer})),w=(null!==(t=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,k=((w=void 0===w?{}:w).itemMapById,Object(i.useState)(!1)),L=Object(j.a)(k,2),P=L[0],M=L[1],F=Object(i.useState)(!1),H=Object(j.a)(F,2),B=H[0],U=H[1],G=Object(i.useState)({}),Y=Object(j.a)(G,2),K=Y[0],V=Y[1],W=D.cartData,q=void 0===W?{}:W,z=R.tenantId,Q=R.currencyConversionFactor,J=Object(N.b)(),X=Object(o.f)(),Z={id:"ReceiptModal",role:"dialog",modalTitleId:"ReceiptModal",show:f,classNames:"Base-modal Receipt-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:function(){return p(!1)},modalTitle:"ORDER RECEIPT",closeDataTestId:"close-recipet-modal",autoFocus:!0},$=Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},Z),{},{children:Object(u.jsx)("div",{className:"ReceiptModal",children:Object(i.createElement)(eb,Object(a.a)(Object(a.a)({},e),{},{key:"receipt-".concat(c.id),orderItem:b}))})})),ee={id:"OccassionModal",role:"dialog",modalTitleId:"OccassionModal",show:E,classNames:"Base-modal ".concat(Object(x.lb)(n,"Mobile-occassion-modal","Occassion-modal")),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:function(){return I(!1)},modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},te=Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},ee),{},{children:Object(u.jsx)("div",{className:"OccassionModal",children:Object(u.jsx)(of,{onCancel:function(){return I(!1)},cardInfo:c,tenantData:r,customerId:s})})})),ne=Object(x.sb)(q).foodLines,ae=void 0===ne?[]:ne,ie=function(){ae.length>0?M(!0):(J(Object(St.o)()),U(!0))},ce=function(e){var t=Object(O.first)(Object(O.get)(e,"response",{}),{}),n=Object(x.sb)(b).id;V(t),J(Object(tn.a)({tenantId:z,orderId:n,customerId:s},ie))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(u.jsxs)("span",{className:"global-accordian-header mobile-accordian-header",children:[Object(u.jsx)("span",{className:b?"order-receipt-option":"order-receipt-Disable-option","data-testid":"view-receipt",onClick:function(){return p(!0)},children:Object(Se.e)(A)}),Object(u.jsx)("span",{className:"order-ocasion-option","data-testid":"view-occasion-modal",onClick:function(){return I(!0)},children:Object(Se.e)(C)})]}),Object(u.jsxs)("div",{className:Object(_O.g)(b)||Object(_O.i)(b)?"global-accordian-right":"btn-algn global-accordian-right",children:[Object(_O.n)(b)&&new Date(1e3*(null===b||void 0===b?void 0:b.fulfillmentDateTime)).getTime()>=(new Date).getTime()&&Object(u.jsxs)(Ot.a,{className:"button re-order-btn redButton","aria-label":"",type:"submit",onClickHandler:function(){!function(){var e=Object(x.sb)(b);localStorage.setItem(T.R.ORDER_TRACKING,JSON.stringify(Object(_O.w)(z,e))),vl((null===e||void 0===e?void 0:e.total)/Q),Object(x.bc)({history:X})}()},"data-testid":"track-order-btn",children:[Object(u.jsx)("img",{alt:"account-icon",src:cl,className:"account-icon"}),Object(u.jsx)("span",{children:Object(Se.e)(_)})]}),Object(u.jsxs)(Ot.a,{className:"button re-order-btn redButton","aria-label":"",type:"submit",onClickHandler:function(){!function(){if(!l){var e=Object(x.sb)(b),t=e.store,n=void 0===t?{}:t,a=e.service,i=void 0===a?"":a,c=Object(x.sb)(n).storeId,o=[{storeId:void 0===c?"":c,channel:ya.b.channel,service:i}];J(Object(hl.a)(o,z,ce)),sessionStorage.setItem("reorderClick",!0)}}(),localStorage.setItem(T.m,y)},"data-testid":"re-order-btn",children:[Object(u.jsx)("img",{alt:"account-icon",src:cl,className:"account-icon"}),Object(u.jsx)("span",{children:Object(Se.e)(S)})]})]})]}),f&&b&&$,E&&te,Object(x.qb)(P,B)&&Object(u.jsx)(Ju,{storeInfo:K,currentOrderInfo:c,reorderModalOpen:P,setReorderModalOpen:M,isQuickReorderModalOpen:B,setQuickReorderModalOpen:U})]})},sf=n.p+"static/media/Favourite.00df2772.svg",df=function(e){var t=e.cardInfo,n=e.tenantData,a=e.orderItemArray,i=e.favouriteItems,c=e.customerId,o=n.tenantId,r=n.currencySymbol,s=n.currencyConversionFactor,d=n.addHope,l=n.carryBag,b=t.id,v=a.find((function(e){return e.id===b}))||{},j=v.foodLines,m=void 0===j?[]:j,f=(v.total,Object(x.N)(m,d,l)),p=Object(N.b)();return Object(u.jsx)(u.Fragment,{children:f.map((function(e){var t,a,d=e.item,l=d.mdmId,b=d.unitPrice,v=Object(O.find)(i,{mdmId:l});return Object(u.jsxs)("div",{className:"global-accordian-header-container order-section",children:[Object(u.jsx)("span",{className:"global-accordian-header mobile-order-details-section",children:Object(u.jsx)(S.a,{className:"order-item-img",defaultPath:Object(x.S)(null,n,!0),srcFile:Object(x.S)(d.imageName,n)})}),Object(u.jsxs)("span",{className:"product-details-section",children:[Object(u.jsxs)("span",{className:"product-title",children:[d.quantity,"x ",d.name]}),Object(u.jsx)("span",{className:"product-desc",children:(a=d,pl()(a,"modGrps",[]).map((function(e){return e.modifiers})).flat().map((function(e){return"".concat(e.quantity,"x ").concat(e.name)})).join())}),Object(u.jsxs)("span",{className:"product-price",children:[r,(t=b,(t/s).toFixed(2))]})]}),Object(u.jsx)("div",{className:"global-accordian-right","data-testid":"favourite-btn",onClick:function(){return function(e,t,n){var a=e.mdmId,i=e.id,r=e.name,d=e.imageName,l=e.longDescription,u=e.quantity,b=e.customizable,v=(e.unitPrice,e.customProperties);p(t?Object(ui.b)({customerId:c,tenantId:o,itemId:i}):Object(ui.a)({customerId:c,tenantId:o},{mdmId:a,id:i,name:r,imageName:d,description:l,quantity:u,isCustomized:b,price:(null===n||void 0===n?void 0:n.unitPrice)/s,additionalProperties:v}))}(d,v,e)},children:Object(u.jsx)("img",{src:v?_s:sf,className:"account-icon"})})]})}))})},lf=function(e){var t=e.renderSwitch,n=e.updateMenu,a=Object(o.f)(),c=cs.d.NO_ORDER_MSG,r=cs.d.REFUND_MSG,s=cs.d.HAVE_A_QUESTION,d=cs.d.CONNECT_WITH_SPECIALIST,l=cs.d.YOUR_PAST_ORDER,b=cs.d.LOOKING_FOR_OFFER,v=cs.d.ORDER_HISTORY_TAG,O=cs.d.REFUND_INIT,f=cs.d.GET_HELP,p=cs.d.LOAD_MORE,h=cs.d.VIEWED,g=cs.d.OF,E=cs.d.ORDER_LOOKUP,I=cs.d.VIEW_MENU,T=Object(N.c)((function(e){return{tenantData:e.tenantReducer||{},orderHistoryInfo:e.orderHistoryReducer||{},orderInfo:e.orderReducer||{},customerInfo:e.profileReducer||{}}})),S=T.tenantData,C=T.orderHistoryInfo,A=T.orderInfo,y=T.customerInfo,_=Object(i.useState)(Object(x.Hb)(window.innerWidth)),D=Object(j.a)(_,2),R=D[0],w=D[1];Object(i.useEffect)((function(){return function(){localStorage.setItem("LoadMoreOrderHistory",!1)}}),[]),Object(i.useEffect)((function(){window.addEventListener("resize",(function(){var e=Object(x.Hb)(window.innerWidth);w(e)}))}),[R]);var k=Object(N.b)(),L=S.tenantId,P=C.orderHistory,M=y.favouriteItems,F=y.customerId,H=y.favouriteOrders,B=void 0===H?[]:H,U=A.response,G=A.isGetOrdersLoading,Y=Object(i.useState)([]),K=Object(j.a)(Y,2),V=K[0],W=K[1],q=Object(i.useState)([]),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(i.useState)(!1),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1];console.log("orders",V);var te=function(){var e=function(e){for(var t,n=["01","02","03","04","05","06","07","08","09","10","11","12"],a=[],i=new Date,c=i.getMonth()+1,o=e;o>0;o-=1){t=n[new Date(i.getFullYear(),c-o,1).getMonth()];var r=i.getFullYear();t>c&&(r-=1),a.push({yearMonth:"".concat(r,"-").concat(t)})}return a}(12);k(Object(Vj.d)({customerId:F,tenantId:L},e))};Object(i.useEffect)((function(){L&&!m.a.isEmpty(wr.e)&&te()}),[L,F,wr.e]),Object(i.useEffect)((function(){var e=Q.find((function(e){return e.id===U.id}))||{};Object(x.Bb)(e)||J([].concat(Object(so.a)(Q),[U]))}),[U]),Object(i.useEffect)((function(){ne(10)}),[P]);var ne=function(e){if(P&&m.a.isArray(P)){var t=null===P||void 0===P?void 0:P.sort((function(e,t){return t.orderDateTimeInEpoch-e.orderDateTimeInEpoch}));W(Object(so.a)(t).splice(0,e))}else W([])},ae=function(e,t){var n=Q.find((function(e){return e.id===t}))||{};Object(x.Bb)(n)||k(Object(mt.c)({orderId:t,tenantId:L}));var a=e.target.parentElement.parentElement.parentElement;a.classList.contains("account-accordian-open")?a.classList.remove("account-accordian-open"):a.classList.add("account-accordian-open")},ie=function(){a.push("/help")},ce=Object(u.jsxs)("div",{className:"global-accordian-header-container mobile-refund-section",children:[Object(u.jsx)("span",{className:"global-accordian-header",children:Object(u.jsx)("span",{className:"order-refund-msg",children:Object(Se.e)(r)})}),Object(u.jsx)("div",{className:"global-accordian-right",children:Object(u.jsx)(Ot.a,{className:"button transparent-btn","aria-label":"","data-testid":"get-Help-Btn",type:"submit",onClickHandler:ie,children:Object(u.jsx)("span",{children:Object(Se.e)(f)})})})]}),oe=Object(u.jsxs)("div",{className:"pageFooter",children:[V.length>0&&P.length>V.length&&P.length>10&&Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"load-more",children:Object(u.jsx)(Ot.a,{className:"button transparent-btn footer-btn","data-testid":"load-more-btn","aria-label":"",onClickHandler:function(){return ne(P.length)},children:Object(u.jsx)("span",{children:Object(Se.e)(p)})})}),Object(u.jsx)("div",{className:"view-order-count",children:Object(u.jsx)("span",{children:"".concat(Object(Se.e)(h)," ").concat(V.length," ").concat(Object(Se.e)(g)," ").concat(P.length)})})]}),Object(u.jsx)("hr",{className:"horizontal-bar"}),Object(u.jsxs)("div",{className:"get-help-section",children:[Object(u.jsxs)("div",{className:"footer-bootm-left",children:[Object(u.jsx)("span",{className:"have-a-question",children:Object(Se.e)(s)}),Object(u.jsx)("span",{className:"connect-specialist",children:Object(Se.e)(d)})]}),Object(u.jsx)("div",{children:Object(u.jsx)(Ot.a,{className:"button transparent-btn footer-btn","aria-label":"",onClickHandler:ie,children:Object(u.jsx)("span",{children:Object(Se.e)(f)})})})]})]});return Object(u.jsxs)(u.Fragment,{children:[R&&Object(u.jsxs)("div",{className:"order-history-header",children:[Object(u.jsx)("img",{src:Zm,className:"back-icon","data-testid":"order-history-back-btn",data:!0,onClick:function(){t(),n("")}}),Object(u.jsx)("span",{className:"page-heading",children:Object(Se.e)(v)})]}),Object(u.jsxs)("div",{className:"account-order-desktop",children:[Object(u.jsxs)("div",{className:"page-header",children:[Object(u.jsx)("span",{className:"page-heading",children:Object(Se.e)(v)}),Object(u.jsxs)("div",{className:"headingItemsRight",children:[Object(u.jsx)("span",{className:"heading-item-text",children:Object(Se.e)(b)}),Object(u.jsx)(Ot.a,{className:"button transparent-btn order-lookup","data-testid":"order-lookup-order-history",type:"submit",onClickHandler:function(){k(Object(mt.a)({})),ee(!0)},children:Object(u.jsx)("span",{children:Object(Se.e)(E)})})]})]}),V.length>0&&Object(u.jsxs)("div",{className:"sub-section",children:[Object(u.jsxs)("span",{className:"sub-heading-text",children:[Object(Se.e)(l)," (",P.length,")"]}),Object(u.jsx)("section",{children:V.map((function(e,t){return Object(u.jsx)("section",{className:"account-accordian",children:Object(u.jsxs)(af,{onClickHandler:ae,cardInfo:e,dataTestId:"order-details-".concat(t),favouriteOrders:B,tenantData:S,children:[e.status===O&&ce,Object(u.jsxs)("section",{className:"account-accordian-details-section",children:[Object(u.jsx)("div",{className:"option-section",children:Object(u.jsx)(df,{cardInfo:e,tenantData:S,orderItemArray:Q,favouriteItems:M,customerId:F},t)}),Object(u.jsx)(rf,{isMobile:R,orderItemArray:Q,cardInfo:e,tenantData:S,customerId:F,isGetOrdersLoading:G},"Reorder-".concat(t))]})]})})}))})]}),0===V.length&&Object(u.jsx)("div",{className:"sub-section sub-section-no-order",children:Object(u.jsxs)("div",{className:"no-order",children:[Object(u.jsx)("span",{className:"no-order-msg",children:Object(Se.e)(c)}),Object(u.jsx)("div",{children:Object(u.jsx)(Ot.a,{className:"button transparent-btn view-menu-btn","aria-label":"","data-testid":"goto-menu-page-btn",onClickHandler:function(){a.push("/menu")},children:Object(u.jsx)("span",{children:Object(Se.e)(I)})})})]})}),oe,$&&Object(u.jsx)(ua,{isOpen:!0,handleClose:function(){return ee(!1)},tenantReducerData:S})]})]})},uf=n(69),bf=function(e){var t,n,c=e.communicationPreferences,o=e.basicData,r=e.tenantId,s=cs.b.COMMUNICATION_PREFERENCES_TEXT,d=cs.b.SAVE,l=Object(N.c)((function(e){return e.marketConfigReducer.response||null})),b=Object(i.useState)([]),v=Object(j.a)(b,2),O=v[0],m=v[1],f=Object(N.b)();Object(i.useEffect)((function(){var e,t,n,i=[];null===l||void 0===l||null===(e=l.headerData)||void 0===e||null===(t=e.communicationPreferences)||void 0===t||t.map((function(e){var t,n,a;i.push({mainText:null===(t=e.fields)||void 0===t?void 0:t.value,subText:null===(n=e.fields)||void 0===n?void 0:n.subValue,checked:!!(null===c||void 0===c?void 0:c.find((function(t){var n;return t===(null===(n=e.fields)||void 0===n?void 0:n.code)}))),code:null===e||void 0===e||null===(a=e.fields)||void 0===a?void 0:a.code})})),(null===o||void 0===o||null===(n=o.marketingPreferences)||void 0===n?void 0:n.length)>0?m(i.map((function(e){return o.marketingPreferences.find((function(t){return t===e.code}))?Object(a.a)(Object(a.a)({},e),{},{checked:!0}):e}))):m(i)}),[null===l||void 0===l||null===(t=l.headerData)||void 0===t||null===(n=t.communicationPreferences)||void 0===n?void 0:n.length]);var p=function(e){var t=O.map((function(t){return t.code===e.target.value?Object(a.a)(Object(a.a)({},t),{},{checked:!t.checked}):t}));m(t)};return Object(u.jsxs)("div",{className:"preferences-card",children:[Object(u.jsx)("div",{className:"preferences-card-left-side",children:Object(Se.e)(s)}),Object(u.jsxs)("div",{className:"preferences-card-right-side",children:[Object(u.jsx)("p",{children:"Colonels Club"}),Object(u.jsx)("p",{children:"(member since 2016)"}),Object(u.jsx)("div",{className:"horizontal-line-club"}),Object(u.jsx)("div",{className:"preferences-container",children:Object(u.jsx)("ul",{className:"preferences-item",children:null===O||void 0===O?void 0:O.map((function(e){return Object(u.jsxs)("li",{className:"preferences-item-list",children:[Object(u.jsx)("input",{id:e.code,type:"checkbox",value:e.code,checked:e.checked,"data-testid":"communication-preferences-".concat(e.mainText,"-test"),onChange:p}),Object(u.jsxs)("div",{className:"preferences-text",children:[Object(u.jsx)("label",{htmlFor:e.mainText,children:e.mainText}),""!==e.subText&&Object(u.jsx)("span",{className:"preference-subText",children:e.subText})]})]},e.code)}))})}),Object(u.jsx)(Ot.a,{className:"save-account-button","data-testid":"save-communication-preferences",onClickHandler:function(){var e=[];O.forEach((function(t){if(t.checked)return e.push(t.code)})),Object(gd.e)(e),f(Object(uf.e)({tenantId:r,customerId:null===o||void 0===o?void 0:o.id,phoneNumber:null===o||void 0===o?void 0:o.phone,body:{marketingPreferences:e}}))},children:Object(Se.e)(d)})]})]})},vf=function(e){var t,n,o,r,s,d=e.handleClose,l=e.customerData,b=e.updateCustomerData,v=e.isLoading,O=cs.a.EDIT_PERSONAL_INFO,m=cs.a.emailHelpText,f=cs.a.phoneHelpText,p=cs.a.firstNameHelpText,h=cs.a.lastNameHelpText,g=cs.a.SAVE,N=cs.a.CANCEL,x=cs.a.FIRST_NAME_TEXT,E=cs.a.LAST_NAME_TEXT,I=cs.a.EMAIL_TEXT,T=cs.a.PHONE_NUMBER_TEXT,S=Object(i.useState)({firstName:null===l||void 0===l?void 0:l.firstName,lastName:null===l||void 0===l?void 0:l.lastName,emailId:null===l||void 0===l?void 0:l.email,phoneNumber:null===l||void 0===l?void 0:l.phone}),C=Object(j.a)(S,2),A=C[0],y=C[1],_=function(e){"phoneNumber"===e.target.name&&e.target.value.length>10||y(Object(a.a)(Object(a.a)({},A),{},Object(Re.a)({},e.target.name,e.target.value)))};return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{classNames:"personal-information-modal",id:"alertPop",role:"dialog",show:!0,closeDataTestId:"handler-close",autoFocus:!0,showCloseBtn:!0,closeButtonHandler:d,modalTitleRequired:!0,modalTitle:Object(Se.e)(O),children:Object(u.jsxs)("div",{className:"personal-information-card",children:[Object(u.jsx)("p",{className:"personal-information-text",children:"PERSONAL INFORMATION"}),Object(u.jsx)(It,{name:"firstName",placeholder:Object(Se.e)(x),value:null===A||void 0===A?void 0:A.firstName,inputClassName:"edit-info-input-class",onChange:_,error:(null===A||void 0===A||null===(t=A.firstName)||void 0===t?void 0:t.length)>0&&!Am(null===A||void 0===A?void 0:A.firstName),helperText:Object(Se.e)(p),helperTextClassName:"error-text",maxlength:"20"}),Object(u.jsx)(It,{name:"lastName",placeholder:Object(Se.e)(E),value:null===A||void 0===A?void 0:A.lastName,inputClassName:"edit-info-input-class",onChange:_,error:(null===A||void 0===A||null===(n=A.lastName)||void 0===n?void 0:n.length)>0&&!Am(null===A||void 0===A?void 0:A.lastName),helperText:Object(Se.e)(h),helperTextClassName:"error-text",maxlength:"20"}),Object(u.jsx)(It,{name:"emailId",type:"email",placeholder:Object(Se.e)(I),value:null===A||void 0===A?void 0:A.emailId,inputClassName:"edit-info-input-class",onChange:_,error:(null===A||void 0===A||null===(o=A.emailId)||void 0===o?void 0:o.length)>0&&!ym(A.emailId),helperText:Object(Se.e)(m),helperTextClassName:"error-text",maxlength:"320"}),Object(u.jsx)(It,{readOnly:(null===l||void 0===l||null===(r=l.phone)||void 0===r?void 0:r.length)>0,name:"phoneNumber","data-testid":"phone-number-testid",placeholder:Object(Se.e)(T),value:null===A||void 0===A?void 0:A.phoneNumber,inputClassName:"edit-info-input-class",onChange:_,error:(null===A||void 0===A||null===(s=A.phoneNumber)||void 0===s?void 0:s.length)>0&&!_m(null===A||void 0===A?void 0:A.phoneNumber),helperText:Object(Se.e)(f),helperTextClassName:"error-text"}),Object(u.jsxs)("div",{className:"buttons-container",children:[Object(u.jsx)(Ot.a,{className:"buttons-group cancel",onClickHandler:d,children:Object(Se.e)(N)}),Object(u.jsx)(Ot.a,{className:"buttons-group save",disabled:v||!Rm({firstNameText:A.firstName,lastNameText:A.lastName,phoneNoText:A.phoneNumber,emailText:A.emailId}),"data-testid":"update-account-button-testid",onClickHandler:function(){return b(A)},children:Object(Se.e)(g)})]})]})})})},jf=function(e){var t=e.basicData,n=e.isLoading,a=cs.a.PERSONAL_INFO_TEXT,c=cs.a.EDIT,o=Object(i.useState)(!1),r=Object(j.a)(o,2),s=r[0],d=r[1],l=Object(N.c)((function(e){return e.tenantReducer})),b=Object(N.c)((function(e){return e.authReducer})),v=Object(N.c)((function(e){return e.profileReducer.customerId})),O=Object(N.b)();return Object(u.jsxs)("div",{className:"personal-info-card",children:[Object(u.jsx)("div",{className:"personal-card-left-side",children:Object(Se.e)(a)}),Object(u.jsxs)("div",{className:"personal-card-right-side",children:[Object(u.jsx)("div",{className:"edit-input",children:Object(u.jsx)(M,{"data-testid":"edit-account-button-testid",onClickHandler:function(){d(!0)},children:Object(Se.e)(c)})}),Object(u.jsxs)("p",{children:[null===t||void 0===t?void 0:t.firstName," ",null===t||void 0===t?void 0:t.lastName]}),Object(u.jsx)("p",{children:t.email}),Object(u.jsx)("p",{children:Object(x.o)(null===t||void 0===t?void 0:t.phone)})]}),s&&Object(u.jsx)(vf,{handleClose:function(){d(!1)},isLoading:n,customerData:t,updateCustomerData:function(e){Object(gd.c)(e),O(Object(uf.f)({tenantId:null===l||void 0===l?void 0:l.tenantId,customerId:v,token:"Bearer ".concat(null===b||void 0===b?void 0:b.token),body:e})),d(!1)}})]})},Of=n.p+"static/media/SingleArrowback.99fd8fc5.svg",mf=function(e){var t=e.handleClose,n=e.deleteAccountCallback,a=cs.a.DELETE_ACCOUNT_TEXT,i=cs.a.DELETE_ACCOUNT_MESSAGE,o=cs.a.CANCEL,r=cs.a.CONFIRM;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)(jt,{classNames:"confirm-delete-account-modal",id:"alertPop",role:"dialog",show:!0,closeDataTestId:"handler-close",autoFocus:!0,showCloseBtn:!0,closeButtonHandler:t,modalTitleRequired:!1,children:Object(u.jsxs)("div",{className:"confirm-delete-account-content",children:[Object(u.jsx)("p",{className:"main-heading",children:Object(Se.e)(a)}),Object(u.jsx)("p",{className:"delete-account-text",children:Object(Se.e)(i)}),Object(u.jsxs)("div",{className:"buttons-container",children:[Object(u.jsx)(Ot.a,{className:"buttons-group cancel",onClickHandler:t,children:Object(Se.e)(o)}),Object(u.jsx)(Ot.a,{className:"buttons-group save",onClickHandler:n,"data-testid":"delete-account-confirm",children:Object(Se.e)(r)})]})]})})})},ff=function(e){var t=e.updateMenu,n=cs.a.ACCOUNT_SETTINGS_TEXT,a=cs.a.DELETE_ACCOUNT_TEXT,c=Object(N.b)(),r=Object(o.f)(),s=Object(i.useState)(!1),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(N.c)((function(e){return e.profileReducer||null})),O=Object(N.c)((function(e){return e.tenantReducer}));return Object(u.jsxs)("div",{className:"account-settings-container",children:[Object(u.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(u.jsx)("img",{className:"backArrow-account-setting",onClick:function(){return t("")},src:Of}),Object(u.jsx)("span",{className:"account-setting-text-header",children:Object(Se.e)(n)})]}),Object(u.jsx)("p",{className:"account-setting-text-heading",children:Object(Se.e)(n)}),Object(u.jsx)(jf,{basicData:null===v||void 0===v?void 0:v.basic,isLoading:null===v||void 0===v?void 0:v.isLoading}),Object(u.jsx)(bf,{tenantId:null===O||void 0===O?void 0:O.tenantId,communicationPreferences:null===v||void 0===v?void 0:v.marketingPreferences,basicData:null===v||void 0===v?void 0:v.basic}),Object(u.jsx)(Ot.a,{"data-testid":"delete-button-testid",className:"delete-account-button",onClickHandler:function(){b(!0),it({popupTitle:Object(Se.e)(a)})},children:Object(Se.e)(a)}),l&&Object(u.jsx)(mf,{handleClose:function(){b(!1)},deleteAccountCallback:function(){Object(gd.b)(null===v||void 0===v?void 0:v.customerId),c(Object(uf.c)({tenantId:null===O||void 0===O?void 0:O.tenantId,customerId:null===v||void 0===v?void 0:v.customerId,sucessCallback:function(){localStorage.clear(),r.replace({pathname:"/signout",state:"DELETE"})}})),b(!1)}})]})},pf=n(49),hf=function(e){var t,n=e.occassionOrder,o=e.checkProductAvailabity,r=e.additemToUnfavourite,s=e.addItemToFavourite,d=e.availableProductPrice,l=e.getPrice,b=Object(N.c)((function(e){return e.tenantReducer||null})),v=b.tenantId,O=b.currencySymbol,m=b.addHope,f=b.carryBag,p=Object(N.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||null})),h=Object(N.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.basic.id)||null})),g=(null!==(t=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,E=(g=void 0===g?{}:g).itemMapById,I=void 0===E?{}:E,T=Object(i.useState)([]),C=Object(j.a)(T,2),A=C[0],y=C[1],_=n.items;return Object(i.useEffect)((function(){var e=_.filter((function(e){return(null===e||void 0===e?void 0:e.name)!==m&&(null===e||void 0===e?void 0:e.name)!==f}));y(e)}),[n]),Object(u.jsx)(c.a.Fragment,{children:A.map((function(e,t){var n,i,c,j,m,f=e.customProperties||[],g=o(e.id),N=null===I||void 0===I?void 0:I[e.id],E=l(d(e.id)),T=l(e.priceWithTax)-E;f.reduce((function(e,t){var n=t.key,i=t.value;return Object(a.a)(Object(a.a)({},e),{},Object(Re.a)({},n,"True"===i||"False"!==i&&i))}),{});return Object(u.jsx)("section",{className:g?"account-accordian-details-section":"account-accordian-details-section product-unavailable",children:Object(u.jsxs)("div",{className:"option-section option-section-fav-menu",children:[Object(u.jsx)(S.a,{className:"favourite-order-img",srcFile:Object(x.S)(e.imageName,b),alt:"No-Image",defaultPath:Object(x.S)(null,b,!0)}),Object(u.jsxs)("div",{className:"favourite-order-details",children:[Object(u.jsx)("span",{className:"order-item-name",children:e.name}),Object(u.jsx)("div",{className:"fav-order-details",children:e.modGroups&&e.modGroups.map((function(e,t){return Object(u.jsx)("span",{children:e&&e.modifiersDetails.map((function(e,t){return Object(u.jsxs)("span",{children:[" ",e.quantity,"x ",e.name]})}))})}))}),g&&Object(u.jsx)("div",{className:"occasion-item-price",children:0!==T?Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{className:"prev-price",children:[O,null===(n=l(e.price))||void 0===n?void 0:n.toFixed(2)]}),"  ",Object(u.jsxs)("span",{className:"new-current-price",children:[O,null===(i=l(null===(c=N[0])||void 0===c?void 0:c.availability[0].price))||void 0===i?void 0:i.toFixed(2)]})]}):Object(u.jsxs)("span",{className:"current-price",children:[O,null===(j=l(null===(m=N[0])||void 0===m?void 0:m.availability[0].price))||void 0===j?void 0:j.toFixed(2)]})}),!g&&Object(u.jsxs)("div",{className:"occasion-item-price-unavailable",children:[Object(u.jsx)("img",{src:$t,alt:"Item Unavailable"})," ","Unavailable"]})]}),Object(u.jsx)("div",{className:"occasion-fav-item",children:Object(u.jsx)("img",{src:Array.isArray(p)&&p.find((function(t){return(null===t||void 0===t?void 0:t.id)==(null===e||void 0===e?void 0:e.id)}))?ts:ns,alt:"",className:"pdp-product-save","data-testid":"save-product-handler-".concat(t),onClick:function(){return Array.isArray(p)&&p.find((function(t){return(null===t||void 0===t?void 0:t.id)==(null===e||void 0===e?void 0:e.id)}))?r(v,h,e.id):s(v,e,null===e||void 0===e?void 0:e.availability,h)}})})]})})}))})},gf=function(e){var t=e.isOpen,n=e.handleClose,a=e.occasionName,o=e.onSaveOccassion,r=e.onChangeOccasionName,s=e.occasionNameResponse,d=e.handleClearEditInput,l=Object(i.useState)(!1),b=Object(j.a)(l,2),v=b[0],O=b[1],m=cs.d.CANCEL,f=cs.d.SAVE,p=cs.d.EDIT_OCCASSION_DIALOG_TITLE,h=cs.d.OCCASSION_LABEL,g=cs.d.SAME_OCCASSIONNAME_ERROR,N=cs.d.EMPTY_OCCASSION_FIELD_ERROR;return Object(u.jsx)(c.a.Fragment,{children:t&&Object(u.jsxs)(jt,{show:t,showCloseBtn:!0,closeButtonHandler:function(){n(),O(!1)},classNames:"edit-occasion-modal",autoFocus:!0,children:[Object(u.jsx)("h1",{children:Object(Se.e)(p)}),Object(u.jsxs)("div",{className:"edit-occassion-input-container",children:[Object(u.jsx)("label",{for:"occasion-name",children:Object(Se.e)(h)}),Object(u.jsx)("input",{type:"text",id:"occasion-name","data-testid":"occasion-input",name:"occasion-name",value:a,onChange:function(e){r(e),O(!0)}}),Object(u.jsx)("img",{src:kb,alt:"Clear Icon",className:"edit-input-clear-icon",onClick:d})]}),v&&a===s&&Object(u.jsx)("div",{className:"errorMessageEditOccasion",children:Object(Se.e)(g)}),0===a.length&&Object(u.jsx)("div",{className:"errorMessageEditOccasion",children:Object(Se.e)(N)}),Object(u.jsxs)("div",{className:"buttonItems",children:[Object(u.jsx)(Ot.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:n,children:Object(Se.e)(m)}),Object(u.jsx)(Ot.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",disabled:a===s||0===a.length,onClick:o,children:Object(Se.e)(f)})]})]})})};gf.defaultProps={isOpen:!1};var Nf=gf,xf=n.p+"static/media/heart_favIcon_active_white.707ea51a.svg",Ef=function(e,t){return e?"cardwithQuantity "+t:"cardwithNoquantity"},If=function(e){var t,n,a,o,r=e.isProductAvailable,s=e.catalogueData,d=e.maxItemCountPerLineItem,l=e.product,b=e.customerId,v=e.differencePrice,O=e.currencySymbol,m=e.additionalProperties,f=e.addItemToUnFavouriteFunction,p=e.addToCartFunction,h=e.userParams,g=e.getPrice,I=e.storeClosedData,C=bi.a.RESET_MODGROUP_IDS_UPDATE,A=Ae.a.MINI_PDP_DATA,y=Ae.a.FROMFLAGEDIT,_=Ae.a.EDIT_CLICKED,D=Object(i.useState)(Object(x.Hb)(window.innerWidth)),R=Object(j.a)(D,2),w=R[0],k=R[1],L=cs.d.ITEM_UNAVAILABLE,P=cr.ITEM_QUANTITY,M=Dn.a.QUANTITY_ACTION,F=Object(N.c)((function(e){return e.cartReducer})),H=Object(x.sb)(F).cartData,B=void 0===H?{}:H,U=Object(i.useState)(0),G=Object(j.a)(U,2),Y=G[0],K=G[1],V=Object(i.useState)(null),W=Object(j.a)(V,2),q=W[0],z=W[1],Q=Object(i.useState)(0),J=Object(j.a)(Q,2),X=J[0],Z=J[1],$=Object(i.useState)(0),ee=Object(j.a)($,2),te=ee[0],ne=ee[1],ae=Object(i.useState)(!1),ie=Object(j.a)(ae,2),ce=ie[0],oe=ie[1],re=Object(i.useState)([]),se=Object(j.a)(re,2),de=se[0],le=se[1],ue=Object(i.useState)(""),be=Object(j.a)(ue,2),ve=be[0],je=be[1],Oe=Object(x.K)(Object(N.c)((function(e){return e.menuReducer}))).flatResponse,me=(Oe=void 0===Oe?{}:Oe).productMapById,fe=void 0===me?{}:me,pe=Object(i.useState)(!1),he=Object(j.a)(pe,2),ge=he[0],Ne=he[1],xe=Object(i.useContext)(E.a).userOrderStateDispatch,Ee=Object(x.lb)(h.loggedIn,T.Db,""),Ie=Object(N.b)(),Te=Object(N.c)((function(e){return e})).tenantReducer,Ce=Te.tenantId,ye=Te.currencyConversionFactor,_e=(Ni(void 0,void 0,void 0,fe,xe,void 0,void 0).showCartAlert,function(e){if(null===B||void 0===B?void 0:B.id){var t=null===B||void 0===B?void 0:B.foodLines.filter((function(t){var n;return(null===t||void 0===t||null===(n=t.item)||void 0===n?void 0:n.id)===e}));le(t)}je(e),oe(!0)}),De=function(e,t){var n=Number((te/ye).toFixed(2)),a={foodName:null===s||void 0===s?void 0:s.name,foodItemId:null===s||void 0===s?void 0:s.mdmId,cartPrice:n,modifiers:[],quantity:Y,foodLineId:q},i=Ni({cartId:B.id},Ce,void 0,fe,xe,Ie,void 0).itemQuantityHandler;t===M.Increase?l.isCustomized?_e(null===a||void 0===a?void 0:a.foodItemId):i(a,M.Increase):X>1?_e(null===a||void 0===a?void 0:a.foodItemId):i(a,M.Decrease)},Re=function(){k(Object(x.Hb)(window.innerWidth))};Object(i.useEffect)((function(){window.addEventListener("resize",Re)}),[w]);Object(i.useEffect)((function(){var e=Object(x.Bb)(B)?Object(x.Y)(l.id,B):{},t=Object(x.lb)(Object(x.Bb)(e),e.count,0),n=Object(x.lb)(Object(x.Bb)(e),e.matchedItemFoodLineId,""),a=Object(x.lb)(Object(x.Bb)(e),e.entriesCount,0),i=Object(x.lb)(Object(x.Bb)(e),e.itemUnitPrice,"");K(t),z(n),Z(a),ne(i)}),[B,l.id]);var we=function(e){return Object(u.jsxs)("div",{className:"medium-menu-vegOrNonVeg",children:[(null===e||void 0===e?void 0:e.veg)?Object(Se.e)(Me.VEG):Object(Se.e)(Me.NON_VEG),(null===e||void 0===e?void 0:e.servings)&&Object(u.jsx)("div",{className:"Dot"}),Me.SERVES,null===e||void 0===e?void 0:e.servings]})},ke=function(e,t){return Object(u.jsx)("div",{className:"medium-menu-product-price",children:e?Object(u.jsx)("span",{className:"price-difference-container",children:Object(x.lb)(0!==v,Object(u.jsxs)("span",{className:"prev-price",children:[O,l.price]})-Object(u.jsxs)("span",{className:"new-current-price",children:[O,g(null===t||void 0===t?void 0:t.availability[0].price)]}),Object(u.jsxs)("span",{className:"current-price",children:[O,g(null===t||void 0===t?void 0:t.availability[0].price)]}))}):""})},Le=function(){1===Y?(xe({type:A,value:{id:null===s||void 0===s?void 0:s.mdmId,flag:y,foodLineId:q}}),xe({type:C}),xe({type:_,value:{cartEditClicked:!1}}),Ie(Object(ui.c)({tenantId:Ce,catalogName:null===B||void 0===B?void 0:B.catalog,itemId:null===s||void 0===s?void 0:s.mdmId})),Ie(Object(St.t)({showProductListingModal:!0,categorySelected:l.id.split("-")[0]}))):(l.isCustomized&&_e(null===s||void 0===s?void 0:s.mdmId),Ne(!0),oe(!0))};return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:r?"medium-menu-container medium-menu-container-fav-menu":"medium-menu-container medium-menu-container-fav-menu medium-menu-container-fav-menu-disabled",children:[Object(u.jsx)("div",{className:"product-container",children:Object(u.jsxs)("div",{className:"medium-menu-product-card product-card-active","data-testid":"",children:[r?Object(u.jsx)(S.a,{className:"medium-menu-product-image medium-menu-product-image-fav",srcFile:Object(x.S)(null===s||void 0===s?void 0:s.imageName,Te),alt:"No-Image",defaultPath:Object(x.S)(null,Te,!0)}):Object(u.jsx)(S.a,{className:"medium-menu-product-image medium-menu-product-image-fav",srcFile:Object(x.S)(l.imageName,Te),alt:"No-Image",defaultPath:Object(x.S)(null,Te,!0)}),Object(u.jsx)("div",{className:"discount-product-ribbon"}),Object(u.jsx)("span",{className:"discount-ribbon-text"}),Object(u.jsx)("img",{src:xf,alt:"favourite menu product",className:"menu-product-save","data-testid":"on-image-fav",onClick:function(){return f(Ce,b,l.id)}}),Object(u.jsxs)("div",{className:"menu-card-content menu-card-content-fav","data-testid":"menu-card-content-pdp-nav",children:[Object(u.jsx)("div",{className:"medium-menu-product-header",children:Object(x.lb)(r,null===s||void 0===s?void 0:s.name,l.name)}),w?Object(u.jsxs)("div",{className:"product-details-mobile-view",children:[Object(u.jsxs)("div",{className:"medium-menu-product-description",id:"longDescription",children:[Object(x.lb)(r,null===s||void 0===s||null===(a=s.longDescription[0])||void 0===a?void 0:a.value,null===(o=l.description[0])||void 0===o?void 0:o.value)," "]}),Object(u.jsxs)("div",{className:"price-veg-nonveg",children:[ke(r,s),we(m),Object(u.jsx)("div",{className:"heart-icon",children:r?Object(u.jsx)("img",{src:ts,alt:"favourite menu product",className:"mobile-fav-menu-style","data-testid":"mobile-view-fav",onClick:function(){return f(Ce,b,l.id)}}):Object(u.jsx)("img",{src:ts,alt:"un-favourite menu product",className:"mobile-fav-menu-style-unavailable","data-testid":"unavailable-fav",onClick:function(){return f(Ce,b,l.id)}})})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{className:"menu-vegOrNonVeg-icon",src:(null===m||void 0===m?void 0:m.veg)?Cs:Ss,alt:"favourite menu product-vegOrNonVeg-icon"}),we(m),ke(r,s),Object(u.jsx)("div",{className:"medium-menu-product-description",id:"longDescription",children:Object(x.lb)(r,null===s||void 0===s||null===(t=s.longDescription[0])||void 0===t?void 0:t.value,null===(n=l.description[0])||void 0===n?void 0:n.value)})]})]}),Object(u.jsxs)("div",{className:"quantityAddtocart ".concat(Ef(Y,Ee)),children:[!!Y&&function(e,t,n){return Object(u.jsx)(as,{itemCount:e,itemQuantity:P,updateItemQuantity:t,quantityAction:M,item:void 0,maxItemCountPerLineItem:n,cartItemCount:1})}(Y,De,d),r&&Object(u.jsx)("div",{className:"cart-btn-container",children:Object(u.jsx)("div",{className:Ws(Y,Ee),children:Y<1?Object(u.jsxs)("button",{disabled:ps(I),onClick:function(e){return p(e,l,{productName:null===s||void 0===s?void 0:s.dname,productImage:null===s||void 0===s?void 0:s.imageName,productPrice:g(null===s||void 0===s?void 0:s.availability[0].price)})},className:"button activeBtn redButton medium-menu-cart-button ","aria-label":"Add to Cart",tabindex:"0","data-testid":"add-to-cart-fav-menu",children:[hs(I).btnText,Object(x.j)(I.isStoreClosed)]}):l.isCustomized&&Object(u.jsx)("span",{className:"edit-selection","data-testid":"edit-section-fav-menu",onClick:function(){return Le()},children:Object(Se.e)(Be)})})}),!r&&Object(u.jsx)("div",{className:"cart-btn-container",children:Object(u.jsx)("div",{className:"cardButtonOnly",children:Object(u.jsx)("button",{disabled:!0,className:"button activeBtn redButton medium-menu-cart-button medium-menu-cart-button-disabled","aria-label":"Add to Cart",tabindex:"0","data-testid":"add-to-cart-L-402983",children:Object(Se.e)(L)})})})]})]})}),ce&&Object(u.jsx)(Ts,{isFavouriteMenu:!0,handleClose:function(){oe(!1),Ne(!1)},filteredPreviousData:de,updateItemQuantity:De,tenantData:Te,dname:null===s||void 0===s?void 0:s.dname,clickHandler:p,cardId:l.id,itemCount:Y,availability:null===s||void 0===s?void 0:s.availability,imageName:null===s||void 0===s?void 0:s.imageName,itemFoodlineId:q,customizable:l.isCustomized,setOpenCostomizedModal:oe,openCostomizedModal:ce,cartData:B,product:l,foodId:ve,isEditSelection:ge,headerText:ge?Object(Se.e)(Ue):Object(Se.e)(Ge),categoryId:l.id.split("-")[0]})]})})},Tf=function(e){var t,n,o,r=e.limitSize,s=e.checkProductAvailabity,d=e.availableProductPrice,l=e.getPrice,b=Object(i.useContext)(E.a).userOrderState,v=Object(i.useState)(!1),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useMemo)((function(){return Object(x.Ab)(b.currentStoreInfo)?Object(x.b)(localStorage.getItem("currentStoreInfo")):b.currentStoreInfo}),[b.currentStoreInfo]),h=Object(x.sb)(null===p||void 0===p||null===(t=p.summary)||void 0===t?void 0:t.timings),g=h.futureDates,I=h.scheduled,T=h.asap,S=Object(x.sb)(I).unavailibilities,C=Object(x.sb)((null===I||void 0===I||null===(n=I.periods)||void 0===n?void 0:n.length)&&(null===I||void 0===I?void 0:I.periods[0])),A=C.interval,y=void 0===A?0:A,_=C.startEndTime,D=void 0===_?{}:_,R=D.from,w=D.to,k=Object(i.useCallback)((function(){if(Object(x.Bb)(p)){var e,t,n=null===(e=p.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,a=Qi(R,w,y,null===T||void 0===T?void 0:T.isAvailable,1===(null===g||void 0===g?void 0:g.length)&&(null===M||void 0===M?void 0:M.toUpperCase())===Ze,S);"CLOSED"!==n||a.length?f(!1):f(!0)}else f(!1)}),[p]);Object(i.useEffect)((function(){k()}),[k]);var L=Object(N.c)((function(e){return e.tenantReducer||{}})),P=L.country,M=void 0===P?"":P,F=L.currencySymbol,H=L.maxItemCountPerLineItem,B=Object(N.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||[]})),U=Object(N.c)((function(e){var t,n;return(null===(t=e.profileReducer)||void 0===t||null===(n=t.basic)||void 0===n?void 0:n.id)||""})),G=(null!==(o=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==o?o:{}).flatResponse,Y=(G=void 0===G?{}:G).itemMapById,K=void 0===Y?{}:Y;return Object(u.jsx)(c.a.Fragment,{children:B.slice(0,r).map((function(t){var n,i=null===K||void 0===K?void 0:K[t.id],c=s(t.id),o=null!==(n=null===i||void 0===i?void 0:i.additionalProperties)&&void 0!==n?n:null===t||void 0===t?void 0:t.additionalProperties,r=l(d(t.id)),b=t.price-r,v=null===o||void 0===o?void 0:o.reduce((function(e,t){var n=t.key,i=t.value;return Object(a.a)(Object(a.a)({},e),{},Object(Re.a)({},n,"True"===i||"False"!==i&&i))}),{});return Object(u.jsx)(If,Object(a.a)(Object(a.a)({isProductAvailable:c,catalogueData:i,maxItemCountPerLineItem:H,product:t,customerId:U,differencePrice:b,currencySymbol:F,additionalProperties:v},e),{},{"data-testid":"favourite-menu-card-".concat(t.id),storeClosedData:{isStoreClosed:m}}))}))})},Sf=function(e){var t,n,a,c,r,s,d,l=e.isMobile,b=e.updateMenu,v=Object(N.b)(),m=Object(o.f)(),f=cs.d.LOAD_MORE,p=cs.d.ADD_ITEM_TO_CART_TEXT,h=bi.a.RESET_MODGROUP_IDS_UPDATE,g=Ae.a.MINI_PDP_DATA,I=Ae.a.FROMFLAGPLP,C=Ae.a.EDIT_CLICKED,A=Ae.a.ADD_TO_CART_CLICK,y=Object(i.useContext)(E.a),_=y.userOrderState,D=y.userOrderStateDispatch,R=Object(i.useState)(!1),w=Object(j.a)(R,2),k=(w[0],w[1]),L=Object(i.useState)(""),P=Object(j.a)(L,2),M=P[0],F=P[1],H=Object(i.useState)(9),B=Object(j.a)(H,2),U=B[0],G=B[1],Y=Object(i.useState)(""),K=Object(j.a)(Y,2),V=K[0],W=K[1],q=Object(i.useState)(""),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(N.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),Z=Object(N.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||[]})),$=Object(N.c)((function(e){var t;return Object(x.sb)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),ee=$.id,te=$.phone,ne=Object(N.c)((function(e){return e.tenantReducer||{}})),ae=ne.tenantId,ie=ne.currencyConversionFactor,ce=(ne.currencySymbol,Object(N.c)((function(e){return e.tenantReducer}))),oe=Object(N.c)((function(e){return e.cartReducer})),re=Object(x.K)(Object(N.c)((function(e){return e.menuReducer}))).flatResponse,se=(re=void 0===re?{}:re).productMapById,de=void 0===se?{}:se,le=re.itemMapById,ve=void 0===le?{}:le,je=Object(N.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails})),Oe=Object(N.c)((function(e){return e.appStateReducer.userStatus})),me=Object(i.useState)(!1),fe=Object(j.a)(me,2),pe=fe[0],he=fe[1],ge=cs.d.ORDER_HISTORY_TAG,Ne=cs.d.VIEW_ORDER_HISTORY_BTN,xe=cs.d.MY_OCCASSION_TEXT,Ee=cs.d.MY_OCCASSION_UNAVAILABLE_TITLE,Ie=cs.d.DELETE_OCCASSION_TEXT,Te=cs.d.REORDER_TEXT,Ce=cs.d.MY_FAVOURITE_MENU_TITLE_TEXT,_e=cs.d.MY_FAVOURITE_NO_ITEMS_TEXT,De=cs.d.MY_FAVOURITE_BROWSE_MENU,Re=(cs.d.ACCOUNT_FAV_PAGE,cs.d.MY_FAV_MENU),we=cs.d.UNFAVOURITE_ITEM_MESSAGE,ke=Object(x.K)(Object(O.get)(oe,"cartData",{})),Le=Object(i.useState)(!1),Pe=Object(j.a)(Le,2),Me=Pe[0],Fe=Pe[1],He=Object(i.useState)(!1),Be=Object(j.a)(He,2),Ue=Be[0],Ge=Be[1],Ye=Object(i.useState)({}),Ke=Object(j.a)(Ye,2),Ve=Ke[0],We=Ke[1],qe=Object(i.useState)({}),ze=Object(j.a)(qe,2),Qe=ze[0],Je=ze[1],Xe=function(e,t){var n,a,i,c=null===(n=e.target)||void 0===n||null===(a=n.parentElement)||void 0===a||null===(i=a.parentElement)||void 0===i?void 0:i.parentElement;(null===c||void 0===c?void 0:c.classList.contains("account-accordian-open"))?null===c||void 0===c||c.classList.remove("account-accordian-open"):null===c||void 0===c||c.classList.add("account-accordian-open")},Ze=function(e){return e/ie},$e=Object(x.Ab)(_.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):_.dispositionNew,et=Object(i.useMemo)((function(){var e;return{tenantReducer:Object(x.Bb)(ce)?ce:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:$e?$e.store:{},dispositionType:$e&&$e.type?Object(x.I)($e.type):Object(x.I)(null===(e=ce.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[$e,ce,_]),tt=(null===et||void 0===et||null===(t=et.storeInfo)||void 0===t||null===(n=t.summary)||void 0===n||null===(a=n.menu)||void 0===a||null===(c=a.catalogs)||void 0===c?void 0:c.length)&&(null===et||void 0===et||null===(r=et.storeInfo)||void 0===r||null===(s=r.summary)||void 0===s||null===(d=s.menu)||void 0===d?void 0:d.catalogs[0])||Object(x.ub)(null===ce||void 0===ce?void 0:ce.genericMenuName),nt=function(e,t,n){v(Object(ui.a)({tenantId:e,customerId:n},t))},at=function(e,t){var n=arguments.length>3?arguments[3]:void 0,a={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.description,quantity:1,isCustomized:t.customizable,price:t.priceWithTax/ie,additionalProperties:t.additionalProperties};nt(e,a,n)},it=function(e,t,n){v(Object(ui.b)({tenantId:e,customerId:t,itemId:n}));var a=Object(u.jsx)(S.a,{srcFile:di});setTimeout((function(){Object(x.mc)(Object(Se.e)(we),a)}),2e3),setTimeout((function(){Wt.b.dismiss()}),4e3)},ct=function(){var e=Object(be.a)(ue.a.mark((function e(t,n,a){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(Object(Vj.b)({tenantId:t,customerId:n,itemId:a}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ot=function(e){var t,n,a,i,c=Object(ye.h)(),o=Object(x.K)(null===ve||void 0===ve?void 0:ve[e]),r=null===o||void 0===o||null===(t=o.availability)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.availableHours.startTime.time,s=null===o||void 0===o||null===(a=o.availability)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.availableHours.endTime.time;return Object(ye.d)(c,r,s)},rt=function(e){if(ot(e)){var t,n,a=Object(x.K)(null===ve||void 0===ve?void 0:ve[e]);return null===a||void 0===a||null===(t=a.availability)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.price}return 0},st=function(e,t){e&&(F(e),k(!0),W(t),J(t))},dt=function(){F(""),k(!1)},lt=function(){W("")},ut=function(){var e,t=null===(e=Ec.a.getItem("access_token"))||void 0===e?void 0:e.secret,n=pf.a.getPhoneNumberFromToken(t),a={tenantId:ae,customerId:ee,phoneNumber:n},i={orderId:M,name:V};v(Object(Vj.a)(a,i)),F("")},bt=function(e){W(e.target.value)},vt=Object(i.useCallback)((function(){var e;if((e=U+9)>Z.length){var t=Z.length-U;G(U+t)}else G(e)}),[U,Z]);Object(i.useEffect)((function(){Z.length<U&&G(Z.length)}),[v,Z,U]),Object(i.useEffect)((function(){!function(e,t,n,a){if(e){var i={customerId:t,tenantId:e,phoneNumber:n};a(Object(uf.d)(i))}}(ae,ee,te,v)}),[v,ae,ee,te]),Object(i.useEffect)((function(){je&&_.minipdpData.itemId===je.id&&_.cartEditClicked&&v(Object(St.t)({showProductListingModal:!0,categorySelected:""}))}),[je,_.minipdpData.itemId,_.cartEditClicked]),Object(i.useEffect)((function(){(null===oe||void 0===oe?void 0:oe.isItemAdded)&&(Wt.b.dark(Object(u.jsxs)("div",{className:"img-text-div",children:[Object(u.jsx)(S.a,{srcFile:yt.a})," ",Object(u.jsx)("span",{className:"text",children:Object(Se.e)(p)})]}),{className:"coupon-toast-position",bodyClassName:"success-coupon-toast",hideProgressBar:!0,position:Wt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Wt.b.dismiss()}),3e3))}),[null===oe||void 0===oe?void 0:oe.isItemAdded]),Object(i.useEffect)((function(){he(!1)}));var jt=ke.foodLines,mt=void 0===jt?[]:jt,ft=function(){mt.length>0?Fe(!0):(v(Object(St.o)()),Ge(!0))};return Object(u.jsxs)("div",{className:"account-order-desktop",children:[Object(u.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(u.jsx)("img",{className:"backArrow-account-setting","data-testid":"fav-menu-backArrow",onClick:function(){return b("")},src:Of,alt:"back button"}),Object(u.jsx)("span",{className:"account-setting-text-header",children:Object(Se.e)(Re)})]}),Object(u.jsx)("div",{className:"page-header page-header-favourite-occasion",children:Object(u.jsxs)("span",{className:"page-heading",children:[Object(Se.e)(xe)," ",X.length>0?"(".concat(X.length,")"):""]})}),0===X.length&&Object(u.jsxs)("div",{className:"no-occasion-container",children:[Object(u.jsx)("p",{children:Object(Se.e)(Ee)}),Object(u.jsx)(Ot.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClick:function(){return b(ge)},children:Object(Se.e)(Ne)})]}),X&&X.map((function(e,t){return Object(u.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(u.jsxs)("section",{children:[Object(u.jsx)("section",{className:"account-accordian",children:Object(u.jsxs)(af,{title:e.name,occassionTime:l?"".concat(Object(ye.l)(e.fulfillmentDateTime,"ll")):"".concat(Object(ye.l)(e.fulfillmentDateTime,"ll")," at ").concat(Object(ye.l)(e.fulfillmentDateTime,"hh:mm a")),onClickHandler:Xe,onEditOccasionName:st,itemId:e.id,itemName:e.name,"data-testid":"order-details",children:[Object(u.jsx)(hf,{occassionOrder:e,checkProductAvailabity:ot,addItemToFavourite:at,additemToUnfavourite:it,availableProductPrice:rt,getPrice:Ze,"data-testid":"occasion-component"}),Object(u.jsx)("section",{className:"fav-menu-event",children:Object(u.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(u.jsx)("span",{className:"global-accordian-header mobile-accordian-header",children:Object(u.jsx)("span",{className:"order-receipt-option","data-testid":"delete-occassion",onClick:function(){return ct(ae,ee,e.id)},children:Object(Se.e)(Ie)})}),Object(u.jsx)("div",{className:"global-accordian-right",children:Object(u.jsxs)(Ot.a,{className:"button re-order-btn redButton","aria-label":"",type:"submit",onClickHandler:function(){e.items,localStorage.setItem(T.m,rl),function(e){var t=Object(O.get)(e,"store",{}),n=Object(O.get)(e,"service",""),a=[{storeId:Object(O.get)(t,"storeId",""),channel:ya.b.channel,service:n}];v(Object(hl.a)(a,ae,(function(t){var n=Object(O.first)(Object(O.get)(t,"response",{}),{}),a=e.id;We(n),v(Object(tn.a)({tenantId:ae,orderId:a,customerId:ee},ft))}))),Je(e),sessionStorage.setItem("reorderClick",!0)}(e)},"data-testid":"re-order-btn",children:[Object(u.jsx)("img",{src:cl,className:"account-icon"}),Object(u.jsx)("span",{children:Object(Se.e)(Te)})]})})]})})]})}),Object(u.jsx)(Nf,{isOpen:e.id===M,handleClose:dt,occasionName:V,onSaveOccassion:ut,onChangeOccasionName:bt,occasionNameResponse:Q,handleClearEditInput:lt})]})})})),Object(u.jsx)("div",{className:"page-header page-header-favourite",children:Object(u.jsxs)("span",{className:"page-heading",children:[Object(Se.e)(Ce)," ",Z.length>0?"(".concat(Z.length,")"):""]})}),(null===oe||void 0===oe?void 0:oe.showProductListingModal)&&Object(u.jsx)(Id,{}),Object(u.jsxs)("div",{className:"favorite-items-container",children:[0===Z.length&&Object(u.jsxs)("div",{className:"no-occasion-container",children:[Object(u.jsx)("p",{children:Object(Se.e)(_e)}),Object(u.jsx)(Ot.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClick:function(){m.push({pathname:"/menu"})},children:Object(Se.e)(De)})]}),Object(u.jsx)(Tf,{limitSize:U,checkProductAvailabity:ot,addItemToUnFavouriteFunction:it,addToCartFunction:function(e,t,n){var a;e&&e.stopPropagation();var i,c=null!==(a=null===de||void 0===de?void 0:de[t.id])&&void 0!==a?a:{},o=c.categoryId,r=void 0===o?"NA":o,s=c.categoryName,d=void 0===s?"NA":s,l=t.id,u=t.isCustomized;Oe.localized?u?(D({type:g,value:{id:l,flag:I,foodLineId:""}}),D({type:h}),D({type:C,value:{cartEditClicked:!0}}),v(Object(ui.c)({tenantId:ae,catalogName:tt,itemId:l}))):(!function(e,t,n,a){v(Object(St.a)({params:{basketId:a},tenantId:e},[{Id:t,categoryId:n,quantity:1,modGrps:[]}]))}(ae,l,r,null===oe||void 0===oe||null===(i=oe.cartData)||void 0===i?void 0:i.id),v(Object(St.s)(new Date)),Object(gd.a)({item_name:Object(x.qb)(t.name,"NA"),item_id:Object(x.qb)(t.id,"NA"),item_category:d,price:Object(x.qb)(t.price,"NA"),item_variant:"NA",item_list_name:d,item_list_id:r,index:1,quantity:Object(x.qb)(t.quantity||1)})):(he(!0),D({type:A,value:{addToCart:!0,productItemId:l,categoryId:r,oldProduct:n,customizable:u,catalogs:tt,fromPdpPage:!1}}))},availableProductPrice:rt,getPrice:Ze,"data-testid":"favourite-menu",userParams:Oe})]}),Z.length>9&&Object(u.jsxs)("div",{className:"load-more-button-container",children:[Object(u.jsx)(Ot.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"load-more-favourite-items",onClick:vt,children:Object(Se.e)(f)}),Object(u.jsx)("div",{className:"load-more-text",children:Object(Se.e)("Viewed ".concat(U," of ").concat(Z.length))})]}),pe&&Object(u.jsx)(gb,{}),(Me||Ue)&&Object(u.jsx)(Ju,{storeInfo:Ve,currentOrderInfo:Qe,reorderModalOpen:Me,setReorderModalOpen:Fe,isQuickReorderModalOpen:Ue,setQuickReorderModalOpen:Ge})]})},Cf={ADD_NEW_ADDRESS:"Add New Address",EDIT_DELIVERY_ADDRESS:"Edit Delivery Address",HIDDEN:"hidden",OK:"OK",KM:"km",DEFAULT_DISPOSITION_TAKEWAY:"Pickup",mapText:"map",ZERO_RESULTS:"ZERO_RESULTS",DELIVERY_SERVICE:"delivery",CHANNEL:"web",REMOVED_MSG:"Store removed from favorite list",INDIA:"India",NOT_SERVICEABLE:"The Delivery location is not serviceable. Please choose a different address",INITIAL_STATE:{addressId:"",addressName:"",city:"",pinCode:"",name:"",state:"",country:"",isPrimary:!1,location:{latitude:"",longitude:""},addressLines:["",""]},MYDELIVERYADDRESSES:"MyDeliveryAddresses",ADDRESS:"address"},Af=function(e){var t=e.favouriteStores,n=e.removeFromFavoriteHandler,o=e.history,r=e.isMobile,s=Object(N.b)(),d=Object(i.useState)(!1),l=Object(j.a)(d,2),b=l[0],v=l[1],O=Object(i.useState)(!1),m=Object(j.a)(O,2),f=m[0],p=m[1],h=Object(i.useState)({}),g=Object(j.a)(h,2),I=g[0],T=g[1],C=Object(i.useState)(0),A=Object(j.a)(C,2),y=A[0],_=A[1],D=Object(i.useState)(325),R=Object(j.a)(D,2),w=R[0],k=(R[1],Object(i.useState)(null)),L=Object(j.a)(k,2),P=L[0],F=L[1],H=Object(i.useContext)(E.a),B=H.userOrderState,U=H.userOrderStateDispatch,G=Object(x.Ab)(B.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):B.dispositionNew,Y=Si.a.BROWSE_MENU,K=Si.a.STORE_STATUS_CLOSED,V=Si.a.PICK_UP,W=Si.a.TAKE_AWAY,q=Si.a.LIST_TEXT,z=Si.a.STORE_STATUS_CLOSED_CAPS,Q=Ae.a.SCHEDULE_ORDER_DATA,J=Ae.a.SEARCH_ORDER_DATA,X=Ae.a.SELECTED_TILE_DATA,Z=Ae.a.MENU_URL,$=Ae.a.SET_DISPOSITION,ee=Ae.a.USER_LOCALIZED,te=Ae.a.DISPOSITION_DATA,ne=Ae.a.SCHEDULE_ORDER_TIME_DATA,ae=Ae.a.CURRENT_STORE_INFO,ie=Cf.DEFAULT_DISPOSITION_TAKEWAY,ce=Cf.mapText,oe=Object(N.c)((function(e){return e.appStateReducer.userStatus})),re=Object(N.c)((function(e){return e.profileReducer})),se=Object(N.c)((function(e){return e.tenantReducer})),de=se.componentOptions,le=void 0===de?{}:de,ve=Object(x.qb)(null===le||void 0===le?void 0:le.ScheduledDeliveryComponent,!0).allowScheduleOrder,je=function(e){var t,n=e.summary,a=Object(x.lb)(null===n||void 0===n||null===(t=n.timings)||void 0===t?void 0:t.operatingHours,null===n||void 0===n?void 0:n.timings,[]).operatingHours,i=void 0===a?[]:a;return Object(yi.b)(e.isOpen,i)},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e&&Object(yi.f)(e),n=Object(x.qb)(t[0],[]),a=n.services,i=void 0===a?[]:a;return i.map((function(e,t){return Object(u.jsxs)("div",{className:"store-order-options",children:[Object(u.jsx)("span",{children:Object(u.jsx)(S.a,{"data-testid":"",srcFile:Ai,alt:"tick",className:"tick-image"})}),Object(u.jsx)("span",{children:Object(x.lb)(e===V,Object(Se.e)(W),e)})]},t)}))},me=function(){s(Object(Ra.b)(Object(a.a)(Object(a.a)({},oe),{},{localized:!0})))},fe=function(){U({type:J,value:{showSearchStore:!1}})},pe=function(e){return e.additionalProperties=e.storeBasic.additionalProperties,e.addresses=e.storeBasic.address,e.amenities=e.storeBasic.amenities,e.name=e.storeBasic.dname,e.id=e.storeBasic.id,e.location=e.storeBasic.location,e},he=function(e){U({type:ae,value:e})},ge=function(t,n){var a=t;xe(),localStorage.setItem("currentStoreInfo",JSON.stringify(a)),he(a),me(),U({type:ne,value:{selectedDateTime:n}}),localStorage.setItem("tenantReducer",JSON.stringify(se)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",ie),localStorage.setItem("storeInfo",JSON.stringify(a)),localStorage.setItem("dateTimeOrder",JSON.stringify(n)),e.history.push({pathname:"".concat(Z)})},Ne=function(e,t){e.preventDefault(),e.stopPropagation(),localStorage.removeItem("renderComp"),localStorage.removeItem("setFav"),localStorage.setItem("dispositionType",ie),t=pe(t),Ce(),U({type:Q,value:{showScheduleOrder:!0,selectedStoreInfo:t,isAddressFlow:!0}}),U({type:J,value:{showSearchStore:!1}}),Object(yi.j)(),Ee(t),si(ie)},xe=function(){U({type:X,value:{selectedData:{}}})},Ee=function(e){var t=e;xe(),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),he(t)},Ie=function(e){var t,n,a=Object(x.sb)(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.timings),i=a.futureDates,c=a.scheduled,o=a.asap,r=Object(x.sb)(c&&c.periods.length&&c.periods[0]),s=r.interval,d=void 0===s?0:s,l=r.startEndTime,u=void 0===l?{}:l,b=Object(x.sb)(u),v=b.from,j=b.to,O=Object(x.sb)(c).unavailibilities;return Qi(v,j,d,null===o||void 0===o?void 0:o.isAvailable,Object(x.r)(1===(null===i||void 0===i?void 0:i.length),"INDIA"===(null===se||void 0===se||null===(n=se.country)||void 0===n?void 0:n.toUpperCase())),O)},Te=function(){var e=Object(be.a)(ue.a.mark((function e(t,n){var a,i,c,o,r,d,l,u,b,v,j,O,m,f,p,h,g,N,E,I,T;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),Object(yi.k)(),b=null===(a=n)||void 0===a||null===(i=a.summary)||void 0===i?void 0:i.timings,v=b.futureDates,j=b.scheduled,O=b.asap,m=j&&j.periods.length&&j.periods[0],f=m.interval,p=void 0===f?0:f,h=m.startEndTime,N=(g=void 0===h?{}:h).from,E=g.to,Qi(N,E,p,null===O||void 0===O?void 0:O.isAvailable,Object(x.r)(1===v.length,"INDIA"===(null===se||void 0===se?void 0:se.country))),I={time:"ASAP",interval:null===(c=n)||void 0===c||null===(o=c.summary)||void 0===o||null===(r=o.timings.scheduled.periods[0])||void 0===r?void 0:r.interval,date:new Date,selectedTime:"ASAP"},n=pe(n),null!==G&&G.type===ie&&G.store.id===n.id&&G.deliveryAddress===(null===B||void 0===B||null===(d=B.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress)){e.next=15;break}return e.next=12,Object(x.f)(n,Object(x.I)(ie),re.customerId,I);case 12:T=e.sent,s(Object(St.j)("")),s(Object(St.e)({data:T,tenantId:se.tenantId}));case 15:ge(n,I),U({type:$,value:{oldvalue:G,newValue:{type:ie,store:n,date:I.date,time:I.time,interval:I.interval,selectedTime:I.selectedTime,deliveryAddress:null===B||void 0===B||null===(l=B.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(G)),localStorage.setItem("dispositionNew",JSON.stringify({type:ie,store:n,date:I.date,time:I.time,interval:I.interval,selectedTime:I.selectedTime,deliveryAddress:null===B||void 0===B||null===(u=B.scheduleOrderData)||void 0===u?void 0:u.deliveryAddress})),si(ie),fe(),Ce();case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ce=function(){U({type:ee,value:{isLocalized:!0}})},_e=function(){v(!b),p(!b)};Object(i.useEffect)((function(){p(!0),De()}),[y,P]);var De=function(){var e=t.map((function(e){return{lat:e.storeBasic.location.latitude,lng:e.storeBasic.location.longitude}}));T(e)},Re=function(e){var t=Ie(e).length;return Object(x.lb)(t,"Today","Tomorrow")},we=function(e,a,i){var r,s,d,l,v,j,O,m,f,p,h,g,N,E,I,T,C,A,D,R,w,k,L,P,H,B,V,W,q,Q,J,X,ee,ne;return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"bgv-set store-card d-flex flex-dir ".concat(i),children:[Object(u.jsxs)("div",{className:"address-block d-flex",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:"card-store-name",children:null===e||void 0===e||null===(r=e.storeBasic)||void 0===r?void 0:r.dname[0].value}),Object(u.jsx)("span",{className:"store-distance",children:null===e||void 0===e||null===(s=e.distance)||void 0===s?void 0:s.text}),b&&Object(u.jsx)("span",{className:"store-index fl-rgt",children:"".concat(y+1," of ").concat(t.length)})]}),Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsx)("div",{className:"order-items",children:Oe(null===e||void 0===e?void 0:e.availableServicesPerChannel)}),Object(u.jsxs)("div",{className:"w-100",children:[Object(u.jsx)("span",{className:"store-address",children:(ne=null===e||void 0===e||null===(d=e.storeBasic)||void 0===d?void 0:d.address[0].address,"".concat(ne.addressLines.join(" ")," ").concat(ne.city," ").concat(ne.state," ").concat(ne.country," ").concat(ne.pinCode))}),!b&&Object(u.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:function(){!function(e,t){F(e),_(t)}(e,a),_e(),De()},children:Object(u.jsx)(M,{className:"card-map-link",children:Object(Se.e)(ce)})})]}),(null===e||void 0===e?void 0:e.summary)&&(null===e||void 0===e?void 0:e.isOpen)&&Object(u.jsxs)("div",{className:"info-timing ".concat(!(null===e||void 0===e?void 0:e.isOpen)&&"info-timingClosed"),children:[(null===e||void 0===e?void 0:e.isOpen)?"":Object(u.jsx)("span",{children:Object(Se.e)(K)}),Object(u.jsx)("span",{className:"".concat(!(null===e||void 0===e?void 0:e.isOpen)&&je(e)&&"list-circle"),children:je(e)})]}),(null===e||void 0===e?void 0:e.summary)&&!(null===e||void 0===e?void 0:e.isOpen)&&Object(u.jsx)("div",{className:"info-timingClosed",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:(null===(l=e.summary.status)||void 0===l?void 0:l.currentStatus)===z?Object(u.jsx)("span",{className:"closed-text",children:K}):""}),Object(u.jsx)("li",{children:(null===(v=e.summary)||void 0===v||null===(j=v.timings)||void 0===j||null===(O=j.scheduled)||void 0===O||null===(m=O.unavailibilities)||void 0===m?void 0:m.length)>0&&Object(ye.s)(null===(f=e.summary)||void 0===f||null===(p=f.timings)||void 0===p||null===(h=p.scheduled)||void 0===h||null===(g=h.unavailibilities[0])||void 0===g?void 0:g.to,"HH MM","HH:MM")<=Object(ye.s)(null===(N=e.summary)||void 0===N||null===(E=N.timings)||void 0===E||null===(I=E.operatingHours[0])||void 0===I||null===(T=I.availableHours)||void 0===T?void 0:T.to,"HH MM","HH:MM")?"Open Today ".concat((null===(C=e.summary)||void 0===C||null===(A=C.timings)||void 0===A||null===(D=A.scheduled)||void 0===D||null===(R=D.unavailibilities[0])||void 0===R?void 0:R.to)&&Object(ye.s)(null===(w=e.summary)||void 0===w||null===(k=w.timings)||void 0===k||null===(L=k.scheduled)||void 0===L||null===(P=L.unavailibilities[0])||void 0===P?void 0:P.to,"hh mm","hh:mm a")):"Open ".concat(Re(e)," ").concat((null===(H=e.summary)||void 0===H||null===(B=H.timings)||void 0===B||null===(V=B.operatingHours[0])||void 0===V||null===(W=V.availableHours)||void 0===W?void 0:W.from)&&Object(ye.s)(null===(q=e.summary)||void 0===q||null===(Q=q.timings)||void 0===Q||null===(J=Q.operatingHours[0])||void 0===J||null===(X=J.availableHours)||void 0===X?void 0:X.from,"hh mm","hh:mm a"))})]})}),Object(u.jsx)("div",{className:"facilities",children:(null===(ee=Vi(null===e||void 0===e?void 0:e.storeBasic))||void 0===ee?void 0:ee.length)>0&&Vi(null===e||void 0===e?void 0:e.storeBasic).map((function(e){return Object(u.jsx)(S.a,{"data-testid":"",srcFile:e.image,alt:Object(x.qb)(e.label,""),className:"facility-img",title:e.label},e.key)}))})]})]}),!b&&Object(u.jsx)("div",{className:"d-flex flex-dir mt5 flex-dir-pos",children:Object(u.jsx)(S.a,{"data-testid":"favorite-img",srcFile:qi,alt:"favorite",className:"favorite-img",onClick:function(){var t;return n(null===e||void 0===e||null===(t=e.storeBasic)||void 0===t?void 0:t.id)}})})]}),Object(u.jsxs)("div",{className:"button-block align-center d-flex mt-2",children:[(null===e||void 0===e?void 0:e.isOpen)&&ve&&Object(u.jsx)(Ot.a,{"data-testid":"schedule-order",className:"padding-set wdth-set schedule-pad margin-adjust button ml5 font-bold whiteButton blkBorder search-store-card-btn schedule-order-btn",onClickHandler:function(t){return Ne(t,e)},children:Object(Se.e)("scheduleOrder")}),(null===e||void 0===e?void 0:e.isOpen)&&Object(u.jsx)(Ot.a,{"data-testid":"order-now",className:"padding-set wdth-set order-pad ml5 button redButton search-store-card-btn",onClickHandler:function(t){return Te(t,e)},children:"Order Now"}),yf(e,Ie,Ne),Object(x.r)(!(null===e||void 0===e?void 0:e.isOpen),!Ie(e).length)&&Object(u.jsx)(Ot.a,{className:"padding-set wdth-set browse-pad ml5 ml-0 font-bold button whiteButton blkBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:function(){return function(e){var t=pe(e);localStorage.setItem("currentStoreInfo",JSON.stringify(t)),he(),me(),U({type:$,value:{oldvalue:G,newValue:{type:ie,store:t,date:"",time:"",interval:"",deliveryAddress:""}}}),localStorage.setItem("dispositionOld",JSON.stringify(G)),localStorage.setItem("dispositionNew",JSON.stringify({type:ie,store:t,date:"",time:"",interval:"",deliveryAddress:""})),U({type:te,value:{showDisposition:!1}}),fe(),o.push({pathname:"".concat(Z)})}(e)},children:Object(Se.e)(Y)})]})]})})},ke=function(e){return e.sort((function(e,t){var n,a,i,c;return(null===(n=e.storeBasic)||void 0===n?void 0:n.dname[0].value)<(null===(a=t.storeBasic)||void 0===a?void 0:a.dname[0].value)?-1:(null===(i=e.storeBasic)||void 0===i?void 0:i.dname[0].value)>(null===(c=t.storeBasic)||void 0===c?void 0:c.dname[0].value)?1:0}))}(t).map((function(e,t){return we(e,t)}));return Object(u.jsxs)("div",{className:"favorite-stores-section",children:[t.length>0&&Object(u.jsxs)("div",{className:"header-text",children:["My Favorite Stores (",t.length,")",b&&Object(u.jsx)("span",{"data-testid":"list-handler",onClick:function(){_e(),De()},children:Object(u.jsxs)(M,{className:"map-link-list",children:[Object(u.jsx)("span",{children:Object(u.jsx)(S.a,{"data-testid":"",srcFile:dc,alt:"map",className:"map-img"})}),Object(Se.e)(q)]})})]}),t.length>0&&!b>0&&ke,b&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"takeawayDineInMap delivery-map",children:[Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(pc,{"data-testid":"mymap-id",latLongValue:I,loadingElement:Object(u.jsx)("div",{style:{height:"100%"}}),containerElement:Object(u.jsx)("div",{style:{height:"400px"}}),mapElement:Object(u.jsx)("div",{style:{height:"100%"}}),isVisible:!0,isMobile:r,centerIndex:y,onPositionChangeHandler:function(e){var n=e?y+1:y-1;_(n),F(Object(x.sb)(t[n]))},setShowCard:p,setStoreMarker:function(e){var n=t.findIndex((function(t){return t.storeBasic.location.latitude===e.lat()&&t.storeBasic.location.longitude===e.lng()}));n>-1&&(_(n),F(Object(x.sb)(t[n])))},storeCardHeight:w}),f&&P&&r?we(P,"","Selected-mobile-Card"):null]}),f&&P&&!r?we(P,"","Selected-desktop-Card"):null]})})]})};function yf(e,t,n){return Object(u.jsx)(u.Fragment,{children:Object(x.r)(!(null===e||void 0===e?void 0:e.isOpen),t(e).length>0)&&Object(u.jsx)(Ot.a,{"data-testid":"closed-order",className:"padding-set wdth-set schedule-pad margin-adjust button ml5 font-bold whiteButton blkBorder search-store-card-btn schedule-order-btn",onClickHandler:function(t){return n(t,e)},children:Object(Se.e)("scheduleOrder")})})}var _f=n(231),Df=function(e){var t=Object(N.b)(),n=e.isOpen,c=e.modalType,o=e.handleClose,r=e.storeSearch,s=e.tenantId,d=e.allStores,l=Cf.ADD_NEW_ADDRESS,b=Cf.EDIT_DELIVERY_ADDRESS,v=Cf.HIDDEN,O=Cf.DELIVERY_SERVICE,m=Cf.CHANNEL,f=Cf.NOT_SERVICEABLE,p=Cf.INITIAL_STATE,h=Cf.INDIA,g=Object(x.Bb)(e.address)?e.address:p,E=Object(i.useState)(g),I=Object(j.a)(E,2),T=I[0],C=I[1],A=Object(i.useState)(!1),y=Object(j.a)(A,2),_=y[0],D=y[1],R=null===r||void 0===r?void 0:r.geohashprecision,w=(null===r||void 0===r?void 0:r.boundingBoxSizeMeters)/1e3,k=Object(_f.a)({requestOptions:{componentRestrictions:{country:"in"}},debounce:300}),L=k.ready,P=k.value,M=k.suggestions,F=M.status,H=M.data,B=k.setValue,U=k.clearSuggestions,G=Object(i.useRef)(null);Object(i.useEffect)((function(){var e,t;c&&Oo.a.calculateGH({lat:parseFloat((null===T||void 0===T||null===(e=T.location)||void 0===e?void 0:e.latitude)||(null===T||void 0===T?void 0:T.latitude)),lon:parseFloat((null===T||void 0===T||null===(t=T.location)||void 0===t?void 0:t.longitude)||(null===T||void 0===T?void 0:T.longitude)),distanceFromCurrentLoc:w,geoHashPrecision:R});document.querySelector("body").style.overflow=v}),[]),Object(i.useEffect)((function(){return document.addEventListener("mousedown",Y),function(){document.removeEventListener("mousedown",Y)}}));var Y=function(e){G.current&&!G.current.contains(e.target)&&U()},K=function(e){var t=e.target,n=t.name,i=t.value;if("floor"!==n)"checkbox"!==t.type?C(Object(a.a)(Object(a.a)({},T),{},Object(Re.a)({},n,i))):C(Object(a.a)(Object(a.a)({},T),{},Object(Re.a)({},n,!("true"===i))));else{C(Object(a.a)(Object(a.a)({},T),{},Object(Re.a)({},n,i)));var c=[i,null===T||void 0===T?void 0:T.addressLines[1]];C(Object(a.a)(Object(a.a)({},T),{},{addressLines:c}))}},V=function(e){var t=e.address_components.reduce((function(e,t){var n=t.long_name;return t.types.forEach((function(t){return e[t]=n})),e}),{}),n=function(e){var t=[];return Object.entries(e).forEach((function(e){switch(e[0]){case"route":case"street_address":case"neighborhood":case"sublocality_level_1":case"sublocality_level_2":case"sublocality_level_3":t.push(e[1])}t.length||("sublocality"===e[0]||"administrative_area_level_2"===e[0])&&t.push(e[1])})),t=t.join(",")}(t),i=[(null===t||void 0===t?void 0:t.street_number)||"",n];B(n),C((function(e){return Object(a.a)(Object(a.a)({},e),{},{country:null===t||void 0===t?void 0:t.country,addressLines:i,city:(null===t||void 0===t?void 0:t.administrative_area_level_2)||(null===t||void 0===t?void 0:t.locality),state:(null===t||void 0===t?void 0:t.administrative_area_level_1)||"",pinCode:(null===t||void 0===t?void 0:t.postal_code)||""})})),q(),setTimeout((function(){U()}),800)},W=function(e){var n=e.description,i=e.structured_formatting;i.main_text,i.secondary_text;return function(){D(!1),U(),t(Object(Xa.j)()),Object(_f.b)({address:n,componentRestrictions:{country:"in"}}).then((function(e){return V(e[0]),Object(_f.c)(e[0])})).then((function(e){Oo.a.calculateGH({lat:parseFloat(null===e||void 0===e?void 0:e.lat),lon:parseFloat(null===e||void 0===e?void 0:e.lng),distanceFromCurrentLoc:w,geoHashPrecision:R}),C((function(t){return Object(a.a)(Object(a.a)({},t),{},{latitude:null===e||void 0===e?void 0:e.lat,longitude:null===e||void 0===e?void 0:e.lng})}))})).catch((function(e){console.log("Error: ",e)}))}},q=function(){var e,t,n,a;return!!((null===T||void 0===T?void 0:T.addressLines[1].length)&&(null===T||void 0===T||null===(e=T.name)||void 0===e?void 0:e.length)&&(null===T||void 0===T||null===(t=T.city)||void 0===t?void 0:t.length)&&(null===T||void 0===T||null===(n=T.pinCode)||void 0===n?void 0:n.length)&&(null===T||void 0===T||null===(a=T.state)||void 0===a?void 0:a.length))},z=function(e){var t,n,a;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)&&(null===e||void 0===e||null===(a=e.availableServicesPerChannel)||void 0===a?void 0:a.filter((function(e){var t;return(null===e||void 0===e?void 0:e.channel)===m&&(null===e||void 0===e||null===(t=e.services)||void 0===t?void 0:t.disposition)===O})))},Q={id:"AddressModalPopup",role:"dialog",modalTitleId:"AddressModalPopup",show:n,classNames:"address-module-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:o,modalTitle:c?b:l,autoFocus:!0},J=function(e){return e.preventDefault(),!1};return Object(u.jsxs)(jt,Object(a.a)(Object(a.a)({},Q),{},{"data-testid":"address-modal-landing-page",children:[Object(u.jsx)("div",{className:"address-form-section",children:Object(u.jsxs)("div",{className:"form-container",children:[_&&Object(u.jsx)("div",{className:"error-service-msg",children:f}),Object(u.jsx)("div",{className:"form-header",children:"Address"}),Object(u.jsxs)("form",{autocomplete:"off",children:[Object(u.jsxs)("div",{className:"input-container",children:[Object(u.jsx)("input",{required:!0,type:"text","data-testid":"name-testid",name:"name",value:null===T||void 0===T?void 0:T.name,onChange:K}),Object(u.jsx)("label",{children:"Address Nickname*"})]}),Object(u.jsxs)("div",{className:"input-container",children:[Object(u.jsx)("input",{"data-testid":"search-input-address",value:P||(null===T||void 0===T?void 0:T.addressLines[1]),onChange:function(e){B(e.target.value);var t=[null===T||void 0===T?void 0:T.addressLines[0],e.target.value];C(Object(a.a)(Object(a.a)({},T),{},{addressLines:t}))},disabled:!L,name:"addressName",onFocus:function(){B(P)},required:!0,type:"text"}),Object(u.jsx)("label",{children:"Address*"}),"OK"===F&&Object(u.jsx)("ul",{ref:G,className:"address-list",children:H.map((function(e){var t,n=e.place_id,a=e.structured_formatting,i=a.main_text,c=a.secondary_text;return Object(u.jsx)(u.Fragment,{children:(null===(t=e.terms.filter((function(e){return e.value===h})))||void 0===t?void 0:t.length)>0&&Object(u.jsxs)("li",{"data-testid":"address-suggestion-id",className:"address-suggestion-text",onClick:W(e),children:[Object(u.jsx)(S.a,{srcFile:lc,alt:"googleMapLocation",className:"suggetion-pin"}),Object(u.jsxs)("span",{className:"address-text",children:[Object(u.jsx)("strong",{children:i})," ",c]})]},n)})}))})]}),Object(u.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(u.jsxs)("div",{className:"input-container",children:[Object(u.jsx)("input",{required:!0,type:"text",name:"floor",value:(null===T||void 0===T?void 0:T.floor)||(null===T||void 0===T?void 0:T.addressLines[0]),onChange:K}),Object(u.jsx)("label",{children:"Apt / Suite / Floor"})]}),Object(u.jsxs)("div",{className:"input-container ml5",children:[Object(u.jsx)("input",{className:"p-none",required:!0,type:"text",name:"pinCode",onKeyDown:function(e){return J(e)},onKeyPress:function(e){return J(e)},value:null===T||void 0===T?void 0:T.pinCode,tabIndex:"-1","data-testid":"pincode-id",onChange:K}),Object(u.jsx)("label",{children:"Postal Code*"})]})]}),Object(u.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(u.jsxs)("div",{className:"input-container",children:[Object(u.jsx)("input",{className:"p-none",required:!0,type:"text",tabIndex:"-1",name:"city",onKeyDown:function(e){return J(e)},onKeyPress:function(e){return J(e)},value:null===T||void 0===T?void 0:T.city,"data-testid":"city-id",onChange:K}),Object(u.jsx)("label",{children:"City / Town*"})]}),Object(u.jsxs)("div",{className:"input-container ml5",children:[Object(u.jsx)("input",{className:"p-none",required:!0,type:"text",tabIndex:"-1",name:"state",onKeyDown:function(e){return J(e)},onKeyPress:function(e){return J(e)},value:null===T||void 0===T?void 0:T.state,"data-testid":"state-id",onChange:K}),Object(u.jsx)("label",{children:"State*"})]})]}),Object(u.jsxs)("div",{className:"default-address-section",children:[Object(u.jsx)("input",{type:"checkbox",name:"isPrimary","data-testid":"default-testid",id:"default-address",value:null===T||void 0===T?void 0:T.isPrimary,checked:null===T||void 0===T?void 0:T.isPrimary,onChange:K}),Object(u.jsx)("div",{className:"default-label-text",children:Object(u.jsx)("label",{htmlFor:"default-address",children:"Make this my default address"})})]})]})]})}),Object(u.jsxs)("div",{className:"input-container text-center",children:[Object(u.jsx)(Ot.a,{onClick:o,"data-testid":"close-testid",className:"mt-10 button font-bold whiteButton blackBorder",children:"Cancel"}),Object(u.jsx)(Ot.a,{disabled:!q(),className:"mt-10 button font-bold whiteButton blkColor ml5","data-testid":"submit-testid",onClick:function(){var e=function(e){var t,n,a=["",""];return a[1]=e.addressLines[1],a[0]=(null===e||void 0===e?void 0:e.floor)||e.addressLines[0],{addressId:(null===e||void 0===e?void 0:e.id)||"",addressName:e.name||"",city:e.city,postalCode:e.pinCode,state:e.state,country:e.country||"",isPrimary:e.isPrimary||!1,location:{latitude:(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)||(null===e||void 0===e?void 0:e.latitude),longitude:(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)||(null===e||void 0===e?void 0:e.longitude)},addressLines:a}}(T),n=null===d||void 0===d?void 0:d.filter(z),a=null===r||void 0===r?void 0:r.maxDriveTimeMins,i=Oo.a.checkAndProceed({stores:n,disposition:O,distanceMetrics:null===r||void 0===r?void 0:r.distanceMetrics,driveTime:a});if(null===i||void 0===i?void 0:i.length){var c=pf.a.getPhoneNumberFromToken(),l=pf.a.getCustomerIdFromToken();t(Object(uf.a)({customerId:l,phoneNumber:c,tenantId:s,data:e})),o()}else D(!0)},children:"Save"})]})]}))},Rf=function(e){var t=Object(N.b)(),n=e.savedAddresses,a=e.storeSearch,o=e.tenantId,r=e.allStores,s=e.driveTime,d=Object(i.useState)(!1),l=Object(j.a)(d,2),b=l[0],v=l[1],O=Object(i.useState)(!1),m=Object(j.a)(O,2),f=m[0],p=m[1],h=Object(i.useState)({}),g=Object(j.a)(h,2),x=g[0],E=g[1],I=Cf.MYDELIVERYADDRESSES,T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="edit"===e;E(t),v(!0),p(n)},S=function(e){return e.sort((function(e,t){return t.isPrimary-e.isPrimary}))}(n).map((function(e){return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"delivery-card bgv-set d-flex",children:[Object(u.jsxs)("div",{className:"address-description d-flex",children:[Object(u.jsxs)("p",{className:"address-mode",children:[Object(u.jsx)("span",{className:"text-transform-capitalize",children:null===e||void 0===e?void 0:e.name})," ",(null===e||void 0===e?void 0:e.isPrimary)?"(Default)":""]}),Object(u.jsx)("div",{className:"delivery-details",children:Object(u.jsxs)("div",{children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(u.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[1],", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(u.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[0],", "]}),(null===e||void 0===e?void 0:e.city)&&Object(u.jsxs)("span",{children:[null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(u.jsxs)("span",{children:[null===e||void 0===e?void 0:e.state,", "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(u.jsxs)("span",{children:[null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.country})]})})]}),Object(u.jsxs)("div",{className:"action-btn d-flex",children:[Object(u.jsx)("a",{onClick:function(){return T("edit",e)},"data-testid":"edit-testid",className:"anchor-info edit-adjust",children:"Edit"}),Object(u.jsx)("a",{onClick:function(){return function(e){var n=pf.a.getPhoneNumberFromToken(),a=pf.a.getCustomerIdFromToken();t(Object(uf.b)({customerId:a,phoneNumber:n,tenantId:o,addressId:e}))}(null===e||void 0===e?void 0:e.id)},"data-testid":"delete-testid",className:"anchor-info del-adjust",children:"Delete"})]})]})})}));return Object(u.jsxs)("div",{className:"delivery-address-section",children:[Object(u.jsxs)("div",{className:"header-text",children:[Object(Se.e)(I)," ",(null===n||void 0===n?void 0:n.length)>0&&"(".concat(n.length,")")]}),(null===n||void 0===n?void 0:n.length)>0&&S,Object(u.jsx)("div",{className:"add-address",children:Object(u.jsx)(Ot.a,{"data-testid":"add-testid",onClickHandler:function(){return T("add")},className:"mt-10 button font-bold whiteButton blackBorder",children:"Add New Address"})}),b&&Object(u.jsx)(Df,{"data-testid":"address-modal",isOpen:b,modalType:f,storeSearch:a,address:x,tenantId:o,driveTime:s,allStores:r,handleClose:function(){return document.querySelector("body").style.overflow="",v(!1),void t(Object(Xa.j)())}})]})},wf=function(e){var t,n=Cf.KM,c=Cf.REMOVED_MSG,o=Cf.ADDRESS,r=Si.a.STORE_STATUS_OPEN,s=Object(N.b)(),d=Object(i.useContext)(E.a).userOrderState,l=Object(N.c)((function(e){return e.storesReducer})),b=l.storesWithStatus,v=l.allStores,O=Object(N.c)((function(e){return e.profileReducer})),m=O.favouriteStores,f=O.savedAddresses,p=Object(N.c)((function(e){var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})).localized,h=void 0!==p&&p,g=Object(N.c)((function(e){return e.tenantReducer})),I=g.tenantId,T=void 0===I?"":I,C=g.storeSearch,A=void 0===C?{}:C,y=g.driveTime,_=Object(i.useState)([]),D=Object(j.a)(_,2),R=D[0],w=D[1],k=Object(i.useState)(!1),L=Object(j.a)(k,2),P=L[0],M=L[1],F=Object(x.Ab)(d.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):d.dispositionNew,H=F&&F.type?Object(x.I)(F.type):Object(x.I)(null===(t=g.authoredContent)||void 0===t?void 0:t.defaultdisposition);Object(i.useEffect)((function(){if((null===R||void 0===R?void 0:R.length)&&T){var e=[];R.forEach((function(t){e.push({storeId:t.storeBasic.id,channel:ya.b.channel,service:H})}));localStorage.getItem("setFav")||s(Object(Xa.c)({data:e,tenantId:T,isFavoritePage:!0}))}}),[T,null===R||void 0===R?void 0:R.length]),Object(i.useEffect)((function(){return window.scrollTo(0,0),s(Object(Xa.j)()),function(){s(Object(Xa.j)())}}),[]),Object(i.useEffect)((function(){(null===R||void 0===R?void 0:R.length)&&(null===b||void 0===b?void 0:b.length)&&(R.forEach((function(e){var t=b.find((function(t){return t.storeId===e.storeBasic.id}));t&&(e.summary=t.summary,e.isOpen=t.summary.status.currentStatus===r)})),w(R.filter((function(e){return e.summary}))))}),[null===b||void 0===b?void 0:b.length,null===R||void 0===R?void 0:R.length]),Object(i.useEffect)((function(){localStorage.getItem("renderComp")&&localStorage.getItem("setFav")&&(localStorage.removeItem("renderComp"),localStorage.removeItem("setFav"),s(Object(Xa.j)()),B())})),Object(i.useEffect)((function(){B(),P&&(Wt.b.dark(Object(u.jsxs)("div",{className:"img-text-div",children:[Object(u.jsx)(S.a,{srcFile:yt.a})," ",Object(u.jsx)("span",{className:"text",children:c})]}),{className:"coupon-toast-position",bodyClassName:"success-coupon-toast",hideProgressBar:!0,position:Wt.b.POSITION.BOTTOM_CENTER}),setTimeout((function(){Wt.b.dismiss()}),3e3))}),[m.length,P]);var B=function(){var e=JSON.parse(localStorage.getItem("storeInfo")),t=(null===f||void 0===f?void 0:f.length)?f.filter((function(e){return e.isPrimary})):[],a=e&&h?e:(null===t||void 0===t?void 0:t.length)&&t[0];if(a){var i=null===A||void 0===A?void 0:A.distanceMetrics;i=i!==n?window.google.maps.UnitSystem.IMPERIAL:window.google.maps.UnitSystem.METRIC;var c,o,r=m.map((function(e){var t,n=null===(t=e.storeBasic)||void 0===t?void 0:t.location;return{lat:n.latitude,lng:n.longitude}}));if(null===m||void 0===m?void 0:m.length)U([{lat:null===a||void 0===a||null===(c=a.location)||void 0===c?void 0:c.latitude,lng:null===a||void 0===a||null===(o=a.location)||void 0===o?void 0:o.longitude}],r,i);else w([]),M(!1)}else w(m),M(!1)},U=function(e,t,n){(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:Object(so.a)(e).slice(0,24),destinations:Object(so.a)(t).slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:n,avoidHighways:!1,avoidTolls:!1},G)},G=function(e,t){var n,i;i=e&&e.rows&&e.rows[0].elements.map((function(e){return e})),n=m.map((function(e,t){return Object(a.a)(Object(a.a)({},e),i[t])})),w(n),M(!1)};return Object(u.jsxs)("div",{className:"addresses-and-stores-container",children:[Object(u.jsxs)("div",{className:"my-delivery-addresses-header-mobile",children:[Object(u.jsx)("img",{className:"backArrow-account-setting",onClick:function(){return e.updateMenu("")},src:Of}),Object(u.jsx)("span",{className:"account-setting-text-header",children:Object(Se.e)(o)})]}),((null===R||void 0===R?void 0:R.length)>0||(null===b||void 0===b?void 0:b.length)>0)&&Object(u.jsx)(Af,{"data-testid":"favStore-list",removeFromFavoriteHandler:function(e){var t=pf.a.getCustomerIdFromToken();s(Object(Xa.m)({tenantId:T,customerId:t,storeId:e,dispatch:"dispatch"})),M(!0)},localized:h,history:e.history,storesReducer:b,favouriteStores:R,isMobile:e.isMobile}),Object(u.jsx)(Rf,{storeSearch:A,savedAddresses:f,isMobile:e.isMobile,tenantId:T,driveTime:y,allStores:v,updateMenu:e.updateMenu})]})},kf=function(e){var t=e.history,n=e.setShowKfcHeader,a=cs.d.ACCOUNT_SETTING,c=cs.d.ORDER_HISTORY_TAG,o=cs.d.ADDRESS,r=cs.d.MY_FAV_MENU,s=Object(i.useState)(Object(x.Hb)(window.innerWidth)),d=Object(j.a)(s,2),l=d[0],b=d[1],v=Object(i.useState)(""),O=Object(j.a)(v,2),m=O[0],f=O[1],p=Object(i.useContext)(E.a).userOrderState;Object(i.useEffect)((function(){window.addEventListener("resize",(function(){var e=Object(x.Hb)(window.innerWidth);b(e)}))}),[l]),Object(i.useEffect)((function(){return"GoToOrderHistory"!=localStorage.getItem("LoadMoreOrderHistory")&&!0!==t.location.isNavigatingFromReorder||f(c),function(){localStorage.setItem("LoadMoreOrderHistory",!1)}}),[]);var h=function e(i){switch(i){case a:return n(!1),Object(u.jsx)(ff,{updateMenu:function(e){return f(e)}});case c:return n(!1),Object(u.jsx)(lf,{isMobile:l,renderSwitch:e,updateMenu:function(e){return f(e)}});case o:return Object(u.jsx)(wf,{history:t,isMobile:l,updateMenu:function(e){return f(e)}});case r:return Object(u.jsx)(Sf,{isMobile:l,updateMenu:function(e){return f(e)}});default:return n(!0),l?Object(u.jsx)(ef,{isMobile:l,currentMenu:m,updateMenu:function(e){return f(e)}}):Object(u.jsx)(lf,{isMobile:l,renderSwitch:e,updateMenu:function(e){return f(e)}})}};return l?Object(u.jsxs)("div",{className:"mobile-order-history",children:[h(m),p.showCartClearAlert?Object(u.jsx)($d,{}):null]}):Object(u.jsxs)("div",{className:"account-desktop-container mt-5",children:[Object(u.jsx)("div",{className:"account-section-left",children:Object(u.jsx)(ef,{isMobile:l,currentMenu:m,updateMenu:function(e){return f(e)}})}),Object(u.jsx)("div",{className:"account-section-right",children:h(m)}),p.showCartClearAlert?Object(u.jsx)($d,{}):null]})},Lf=function(e){var t,n,a,o,r,s,d=f.a.DISPOSITION,l=Object(i.useState)(!0),b=Object(j.a)(l,2),v=b[0],O=b[1],m=Object(N.b)(),g=Object(N.c)((function(e){return e.appStateReducer.userStatus})),T=null,S=null,C=null,A=Object(i.useContext)(E.a),y=A.userOrderState,_=(A.userOrderStateDispatch,Object(N.c)((function(e){var t;return{marketPageContent:e.marketConfigReducer.response||null,tenantData:e.tenantReducer||null,userParams:e.appStateReducer.userStatus||null,homePageContent:Object(x.vb)(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t?void 0:t.response),tenantReducerContent:Object(x.vb)(null===e||void 0===e?void 0:e.tenantReducer)}})));if(Object(i.useEffect)((function(){var e;m(Object(h.a)({object:Object(I.a)(),contentFull:{content_type:"marketConfig","fields.location":null===_||void 0===_||null===(e=_.tenantData)||void 0===e?void 0:e.country,"fields.channel":ya.b.channel,include:5}}))}),[null===_||void 0===_||null===(t=_.tenantData)||void 0===t?void 0:t.country,m]),Object(i.useEffect)((function(){m(Object(p.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":ya.b.channel,include:"5"},userParams:_.userParams}))}),[_.userParams,m]),_.marketPageContent&&_.tenantData&&_.homePageContent){var D=_.marketPageContent.headerData,R=D.header,w=D.footer;T=Object(x.W)(R),S=Object(x.V)(_.homePageContent),C=Object(x.O)(w)}return Object(u.jsxs)(c.a.Fragment,{children:[Object(x.Bb)(T)&&(!Object(x.Hb)(window.innerWidth)||v)&&Object(u.jsx)(Qa,{contentData:T,tenantReducerData:_.tenantData,userParams:_.userParams})||null,Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null!==(n=null===(a=S)||void 0===a?void 0:a[d])&&void 0!==n?n:{},contentDispositionData:null!==(o=null===(r=S)||void 0===r?void 0:r[d])&&void 0!==o?o:{}},userParams:g,showHeader:!Object(x.Hb)(window.innerWidth)||v}),Object(u.jsx)(kf,{history:e.history,setShowKfcHeader:function(e){return O(e)}}),Object(x.Bb)(C)&&Object(u.jsx)(ba,{history:e.history,contentData:C,tenantReducerData:_.tenantData})||null,(null===(s=y.cartAlertData)||void 0===s?void 0:s.showCartAlert)&&Object(u.jsx)(Kb,{}),y.showCartClearAlert?Object(u.jsx)($d,{}):null]})},Pf=["ComponentToRender"],Mf=function(e){var t=e.ComponentToRender,n=Object(k.a)(e,Pf),i=Object(N.c)((function(e){return e.appStateReducer.userStatus||null})).loggedIn;return Object(u.jsx)(o.a,Object(a.a)(Object(a.a)({},n),{},{render:function(e){return i?Object(u.jsx)(t,Object(a.a)({},e)):Object(x.g)()}}))},Ff=function(e){var t=function(){var e=JSON.parse(localStorage.getItem("dispositionNew")),t=e&&e.type?e.type:"NA",n=e&&e.store&&e.store.id?e.store.id:"NA",a="undefined"!==typeof sessionStorage.getItem("userId")?sessionStorage.getItem("userId"):"NA",i=Object(N.c)((function(e){return e.appStateReducer})),c=null===i||void 0===i?void 0:i.userStatus;return{CollectionPoint:"NA",DispositionType:t,loggedIn:c.loggedIn,localized:c.localized,Platform:"web",StoreID:n,UserId:a}}(),n=Object(o.g)();return Object(i.useEffect)((function(){var e=n.pathname.substring(1)?n.pathname.substring(1):"NA";setTimeout((function(){sessionStorage.setItem("setAttributePayload",JSON.stringify(t)),Object(x.qc)(t),Object(x.jc)({triggeredEvent:"virtualPageView",path:"".concat(window.location.origin).concat(n.pathname),pageHeading:e})}),120)}),[n]),Object(u.jsx)(c.a.Fragment,{children:e.children})},Hf=function(e){var t,n,a;return(null===e||void 0===e?void 0:e.fulfillmentDateTime)&&(null===e||void 0===e||null===(t=e.store)||void 0===t?void 0:t.phoneNumber)&&(null===e||void 0===e||null===(n=e.foodLines)||void 0===n?void 0:n.length)&&(null===e||void 0===e?void 0:e.subTotal)&&(null===e||void 0===e?void 0:e.total)&&(null===e||void 0===e||null===(a=e.paymentReferences)||void 0===a?void 0:a.length)&&(null===e||void 0===e?void 0:e.posOrderId)&&(null===e||void 0===e?void 0:e.service)},Bf=function(){var e=Object(i.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(N.c)((function(e){return e})),s=r.tenantReducer,d=r.profileReducer,l=r.postOrderReducer,b=(void 0===l?{}:l).orderAccepted,v=void 0===b?{}:b,O=Object(N.b)(),m=Object(o.f)(),f=Object(o.h)().order_id,p=function(){c(!1),m.push({pathname:T.gb.ORDER_DETAILS})};Object(i.useEffect)((function(){var e={tenantId:null===s||void 0===s?void 0:s.tenantId,orderId:f,customerId:null===d||void 0===d?void 0:d.customerId};(null===s||void 0===s?void 0:s.tenantId)&&wr.e&&O(Object(tn.a)(e,(function(e){var t;(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.toUpperCase())===T.Z.SENT_TO_POS_COMPLETED&&Hf(e)?c(!0):p()}),p))}),[null===s||void 0===s?void 0:s.tenantId,null===d||void 0===d?void 0:d.customerId,wr.e]);var h={role:"dialog",modalTitleId:"order-details-modal",show:!0,classNames:"Base-modal Receipt-modal",showCloseBtn:!0,closeButtonHandler:function(){c(!1),m.push({pathname:T.gb.HOME_PAGE})},modalTitle:Object(Se.e)("orderReceipt"),showBackBtn:!1,closeDataTestId:"close-order-details-modal",id:"OrderDetailsModal",autoFocus:!0};return Hf(v)&&n?Object(u.jsx)(jt,Object(a.a)(Object(a.a)({},h),{},{children:Object(u.jsx)("div",{"data-testid":"order-details-receipt-modal",className:"ReceiptModal",children:Object(u.jsx)(eb,{orderItem:v})})})):null},Uf=function(e){var t=Object(N.b)(),n=Object(N.c)((function(e){return e.tenantReducer})),a=Object(i.useContext)(E.a),c=a.userOrderState,o=a.userOrderStateDispatch,r=(Object(x.Ab)(c.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===c||void 0===c?void 0:c.dispositionNew)||{},s=r.type,d=void 0===s?"":s,l=r.store,b=l&&l.summary&&l.summary.menu&&l.summary.menu.catalogs&&l.summary.menu.catalogs.length&&l.summary.menu.catalogs[0]||(null===n||void 0===n?void 0:n.genericMenuName)||"",v={CLEAR_ALL_MSG:{MSGTXT1:Object(Se.e)("cartError_explore"),MSGTXT2:Object(Se.e)("outOfStock"),MSGTXT3:Object(Se.e)("cartError_sorryFoodNotAvailable")},CONTINUE:Object(Se.e)("continue")},j=function(){o({type:Ae.a.SHOW_CART_ERROR_MODAL,value:{showCartErrorModal:!1}}),t(Object(St.d)({type:Ae.a.CART_DATA_ERROR_RESET})),t(Object(ui.d)({tenantId:null===n||void 0===n?void 0:n.tenantId,catalogName:b},{storeId:l.id,channel:He,service:d}))};return Object(u.jsx)(u.Fragment,{children:!0===(null===c||void 0===c?void 0:c.showCartErrorModal)&&Object(u.jsx)(Ti,{handleClose:j,classNames:"clear-cart-modal",CartAlertForm:Object(u.jsx)(xi,{splitTitle:v.CLEAR_ALL_MSG,imageSrc:Zd,altText:"cart-error",confirmButtonText:"Continue",confirmHandler:j})})})},Gf={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"},Yf=n(739),Kf=n(738),Vf=function(e){var t=e.children,n=e.id,a=e.title,i=e.placement,c=void 0===i?"top":i;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Yf.a,{placement:c,overlay:Object(u.jsx)(Kf.a,{id:"tooltip-".concat(n),children:a}),children:t},n)})},Wf=function(e){return(null===e||void 0===e?void 0:e.filter((function(e){return null===e||void 0===e?void 0:e.isDefault})))[0]};function qf(e){var t=e.pdpData,n=e.getDname,a=e.veg,i=e.Non_veg_dot_Icon,o=e.Veg_dot_Icon,r=e.modgrps,s=e.customizable,d=e.isActive,l=e.itemStatus,b=e.IS_OUT_OF_STOCK,v=e.setAsActiveLink,j=e.PDPEditIconDisabled,O=e.PDPEditIcon,m=e.isMobile,f=e.quantityUpdateTemplate,p=e.addToCartTemplate,h=e.makeItComboHandler,g=e.isIpad,N=e.comboData,E=r.length>0&&s&&function(e){return e.map((function(e){return!e.isHidden&&Object(u.jsxs)("div",{className:"pdp-receipt-modGrp-container".concat(d===e.id?" activeGroup":""),children:[d===e.id?Object(u.jsx)("span",{className:"arrowed"}):null,Object(u.jsxs)("span",{className:"pdp-receipt-modgrp",children:[Object(x.nc)(n(e),14,g)," :"]}),Object(u.jsx)(Vf,{id:e.id,placement:"top",title:n(Wf(e.modifiers)),children:Object(u.jsx)("span",{className:"pdp-receipt-modifiers",children:Object(x.nc)(n(Wf(e.modifiers)),16,g)})}),Object(u.jsx)("a",{className:"editIcon","data-testid":"set-active-link-handler-".concat(e.id),onClick:function(t){return v(t,e.id)},disabled:l===b&&!0,children:Object(u.jsx)("img",{className:"pdp-summary-edit-icon",src:l===b?j:O})})]},e.id)}))}(r),I=!s&&Object(u.jsxs)("div",{className:"d-flex item_details",children:[Object(u.jsxs)("label",{children:[Object(Se.e)("mainEntree"),":"]}),Object(u.jsx)(Vf,{id:"entree",placement:"top",title:n(t),children:Object(u.jsx)("span",{children:Object(x.nc)(n(t),26,g)})})]}),T=m?Object(u.jsxs)("div",{className:"pdp-mobile-quantity-price fixedDiv",children:[Object(u.jsx)("div",{className:"pdp-quantity-block",children:f()}),p()]}):Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{className:"pdp-quantity-block",children:[Object(u.jsx)("label",{className:"qty",children:Object(Se.e)("quantity")}),f()]}),p()]}),S=Object(x.r)(!s,N>0)&&Object(u.jsx)(is.Link,{activeClass:"active",className:"combo-btn",to:"pdp-combo",offset:0,spy:!0,smooth:!0,children:Object(u.jsx)(Va.a,{tabIndex:"1",className:"button whiteButton blackBorder pdp-combo-button","data-testid":"makeitcombo-btn",onClickHandler:h,children:Object(u.jsx)("span",{children:Object(Se.e)("makeItACombo")})})});return Object(u.jsx)("div",{className:"pdp-receipt-card",children:Object(u.jsxs)("form",{className:"pdp-receipt-form",children:[Object(u.jsx)("div",{className:"pdp-receipt-header",children:n(t)}),Object(u.jsx)("img",{className:"pdp-summary-vegOrNonVeg-icon",src:a?o:i}),Object(u.jsxs)("div",{className:"pdp-receipt-veg",children:[a?Object(Se.e)("veg"):Object(Se.e)("nonveg")," \u2022 Serves 4"]}),Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{className:"pdp-receipt-list",children:[E,I]}),T,S]})]})})}var zf=c.a.memo(qf),Qf=n.p+"static/media/PDPEditIcon.8cbb7590.svg",Jf=n.p+"static/media/PDPEditIconDisabled.ec35a770.svg",Xf=function(e){return(null===e||void 0===e?void 0:e.dname)&&(null===e||void 0===e?void 0:e.dname[0])?null===e||void 0===e?void 0:e.dname[0].value:(null===e||void 0===e?void 0:e.name)||"No Name"},Zf=function(e){var t=e.pdpData,n=e.addtoCartClinckHandler,a=e.customModGrps,c=void 0===a?{}:a,o=e.modifiedPrice,r=e.categoryId,s=e.isIpad,d=e.comboData,l=t||{},b=l.id,v=l.additionalProperties,O=void 0===v?{}:v,m=l.customizable,f=void 0!==m&&m,p=l.availability,h=l.modgrps,g=cr.ITEM_QUANTITY,I=Dn.a.QUANTITY_ACTION,T=bi.a.EXPAND_ACCORDIAN,S=bi.a.IS_OUT_OF_STOCK,C=bi.a.IS_IN_STOCK,A=Object(i.useState)(Object(x.Hb)(window.innerWidth)),y=Object(j.a)(A,2),_=y[0],D=y[1],R=Object(i.useState)(),w=Object(j.a)(R,2),k=w[0],L=w[1],P=Object(i.useState)(1),M=Object(j.a)(P,2),F=M[0],H=M[1],B=Object(i.useState)(C),U=Object(j.a)(B,2),G=U[0],Y=U[1],K=Object(N.b)(),V=Object(N.c)((function(e){return e.tenantReducer})),W=Object(N.c)((function(e){return e.appStateReducer.userStatus})),q=(Object(N.c)((function(e){return e.cartReducer}))||{}).cartData,z=void 0===q?{}:q,Q=O.veg,J=function(){var e=Object(x.Hb)(window.innerWidth);D(e)},X=Object(i.useContext)(E.a),Z=X.userOrderState,$=X.userOrderStateDispatch,ee=Z.pdpScreenCommons.currentAccordian;Object(i.useEffect)((function(){c.length&&h.length&&L(h[0].id)}),[c,h]),Object(i.useEffect)((function(){window.addEventListener("resize",J)}),[_]);var te=function(e,t){if(G===S)return!1;e&&(e.preventDefault(),e.stopPropagation()),$({type:T,value:t});var n=document.getElementById("accordion-"+t);null===n||void 0===n||n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),L(t)};Object(i.useEffect)((function(){return function(){$({type:T,value:""})}}),[]),Object(i.useEffect)((function(){ee&&te(null,ee)}),[ee]);var ne=function(){var e=Object(be.a)(ue.a.mark((function e(t){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),W.localized){e.next=5;break}n(),e.next=9;break;case 5:return a=f?c:[],e.next=8,K(Object(St.a)({params:{basketId:z.id},tenantId:null===V||void 0===V?void 0:V.tenantId},[{Id:b,categoryId:r,quantity:F,modGrps:a}]));case 8:H(1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e,t,n){n.preventDefault(),n.stopPropagation(),t===I.Decrease&&F>1&&H(F-1),t===I.Increase&&H(F+1)},ie=function(e){var t;if(Object(x.Bb)(e)&&(t=Object(x.gb)(e,null===V||void 0===V?void 0:V.currencyConversionFactor)||0),f)t=e;else if(0===t)return Y(S),Object(Se.e)("outOfStock");var n=F*t;return"".concat(null===V||void 0===V?void 0:V.currencySymbol," ").concat(Math.round(100*n)/100)};return Object(x.Bb)(t)?Object(u.jsx)(zf,{"data-testid":"pdp-summary-view",pdpData:t,getDname:Xf,veg:Q,Non_veg_dot_Icon:Ss,Veg_dot_Icon:Cs,modgrps:h,customizable:f,isActive:k,itemStatus:G,IS_OUT_OF_STOCK:S,setAsActiveLink:te,PDPEditIconDisabled:Jf,PDPEditIcon:Qf,isMobile:_,isIpad:s,quantityUpdateTemplate:function(){return Object(u.jsx)("div",{className:"quantityAddtocart qty-calc mg-set ".concat(F?"cardwithQuantity "+W.loggedIn:"cardwithNoquantity"),children:Object(u.jsx)(as,{itemCount:F,itemQuantity:g,updateItemQuantity:ae,quantityAction:I,item:void 0,itemName:Xf(t),maxItemCountPerLineItem:null===V||void 0===V?void 0:V.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})})},addToCartTemplate:function(){return Object(u.jsx)(Va.a,{tabIndex:"1",className:"button redButton pdp-cart-button","data-testid":"add-to-cart-handler",onClick:function(e){return ne(e)},disabled:G===S,children:G===S?Object(u.jsx)("span",{className:"outofstock",children:Object(Se.e)("outOfStock")}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{children:Object(Se.e)("addToCart")}),p&&p.length&&Object(u.jsx)("span",{children:ie(f?o:p[0])})]})})},makeItComboHandler:function(e){if(G===S)return!1;e.preventDefault()},comboData:d}):Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(Se.e)("turnedNoResult")})},$f=function(e){var t=e.shortDescription,n=e.longDescription,a=e.isMobile,c=e.tenantData,o=bi.a.SHORT,r=bi.a.READ_MORE,s=bi.a.READ_LESS,d=bi.a.LONG,l=bi.a.INDIA,b=bi.a.MAX_LENGTH_READ,v=Object(i.useState)(""),O=Object(j.a)(v,2),m=(O[0],O[1]),f=Object(i.useState)(""),p=Object(j.a)(f,2),h=p[0],g=p[1],N=Object(i.useState)(o),E=Object(j.a)(N,2),I=E[0],T=E[1];Object(i.useEffect)((function(){t&&t.length&&m(t[0].value)}),[t]),Object(i.useEffect)((function(){n&&n.length&&g(n[0].value)}),[n]);var C=function(){T(I===o?d:o)};return Object(u.jsxs)("div",{className:"pdp-desc",children:[Object(u.jsx)("div",{className:"d-flex mb-4",children:Object(u.jsx)(S.a,{srcFile:Aa,className:"stripes-img"})}),Object(u.jsxs)("span",{className:"pdp-desc-header",children:[" ",ep(Se.e,c,l)," "]}),a?Object(u.jsxs)("div",{className:"desc-box",children:[I===o?Object(x.nc)(h,b,!1):h,Object(u.jsx)("span",{className:"readMoreLess","data-testid":"read-more-less",onClick:C,children:I===o?Object(Se.e)(r):Object(Se.e)(s)})]}):Object(u.jsx)("div",{className:"desc-box",children:h})]})};function ep(e,t,n){return(null===t||void 0===t?void 0:t.country)===n?e("insideYourMeal"):e("mealOptions")}var tp=function(e){var t=e.redirectLink,n=Object(i.useState)(!1),a=Object(j.a)(n,2),c=a[0],o=a[1],r=Object(i.useState)(0),s=Object(j.a)(r,2),d=s[0],l=s[1];Object(i.useEffect)((function(){var e=function(){var e=document.documentElement.scrollTop;o(!(e<100)),l(e<=0?0:e)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[d]);return Object(u.jsxs)(M,{href:t,className:"".concat(c?"floating view_menu_link":"view_menu_link"),spy:!0,"data-testid":"viewMenu-test-id",children:[Object(u.jsxs)("span",{className:"grid-icon grid-icon--line2",children:[Object(u.jsxs)("span",{class:"layer layer--primary",children:[Object(u.jsx)("span",{}),Object(u.jsx)("span",{})]}),Object(u.jsxs)("span",{class:"layer layer--secondary",children:[Object(u.jsx)("span",{}),Object(u.jsx)("span",{})]})]}),Object(u.jsx)("label",{className:"view_menu",children:function(){var e=Object(Se.e)("view"),t=Object(Se.e)("menuTitle");return"".concat(e," ").concat(t)}()})]})},np=function(e,t,n,a){return Object(u.jsxs)(u.Fragment,{children:[!e&&Object(u.jsx)(tp,{redirectLink:"/menu"}),Object(u.jsx)(S.a,{defaultPath:Object(x.S)(null,n,!0),srcFile:Object(x.S)(t.imageName,n),className:"".concat(a?"pdp-product-mobile-image":"pdp-product-image")})]})},ap=function(e){var t=e.productDetails,n=e.tenantData,c=e.isMobile,o=e.displayBreadcrumbPDP,r=e.isIpad,s=e.product_name,d=Ae.a.ADD_TO_CART_CLICK,l=Ae.a.DISPOSITION_DATA,b=bi.a.CUSTM_EXPAND_TYPE,v=bi.a.MAKE_IT_COMBO_HEADER,O=bi.a.MAKE_IT_COMBO_SUBHEADER,m=bi.a.UPSELL,f=bi.a.CROSSELL,p=bi.a.PDP,h=Kr,g=Object(x.sb)(t).isFromPlp,I=void 0!==g&&g,T=Object(i.useState)({}),S=Object(j.a)(T,2),C=S[0],A=S[1],y=Object(i.useState)(),_=Object(j.a)(y,2),D=_[0],R=_[1],w=Object(i.useState)(0),k=Object(j.a)(w,2),L=k[0],P=k[1],M=Object(i.useState)([]),F=Object(j.a)(M,2),H=F[0],B=F[1],U=Object(i.useState)([]),G=Object(j.a)(U,2),Y=G[0],K=G[1],V=Object(i.useState)({}),W=Object(j.a)(V,2),q=W[0],z=W[1],Q=Object(i.useContext)(E.a).userOrderStateDispatch,J=Object(N.c)((function(e){return e.menuReducer.currentItemDetails}));Object(i.useEffect)((function(){Q({type:b,value:"single"})}),[]),Object(i.useEffect)((function(){if(Object(x.r)(Object(x.Bb)(J),(null===J||void 0===J?void 0:J.url)===s)){var e=J.additionalProperties,n=Object(x.Nb)(e)||{};A(Object(a.a)(Object(a.a)({},J),{},{additionalProperties:n,quantityAddedCart:null===t||void 0===t?void 0:t.quantity,catalogName:t.catalogName,itemId:t.productId}));var i=function(e,t,n){var a={combo:[],recommendation:[]};if(Object(x.bb)(e)){var i=e.find((function(e){return e.recommendationType===t})),c=e.find((function(e){return e.recommendationType===n}));a.combo=Object(x.lb)(Object(x.Bb)(i),null===i||void 0===i?void 0:i.recommendedItems,[]),a.recommendation=Object(x.lb)(Object(x.Bb)(c),null===c||void 0===c?void 0:c.recommendedItems,[])}return a}(null===J||void 0===J?void 0:J.recommendationRules,m,f);B(i.combo),K(i.recommendation),z(J)}}),[JSON.stringify(J)]);var X=function(e,t,a,i,c){return Object(u.jsx)(zd,{products:t,country:null===n||void 0===n?void 0:n.country,cssClass:c,header:a,subHeader:i,recommendedRule:e,source:p})},Z=function(){Q({type:l,value:{showDisposition:!0}}),Q({type:d,value:{addToCart:!0,productItemId:t.productId,categoryId:t.categoryId,oldProduct:t.productInfo,customizable:t.customizable,catalogs:t.catalogName,fromPdpPage:!0}})},$=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Zf,{pdpData:C,isMobile:c,isIpad:r,addtoCartClinckHandler:Z,customModGrps:D,modifiedPrice:L,categoryId:t.categoryId,comboData:null===H||void 0===H?void 0:H.length})})};return Object(x.Bb)(C)&&Object(x.Bb)(q)&&Object(x.Bb)(n)?Object(u.jsxs)(u.Fragment,{children:[!c&&Object(u.jsx)("div",{className:"pdp-navigation",children:o}),Object(u.jsxs)("div",{className:"".concat(c?"pdp-mobile-container ":"pdp-details-container"),children:[!c&&Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("div",{className:"image-container",children:np(I,C,n,c)}),q.modgrps&&$()]}),c&&Object(u.jsxs)("div",{className:"pdp-mobile-image-container",children:[np(I,C,n,c),Object(u.jsx)("div",{className:"pdp-mobile-navigation",children:o}),q.modgrps&&$()]})]}),Object(u.jsx)("div",{className:"pdp-desc-container ".concat(c?"mobile":""),children:!!Object(x.Bb)(q)&&Object(u.jsx)("div",{className:"d-flex",children:Object(u.jsx)($f,{shortDescription:q.shortDescription,longDescription:q.longDescription,isMobile:c,tenantData:n})})}),C.customizable&&Object(u.jsx)("div",{className:"pdp-custm-container ".concat(c?"mobile":""),children:Object(u.jsx)("div",{className:"d-flex",children:Object(u.jsx)(Id,{data:q,isModal:!1,showPriceContent:!1,isMobile:c,callBackToPDP:function(e){var t=e.modifierGrp,n=void 0===t?{}:t,a=e.modifiedItemPrice,i=void 0===a?0:a;R(n),P(i)},source:p})})}),Object(x.r)((null===H||void 0===H?void 0:H.length)>0,!q.customizable)&&X(m,H,Object(Se.e)(v),Object(Se.e)(O),"pdp-combo"),(null===Y||void 0===Y?void 0:Y.length)>0&&X(f,Y,h,"","pdp-recommendations")]}):Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(Se.e)("turnedNoResult")})},ip=function(e,t,n,a){var i,c,o,r,s,d,l=null!==(i=null===n||void 0===n||null===(c=n.categoryMapById)||void 0===c?void 0:c[e])&&void 0!==i?i:{},u=l?Object(x.L)(l,n,[null===l||void 0===l?void 0:l.name],a):"",b=null!==(o=null===n||void 0===n||null===(r=n.itemMapById)||void 0===r?void 0:r[t])&&void 0!==o?o:{};return Object(x.r)(l,b)?"".concat(u," > ").concat(null===b||void 0===b||null===(s=b.dname)||void 0===s||null===(d=s[0])||void 0===d?void 0:d.value):""},cp=function(e,t,n,a,i,c,o,r,s,d){return Object(u.jsx)("div",{className:"pdp-container",children:e&&(null===t||void 0===t?void 0:t.tenantId)&&Object(u.jsx)(ap,{tenantData:t,isIpad:d,productDetails:e,isMobile:n,displayBreadcrumbPDP:ip(a,i,o,s),isStoreClosed:r,product_name:c})})},op=function(e){var t,n,c,r,s,d=e.tenantData,l=e.contentData,b=e.match,v=e.history,O=e.setStoreClosedInfo,m=b.params,p=m.category_name,h=void 0===p?"":p,g=m.product_name,T=void 0===g?"":g,S=l.storeInfo,C=l.dispositionType,A=l.selectedDate,y=l.selectedTime,_=d.tenantId,D=d.currencyConversionFactor,R=d.country,w=bi.a.SET_PDP_DEEPLINK_MODE,k=bi.a.RESET_MODGROUP_IDS_UPDATE,L=bi.a.YYYYMMDD,P=bi.a.YYYYMMDD_hhmm_A,M=Ae.a.PLP_PDP_DETAILS,F=Ae.a.MENU_URL,H=Ae.a.CLOSED,B=Object(i.useContext)(E.a),U=B.userOrderStateDispatch,G=B.userOrderState,Y=G.pdpDeepLinking,K=G.ProductDetails,V=Object(x.sb)(K).isFromPlp,W=void 0!==V&&V,q=Object(i.useState)(Object(x.Hb)(window.innerWidth)),z=Object(j.a)(q,2),Q=z[0],J=z[1],X=Object(i.useState)(Object(x.Eb)()),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te=Object(i.useState)(""),ne=Object(j.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(i.useState)(""),oe=Object(j.a)(ce,2),re=oe[0],se=oe[1],de=Object(i.useMemo)((function(){return null!==K&&void 0!==K?K:{}}),[K]),le=f.a.SERVICE_CHANNEL,ue=(null===S||void 0===S||null===(t=S.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(c=n.catalogs)||void 0===c?void 0:c[0])||(null===d||void 0===d?void 0:d.genericMenuName)||"",be=(null===S||void 0===S?void 0:S.id)||"",ve=C,je=Object(N.b)(),Oe=null!==(r=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==r?r:{},me=Oe.flatResponse,fe=void 0===me?{}:me,pe=Oe.currentItemDetails,he=void 0===pe?{}:pe,ge=Object(N.c)((function(e){return e.storesReducer})).storesTimeSlots,Ne=Object(i.useState)(!1),xe=Object(j.a)(Ne,2),Ee=xe[0],Ie=xe[1],Te=Object(o.g)(),Ce=function(){var e=Object(x.Hb)(window.innerWidth),t=Object(x.Eb)();J(e),ee(t)};Object(i.useEffect)((function(){if(U({type:k}),window.scrollTo(0,0),U({type:w,value:{pdpDeepLinking:!W}}),Object(x.r)(A,y)){var e=Do(y),t=Object(ye.k)(Object(ye.e)(A,L)+" "+e,P),n={storeid:be,channel:ya.b.channel,service:ve,futureDateTimeInEpochFormat:t};je(Object(Xa.g)({data:n,tenantId:_}))}!function(e){if(e){var t,n,a,i=[{item_name:(null===e||void 0===e||null===(t=e.productInfo)||void 0===t||null===(n=t.productName[0])||void 0===n?void 0:n.value)||"NA",item_id:(null===e||void 0===e?void 0:e.productId)||"NA",price:(null===e||void 0===e||null===(a=e.productInfo)||void 0===a?void 0:a.productPrice)||"NA",item_category:(null===e||void 0===e?void 0:e.catalogName)||"NA",item_list_name:(null===e||void 0===e?void 0:e.catalogName)||"NA",item_list_id:(null===e||void 0===e?void 0:e.categoryId)||"NA",index:1,quantity:1}];rt(i)}}(de)}),[]),Object(i.useEffect)((function(){if(ge){var e,t,n,i=Object(a.a)(Object(a.a)({},S),{},{summary:ge}),c=Object(x.sb)(null===i||void 0===i||null===(e=i.summary)||void 0===e?void 0:e.timings),o=c.futureDates,r=c.scheduled,s=c.asap,d=Object(x.sb)(r).unavailibilities,l=Object(x.sb)((null===r||void 0===r||null===(t=r.periods)||void 0===t?void 0:t.length)&&(null===r||void 0===r?void 0:r.periods[0])),u=l.interval,b=void 0===u?0:u,j=l.startEndTime,m=void 0===j?{}:j,f=m.from,p=m.to,h=Zv(f,p,b,s,o,R,d);(null===ge||void 0===ge||null===(n=ge.status)||void 0===n?void 0:n.currentStatus)!==H||h.length?Ie(!1):(O(i),Ie(!0),v.push({pathname:"".concat(F)}))}}),[ge]),Object(i.useEffect)((function(){(function(e,t,n){return e===(null===n||void 0===n?void 0:n.genericMenuName)||e&&t})(ue,ve,d)&&je(Object(ui.d)({tenantId:_,catalogName:ue},{storeId:be,channel:le,service:ve}))}),[be,ve]),Object(i.useEffect)((function(){if(Object(x.r)(ae===(null===he||void 0===he?void 0:he.id),Y)){var e={productImage:null===he||void 0===he?void 0:he.imageName,productName:null===he||void 0===he?void 0:he.dname,productPrice:Object(x.gb)(null===he||void 0===he?void 0:he.availability[0],D)},t={productId:ae,customizable:null===he||void 0===he?void 0:he.customizable,categoryId:re,catalogName:null===fe||void 0===fe?void 0:fe.catalogName,productInfo:e,isFromPlp:W};U({type:M,value:t})}}),[JSON.stringify(he)]);var _e=Object(N.c)((function(e){var t=e.brandPageReducer,n=null!==t&&void 0!==t?t:{},a=n.isBrandPageContentLoading,i=void 0!==a&&a,c=n.response,o=(c=void 0===c?{}:c).headerData;return{isBrandPageContentLoading:i,brandRoutePath:(o=void 0===o?{}:o).routePath}})),De=_e.isBrandPageContentLoading,Re=_e.brandRoutePath,we=Object(i.useState)(!1),ke=Object(j.a)(we,2),Le=ke[0],Pe=ke[1];return Object(i.useEffect)((function(){if(fe){var e,t,n,a,i=null!==(e=null===fe||void 0===fe||null===(t=fe.itemMapByUrl)||void 0===t?void 0:t[T])&&void 0!==e?e:{},c=null!==(n=null===fe||void 0===fe||null===(a=fe.categoryMapByUrl)||void 0===a?void 0:a[h])&&void 0!==n?n:{};se(null===c||void 0===c?void 0:c.id);var o=null===i||void 0===i?void 0:i.id;ie(o);var r=function(e,t,n,a){var i=e.productDetails,c=e.tenantData,o=e.pdpDeepLinking,r=void 0;if(Object(x.Bb)(i)&&Object(x.Bb)(c)&&!o)r=i.productId;else if(o){var s,d,l=null===t||void 0===t||null===(s=t.itemMapById)||void 0===s?void 0:s[a],u=null===t||void 0===t||null===(d=t.productMapById)||void 0===d?void 0:d[a];r=(null===u||void 0===u?void 0:u.name)===(null===l||void 0===l?void 0:l.name)&&a}return r}({history:v,productDetails:de,tenantData:d,pdpDeepLinking:Y},fe,0,o);r?je(Object(ui.c)({tenantId:_,catalogName:ue,itemId:r})):Y&&!Le&&(null===Te||void 0===Te?void 0:Te.pathname)&&(Pe(!0),je(Object(Vb.c)({object:Object(I.a)(),contentFull:{content_type:Wb.a.Template2,select:"sys.id,fields","fields.routePath":null===Te||void 0===Te?void 0:Te.pathname,include:5}})))}}),[JSON.stringify(fe),Y,Le,null===Te||void 0===Te?void 0:Te.pathname]),Object(i.useEffect)((function(){Le&&!De&&rs()(Re)&&(v.push({pathname:"".concat(F)}),Object(x.lc)(Object(Se.e)("exploreFoodItem")))}),[Le,De,Re]),Object(i.useEffect)((function(){window.addEventListener("resize",Ce)}),[ae]),Object(i.useEffect)((function(){window.addEventListener("resize",Ce)}),[Q,$]),Re?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Xb,Object(a.a)({routePath:null===Te||void 0===Te?void 0:Te.pathname,hideNav:!0},e)),";"]}):Object(u.jsxs)(u.Fragment,{children:[cp(de,d,Q,re,ae,T,fe,Ee,ue,$),G.addToCart&&G.isLocalized&&G.fromPdpPage&&Object(u.jsx)(Yb,{flatResponse:fe,tenantReducer:d}),(null===(s=G.cartAlertData)||void 0===s?void 0:s.showCartAlert)&&Object(u.jsx)(Kb,{})]})},rp=function(e){var t,n,r,s=Object(i.useContext)(E.a),d=s.userOrderState,l=s.userOrderStateDispatch,b=Object(N.c)((function(e){return e.tenantReducer})),v=(null!==(r=Object(N.c)((function(e){return e.menuReducer})))&&void 0!==r?r:{}).flatResponse,O=(v=void 0===v?{}:v).categoryMapByUrl,m=void 0===O?{}:O,f=v.itemMapByUrl,p=void 0===f?{}:f,h=Object(o.h)(),g=h.category_name,I=h.product_name,S=Object(i.useState)(T.eb),C=Object(j.a)(S,2),A=C[0],y=C[1],_=Object(i.useState)(),D=Object(j.a)(_,2),R=D[0],w=D[1],k=Object(x.Ab)(d.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):d.dispositionNew,L=Object(i.useMemo)((function(){var e,t;return{tenantReducer:null!==b&&void 0!==b?b:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:null!==(e=null===k||void 0===k?void 0:k.store)&&void 0!==e?e:{},selectedDate:null===k||void 0===k?void 0:k.date,selectedTime:null===k||void 0===k?void 0:k.time,dispositionType:Object(x.I)((null===k||void 0===k?void 0:k.type)||(null===(t=b.authoredContent)||void 0===t?void 0:t.defaultdisposition)),selectedTile:(null===d||void 0===d?void 0:d.selectedTile)||JSON.parse(localStorage.getItem("selectedTile"))}}),[k,b,d]),P=null,M=null,F=null,H=Gf.DISPOSITION,B=Object(N.b)(),U=Object(N.c)((function(e){return e.appStateReducer.userStatus}));Object(i.useEffect)((function(){B(lb(b))}),[B,null===b||void 0===b?void 0:b.country]),Object(i.useEffect)((function(){B(ub(U))}),[B,U]),Object(i.useEffect)((function(){var e,t=null!==(e=function(e,t,n,a,i){var c=null===t||void 0===t?void 0:t[a],o=null===n||void 0===n?void 0:n[i];if(c&&o){var r,s,d,l=null!==o&&void 0!==o?o:{},u=l.dname;u=void 0===u?[]:u;var b=Object(j.a)(u,1)[0],v=(b=void 0===b?{}:b).value,O=l.shortDescription;O=void 0===O?[]:O;var m=Object(j.a)(O,1)[0],f=(m=void 0===m?{}:m).value,p=l.longDescription;p=void 0===p?[]:p;var h=Object(j.a)(p,1)[0],g=(h=void 0===h?{}:h).value,N=l.imageName,E=void 0===N?[]:N,I=T.eb,S=(null!==c&&void 0!==c?c:{}).dname;S=void 0===S?[]:S;var C=Object(j.a)(S,1)[0];return{seoPageName:I,seoObject:{Category:(C=void 0===C?{}:C).value,Product:v,ProductURL:null===(r=window)||void 0===r||null===(s=r.location)||void 0===s?void 0:s.href,ProductDescription:null!==(d=null!==g&&void 0!==g?g:f)&&void 0!==d?d:v,ProductImage:Object(x.S)(E,e)}}}}(b,m,p,g,I))&&void 0!==e?e:{},n=t.seoPageName,a=t.seoObject;y(n),w(a)}),[g,I]);var G=Object(N.c)((function(e){return{homePageContent:e.contentReducer.response,marketPageContent:e.marketConfigReducer.response,tenantReducerContent:e.tenantReducer}}));if(G.marketPageContent&&G.tenantReducerContent&&G.homePageContent){P=Object(x.V)(G.homePageContent)||null;var Y=G.marketPageContent.headerData||{},K=Y.header,V=void 0===K?{}:K,W=Y.tenant,q=void 0===W?[]:W,z=Y.footer,Q=void 0===z?{}:z;M=Object(x.W)(V),F=Object(x.O)(Q),Object(x.jb)(q)}return Object(u.jsxs)(c.a.Fragment,{children:[A&&Object(u.jsx)(Yr,{page:A,seoObj:R}),M&&Object(u.jsx)(Qa,{contentData:M,tenantReducerData:G.tenantReducerContent,userParams:U}),Object(u.jsx)(Bo,{contentData:{segmentedHomePageData:null===(t=P)||void 0===t?void 0:t[H],contentDispositionData:null===(n=P)||void 0===n?void 0:n[H]},userParams:U}),Object(u.jsx)(op,Object(a.a)(Object(a.a)({tenantData:b,contentData:L},e),{},{setStoreClosedInfo:function(e){Object(x.hc)(e,l,k,Object(x.G)(L.dispositionType))}})),F&&Object(u.jsx)(ba,{history:e.history,contentData:F,tenantReducerData:G.tenantReducerContent}),d.showCartClearAlert&&Object(u.jsx)($d,{})]})},sp={"/cart":T.fb.CART,"/offers":T.fb.OFFERS,"/login":T.fb.LOGIN,"/help":T.fb.HELP,"/checkout":T.fb.CHECKOUT,"/payment-failure":T.fb.PAYMENT_FAILURE,"/payment-success":T.fb.PAYMENT_SUCCESS,"/payment-status-check":T.fb.PAYMENT_STATUS,"/ourads":T.fb.OUR_ADDS,"/contactus":T.fb.CONTACT_US,"/terms-of-use":T.fb.TERMS_OF_USE,"/terms-and-conditions":T.fb.TERMS_CONDITIONS,"/faq":T.fb.FAQ,"/giftcards":T.fb.GIFT_CARD,"/privacypolicy":T.fb.PRIVACY_POLICY,"/signout":T.fb.SIGN_OUT,"/account":T.fb.ACCOUNT},dp=function(e){var t,n,c,o=Object.assign({},e),r=Object(i.useState)(""),s=Object(j.a)(r,2),d=s[0],l=s[1],b=null===(t=window)||void 0===t||null===(n=t.location)||void 0===n||null===(c=n.pathname)||void 0===c?void 0:c.trim().toLowerCase();return Object(i.useEffect)((function(){var e,t=null===sp||void 0===sp?void 0:sp[b],n=t&&Object(Se.e)(t),a=null!==(e=null!==n&&void 0!==n?n:Object(O.startCase)(b))&&void 0!==e?e:T.P;l(a)}),[b]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Hr.a,{children:Object(u.jsx)("title",{children:d})}),Object(u.jsx)(L.a,Object(a.a)({},o))]})},lp=n(398),up=n.n(lp),bp=n(399),vp=n.n(bp),jp=Wb.a.Template1,Op=Wb.a.Template2,mp=function(e){var t,n=Object.assign({},e),c=Object(o.g)(),r=Object(N.b)(),s=null!==(t=Object(N.c)((function(e){var t=e.contentReducer,n=(t=void 0===t?{}:t).navigationLinkResponse,a=(n=void 0===n?{}:n).fields,i=void 0===a?[]:a,c=t.isContentfulLoading;return{fields:i,isLoading:void 0===c||c}})))&&void 0!==t?t:{},d=Object(i.useState)(!0),l=Object(j.a)(d,2),b=l[0],v=l[1],O=Object(i.useState)(null),m=Object(j.a)(O,2),f=m[0],h=m[1],g=Object(i.useState)(null),x=Object(j.a)(g,2),E=x[0],T=x[1],S=Object(i.useState)(!1),C=Object(j.a)(S,2),A=C[0],y=C[1],_=Object(i.useState)(!0),D=Object(j.a)(_,2),R=D[0],w=D[1];return Object(i.useLayoutEffect)((function(){r(Object(p.d)({cmsClient:Object(I.a)(),query:{content_type:"navigationLink",select:"sys.id,fields.brandPageTemplate,fields.internalurl","fields.brandPageTemplate[in]":"".concat(jp,",").concat(Op),include:"5"}}))}),[r]),Object(i.useEffect)((function(){T(function(e,t){var n=e;if((null===e||void 0===e?void 0:e.includes("/true"))||(null===e||void 0===e?void 0:e.includes("/false"))){var a,i=null!==(a=null===e||void 0===e?void 0:e.includes("/true"))&&void 0!==a?a:!(null===e||void 0===e?void 0:e.includes("/false"));t(i),n=(null===e||void 0===e?void 0:e.split("/".concat(i)))[0]}return n}(null===c||void 0===c?void 0:c.pathname,y)),w(!0)}),[null===c||void 0===c?void 0:c.pathname]),Object(i.useEffect)((function(){if(!rs()(null===s||void 0===s?void 0:s.fields)&&!rs()(E)&&R){var e;w(!1);var t=null!==(e=up()(vp()(null===s||void 0===s?void 0:s.fields,"internalurl"),"brandPageTemplate"))&&void 0!==e?e:{},i=function(e,t,n,i){if(!rs()(i))return Object(u.jsx)(o.a,Object(a.a)(Object(a.a)({},e),{},{render:function(e){return i===jp?Object(u.jsx)(zb,Object(a.a)({routePath:t,hideNav:n},e)):i===Op?Object(u.jsx)(Xb,Object(a.a)({routePath:t,hideNav:n},e)):void 0}}))}(n,E,A,null===t||void 0===t?void 0:t[E]);h(i),v(!1)}}),[R,null===s||void 0===s?void 0:s.fields,E]),b?Object(u.jsx)(Gj.a,{isInProgress:!0}):f?Object(u.jsx)(u.Fragment,{children:f}):Object(u.jsx)(o.a,{component:Cj})},fp=HO((function(e){var t=Object(N.b)(),n=Object(N.c)((function(e){return e})),c=n.tenantReducer,o=n.orderReducer;return Object(i.useEffect)((function(){Object(_O.t)(t)}),[]),Object(i.useEffect)((function(){if(wr.e&&(null===c||void 0===c?void 0:c.tenantId)){var e=window.location.search.split("?")[1],n=new URLSearchParams(e),i=Object.fromEntries(n.entries());Object(_O.b)(t,Object(a.a)({tenantId:null===c||void 0===c?void 0:c.tenantId},i))}}),[wr.e,null===c||void 0===c?void 0:c.tenantId]),Object(i.useEffect)((function(){var t;if(wr.e&&(null===c||void 0===c?void 0:c.tenantId)&&(null===o||void 0===o?void 0:o.pastOrderResponse)&&(null===o||void 0===o||null===(t=o.pastOrderResponse)||void 0===t?void 0:t.length)){var n=null===o||void 0===o?void 0:o.pastOrderResponse[0];(null===n||void 0===n?void 0:n.id)?(localStorage.setItem(T.R.ORDER_TRACKING,JSON.stringify(Object(_O.w)(null===c||void 0===c?void 0:c.tenantId,n,!0))),Object(x.bc)(e)):(console.error(JSON.stringify(n)),Object(x.ac)(e))}}),[wr.e,null===c||void 0===c?void 0:c.tenantId,null===o||void 0===o?void 0:o.pastOrderResponse]),Object(u.jsx)("div",{className:"PostPaymentProcessComponent",children:Object(u.jsx)(Kj,{showLoader:"false"})})})),pp=function(e){var t,n;return(null===e||void 0===e?void 0:e.orderHistoryReducer)&&(null===e||void 0===e||null===(t=e.orderHistoryReducer)||void 0===t?void 0:t.activeOrderHistory)&&(null===e||void 0===e||null===(n=e.orderHistoryReducer)||void 0===n?void 0:n.activeOrderHistory.map((function(t){return Object(u.jsxs)("div",{className:"active-orders-panel col-12 col-lg-7",children:[Object(u.jsx)("div",{class:"circle-top-left"}),Object(u.jsxs)("div",{className:"active-orders-details",children:[Object(u.jsx)("div",{className:"active-orders-details-info col-12",children:Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.getTitle(t)})}),Object(u.jsxs)("div",{className:"active-orders-details-panel col-12",children:[Object(u.jsx)("div",{className:"active-orders-details-panel-info col-12 col-lg-8",children:Object(u.jsx)("span",{className:"col-12",children:null===e||void 0===e?void 0:e.getInfo(t)})}),Object(u.jsx)("div",{className:"active-track-order-btn col-12 col-lg-4",children:Object(u.jsx)(Ot.a,{"data-testid":"active-track-order-button",className:"button col-12","aria-label":null===e||void 0===e?void 0:e.getBtnTxt(t),onClickHandler:function(){return null===e||void 0===e?void 0:e.onTrackOrderBtnClickHandler(t)},id:"activeTrackOrderItemButton",type:"submit",children:Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.getBtnTxt(t)})})})]}),Object(u.jsx)("div",{className:"active-orders-details-add-info col-12",children:Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.getAdditionalInfo(t)})})]}),Object(u.jsx)("div",{class:"circle-bottom-right"})]})})))},hp=c.a.memo(pp),gp="currentOrders",Np="orderHash",xp="orderGettingReady",Ep="yourOrderIsScheduled",Ip="pickupDetails",Tp="scheduled",Sp="trackDelivery",Cp="trackOrder",Ap="scheduledTime",yp="readyForPickup",_p=HO((function(e){var t,n=Object(N.c)((function(e){return e})),c=n.tenantReducer,o=n.orderHistoryReducer,r=n.profileReducer,s=Object(i.useCallback)((function(e){var t,n="";return!1===(null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t?void 0:t.isForNow)?n=Object(x.dc)(Object(Se.e)(Tp)):Object(x.dc)(null===e||void 0===e?void 0:e.service)!==T.z.DELIVERY&&Object(x.dc)(null===e||void 0===e?void 0:e.service)!==T.z.PICKUP||(n=Object(x.dc)(null===e||void 0===e?void 0:e.service)),"".concat(n," ").concat(Object(x.dc)(Object(Se.e)(Np))," ").concat(null===e||void 0===e?void 0:e.posOrderId)}),[]),d=Object(i.useCallback)((function(e){var t;return!1===(null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t?void 0:t.isForNow)?Object(Se.e)(Ep):Object(x.dc)(null===e||void 0===e?void 0:e.service)===T.z.DELIVERY||Object(x.dc)(null===e||void 0===e?void 0:e.service)===T.z.PICKUP?Object(Se.e)(xp):void 0}),[]),l=Object(i.useCallback)((function(e){var t;return!1===(null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t?void 0:t.isForNow)?Object(Se.e)(Cp):Object(x.dc)(null===e||void 0===e?void 0:e.service)===T.z.DELIVERY?Object(Se.e)(Sp):Object(x.dc)(null===e||void 0===e?void 0:e.service)===T.z.PICKUP?Object(Se.e)(Ip):void 0}),[]),b=Object(i.useCallback)((function(e){var t;return!1===(null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t?void 0:t.isForNow)?Object(Se.e)(Ap):Object(x.dc)(null===e||void 0===e?void 0:e.service)===T.z.PICKUP?Object(Se.e)(yp):void 0}),[]),v=Object(i.useCallback)((function(t){var n=Object(a.a)(Object(a.a)({},t),{},{customer:null===r||void 0===r?void 0:r.basic}),i=Object(_O.w)(null===c||void 0===c?void 0:c.tenantId,n);i.postOrderDetails={},localStorage.setItem(T.R.ORDER_TRACKING,JSON.stringify(i)),Object(x.bc)(e)}),[]);return Object(u.jsxs)("div",{className:"active-orders col-12",children:[Object(u.jsxs)("div",{className:"active-orders-title col-12",children:[Object(u.jsx)("img",{src:Ls.Strips,alt:"Red Strip",class:"account-icon"}),Object(u.jsx)("h4",{class:"currentStatus",children:"".concat(Object(Se.e)(gp)," (").concat(null===o||void 0===o||null===(t=o.activeOrderHistory)||void 0===t?void 0:t.length,")")})]}),Object(u.jsx)("div",{className:"active-orders-list col-12",children:Object(u.jsx)(hp,{orderHistoryReducer:o,getTitle:s,getInfo:d,getBtnTxt:l,getAdditionalInfo:b,onTrackOrderBtnClickHandler:v})})]})}));t.a=function(){var e=Object(Lt.a)(Ht.x);return Object(u.jsxs)(dp,{children:[Object(u.jsx)(v,{children:Object(u.jsx)(Ff,{children:Object(u.jsx)("div",{style:{backgroundColor:Wb.b.WHITE},children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",render:function(e){return Object(u.jsx)(sb,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{exact:!0,path:"/qrhome",render:function(e){return Object(u.jsx)(sb,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{exact:!0,path:"/menu/:category_name?",render:function(e){return Object(u.jsx)(sv,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{exact:!0,path:"/menu/:category_name?/:product_name?",render:function(e){return Object(u.jsx)(rp,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/cart",render:function(e){return Object(u.jsx)(ij,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/offers",render:function(e){return Object(u.jsx)(fv,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:e,render:function(e){return Object(u.jsx)(pv.a,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/help",render:function(e){return Object(u.jsx)(qm,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/checkout",render:function(e){return Object(u.jsx)(gj,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/payment-failure",render:function(e){return Object(u.jsx)(WO,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/payment-success",render:function(e){return Object(u.jsx)(FO,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/payment-status-check",render:function(e){return Object(u.jsx)(GO,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/ourAds",render:function(e){return Object(u.jsx)(Uj,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/contactus",render:function(e){return Object(u.jsx)(Fm,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/terms-of-use",render:function(e){return Object(u.jsx)(Ym,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/terms-and-conditions",render:function(e){return Object(u.jsx)(Ym,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/faq",render:function(e){return Object(u.jsx)(om,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/giftcards",render:function(e){return Object(u.jsx)(Nm,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/privacyPolicy",render:function(e){return Object(u.jsx)(kj,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/PHRedirection/NavigateToMobileAppGet",render:function(e){return Object(u.jsx)($O,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/signout",render:function(e){return Object(u.jsx)(Xm,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/track-order",render:function(e){return Object(u.jsx)(fp,Object(a.a)({},e))}}),Object(u.jsx)(o.a,{path:"/active-orders",render:function(e){return Object(u.jsx)(_p,Object(a.a)({},e))}}),Object(u.jsx)(Mf,{path:"/order-details/:order_id",ComponentToRender:Bf}),Object(u.jsx)(Mf,{path:"/account",ComponentToRender:Lf}),Object(u.jsx)(mp,{}),Object(u.jsx)(o.a,{component:Cj})]})})})}),Object(u.jsx)(Gj.a,{}),Object(u.jsx)(Uf,{})]})}},407:function(e,t,n){"use strict";var a=n(1),i=-1,c=1,o=function(e,t){if(!function(e){var t=getComputedStyle(e).overflowY;return e===document.scrollingElement&&"visible"===t||"scroll"===t||"auto"===t}(e))return!1;if(t===c)return e.scrollTop+e.clientHeight<e.scrollHeight;if(t===i)return e.scrollTop>0;throw new Error("unsupported direction")},r=function e(t,n){return!!o(t,n)||null!=t.parentElement&&e(t.parentElement,n)},s=(n(471),n(0)),d=function(){return Object(s.jsxs)("div",{className:"lds-ellipsis",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})},l=function(){return Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:"\u21a7\xa0\xa0pull to refresh\xa0\xa0\u21a7"})})},u=n(8),b=(n(473),function(e){if(!e||!e.current)return-1;var t=window.scrollY;return e.current.scrollHeight-t-window.innerHeight}),v=function(e,t){var n,a,c;(t.isDragging=!1,e instanceof MouseEvent&&(t.startY=e.pageY),window.TouchEvent&&e instanceof TouchEvent)&&(t.startY=null===(c=e.touches[0])||void 0===c?void 0:c.pageY);return t.currentY=t.startY,"touchstart"===e.type&&r(e.target,i)||(null===(n=t.childrenRef)||void 0===n||null===(a=n.current)||void 0===a?void 0:a.getBoundingClientRect().top)<0||(t.isDragging=!0),t};t.a=function(e){var t=e.isPullable,n=void 0===t||t,i=e.canFetchMore,c=void 0!==i&&i,o=e.onRefresh,r=void 0===o?u.Gb:o,j=e.onFetchMore,O=void 0===j?u.Gb:j,m=e.refreshingContent,f=void 0===m?Object(s.jsx)(d,{}):m,p=e.pullingContent,h=void 0===p?Object(s.jsx)(l,{}):p,g=e.children,N=void 0===g?u.Fb:g,x=e.pullDownThreshold,E=void 0===x?67:x,I=e.fetchMoreThreshold,T=void 0===I?100:I,S=e.maxPullDownDistance,C=void 0===S?95:S,A=e.backgroundColor,y=e.className,_=void 0===y?"ptr-def":y,D=e.dataTestId,R=void 0===D?"ptr-component":D,w=Object(a.useRef)(null),k=Object(a.useRef)(null),L=Object(a.useRef)(null),P=Object(a.useRef)(null),M=!1,F=!1,H=!1,B=0,U=0,G=function(e){var t=v(e,{isDragging:H,startY:B,currentY:U,childrenRef:k});H=t.isDragging,B=t.startY,U=t.currentY};Object(a.useEffect)((function(){if(n&&k&&k.current)return k.current.addEventListener("touchstart",G,{passive:!0}),k.current.addEventListener("mousedown",G),k.current.addEventListener("touchmove",K,{passive:!1}),k.current.addEventListener("mousemove",K),window.addEventListener("scroll",V),k.current.addEventListener("touchend",W),k.current.addEventListener("mouseup",W),document.body.addEventListener("mouseleave",W),function(){n&&k&&k.current&&(k.current.removeEventListener("touchstart",G),k.current.removeEventListener("mousedown",G),k.current.removeEventListener("touchmove",K),k.current.removeEventListener("mousemove",K),window.removeEventListener("scroll",V),k.current.removeEventListener("touchend",W),k.current.removeEventListener("mouseup",W),document.body.removeEventListener("mouseleave",W))}}),[N,n,r,E,C,c,T]),Object(a.useEffect)((function(){var e,t;(null===(e=w)||void 0===e?void 0:e.current)&&(w.current.classList.contains("ptr--fetch-more-treshold-breached")||c&&b(k)<T&&O&&(w.current.classList.add("ptr--fetch-more-treshold-breached"),F=!0,null===(t=O())||void 0===t||t.then(Y).catch(Y)))}),[c,N]);var Y=function(){var e=function(e){var t=e.containerRef,n=e.pullDownRef,a=e.childrenRef,i=e.pullToRefreshThresholdBreached,c=e.fetchMoreTresholdBreached;return a.current&&(e.childrenRef.current.style.marginTop=0),n.current&&(e.pullDownRef.current.style.opacity="0"),t.current&&(e.containerRef.current.classList.remove("ptr--pull-down-treshold-breached"),e.containerRef.current.classList.remove("ptr--dragging"),e.containerRef.current.classList.remove("ptr--fetch-more-treshold-breached")),i&&(e.pullToRefreshThresholdBreached=!1),c&&(e.fetchMoreTresholdBreached=!1),e}({containerRef:w,pullDownRef:L,childrenRef:k,pullToRefreshThresholdBreached:M,fetchMoreTresholdBreached:F});w=e.containerRef,L=e.pullDownRef,k=e.childrenRef,M=e.pullToRefreshThresholdBreached,F=e.fetchMoreTresholdBreached},K=function(e){var t=function(e,t){var n,a,i;return t.isDragging?(window.TouchEvent&&e instanceof TouchEvent?t.currentY=e.touches[0].pageY:t.currentY=e.pageY,null===(n=t.containerRef.current)||void 0===n||n.classList.add("ptr--dragging"),t.currentY<t.startY?(t.isDragging=!1,t):(t.currentY-t.startY>=t.pullDownThreshold&&(t.isDragging=!0,t.pullToRefreshThresholdBreached=!0,null===(a=t.containerRef.current)||void 0===a||a.classList.remove("ptr--dragging"),null===(i=t.containerRef.current)||void 0===i||i.classList.add("ptr--pull-down-treshold-breached")),t.currentY-t.startY>t.maxPullDownDistance||(t.pullDownRef.current.style.opacity=((t.currentY-t.startY)/65).toString(),t.childrenRef.current.style.overflow="visible",t.childrenRef.current.style.marginTop="".concat(t.currentY-t.startY,"px"),t.pullDownRef.current.style.visibility="visible"),t)):t}(e,{isDragging:H,currentY:U,startY:B,containerRef:w,pullDownThreshold:E,pullToRefreshThresholdBreached:M,maxPullDownDistance:C,pullDownRef:L,childrenRef:k});H=t.isDragging,U=t.currentY,w=t.containerRef,M=t.pullToRefreshThresholdBreached,L=t.pullDownRef,k=t.childrenRef},V=function(e){var t,n;F||c&&b(k)<T&&O&&(F=!0,null===(t=w.current)||void 0===t||t.classList.add("ptr--fetch-more-treshold-breached"),null===(n=O())||void 0===n||n.then(Y).catch(Y))},W=function(){if(H=!1,B=0,U=0,!M)return L.current&&(L.current.style.visibility="hidden"),void Y();k.current&&(k.current.style.overflow="visible",k.current.style.marginTop="".concat(E,"px")),r().then(Y).catch(Y)};return Object(s.jsxs)("div",{className:"ptr ".concat(_),style:{backgroundColor:A},ref:w,"data-testid":R,children:[Object(s.jsxs)("div",{className:"ptr__pull-down",ref:L,"data-testid":"ptr-pulldown-id",children:[Object(s.jsx)("div",{className:"ptr__loader ptr__pull-down--loading",children:f}),Object(s.jsx)("div",{className:"ptr__pull-down--pull-more",children:h})]}),Object(s.jsxs)("div",{className:"ptr__children",ref:k,"data-testid":"ptr-children-id",children:[N,Object(s.jsx)("div",{className:"ptr__fetch-more",ref:P,children:Object(s.jsx)("div",{className:"ptr__loader ptr__fetch-more--loading",children:f})})]})]})}},411:function(e,t,n){"use strict";n.r(t),function(e){var t=n(1),a=n.n(t),i=n(64),c=n.n(i),o=n(154),r=n(401),s=n(9),d=n(402),l=n(130),u=n(16),b=n(403),v=n.n(b),j=n(405),O=n(35),m=n(3),f=n(0),p=["brandPageReducer","splashLoaderReducer","errorReducer","paymentsGoogleSpotReducer","appConfigReducer"];Object(m.Jb)()&&(p.push("menuReducer"),p.push("contentReducer"));var h=Object(l.a)(v.a,null,p),g=h.store,N=h.persistor;if(l.c.run(j.a),!0===window.supportsES6){var x,E,I,T,S,C,A,y,_,D=null===(x=e)||void 0===x||null===(E=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===E?void 0:E.REACT_APP_TENANT_CODE,R=null!==(I=null===(T=e)||void 0===T||null===(S=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===S?void 0:S.REACT_APP_API_BASE_URL)&&void 0!==I?I:"".concat(null===(C=window)||void 0===C||null===(A=C.location)||void 0===A?void 0:A.protocol,"//").concat(null===(y=window)||void 0===y||null===(_=y.location)||void 0===_?void 0:_.host);if(!D||!R)throw new Error("Env variables REACT_APP_TENANT_CODE or REACT_APP_API_BASE_URL is missing. Please provide them during build or start");console.log("Loading Application for Tenant: ".concat(D)),Object(O.l)(R),c.a.hydrate(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(s.a,{store:g,children:Object(f.jsx)(d.a,{loading:null,persistor:N,children:Object(f.jsx)(u.b,{children:Object(f.jsx)(o.a,{})})})})}),document.getElementById("root"))}Object(r.a)()}.call(this,n(140))},423:function(e,t){},43:function(e,t,n){"use strict";t.a={FOOTER_LOGO:"logoicon",FOOTER_SECTION:"footerSection",FIND_A_KFC_SECTION:"Find A KFC",APP_LINKS:"AppLinks",SOCIAL_SECTION:"Social Links",COPYRIGHT:"Copyright",FOOTER_LINKS:"footer-links",SOCIAL_ICONS:"social-icons",INDIA:"INDIA",ORDER_LOOKUP:"orderLookup",ORDER_LOOKUP_NAME:"Order Lookup",PRIVACY_POLICY:"Privacy Policy ",TERMS_OF_USE:"Terms of Use ",OUR_ADS:"Our Ads",ERROR_MESSAGE:"invaidInputs",PHONE_NUM:"phoneNumber",ORDER_NUMBER:"Order Number*",CANCEL:"Cancel",SUBMIT:"Submit",INSTAGRAM:"Instagram",FACEBOOK:"Facebook",TWITTER:"Twitter",FOOTER_MENU:"Menu",FAQ:"FAQ",GIFT_CARD:"Gift Card",ORDER_NUMBER_HEADER:"Order Number*",PHONE_NUM_HEADER:"phonePlaceholder",ORDERHASH:"ORDER# ",YOUR_ORDER:"YOUR ORDER",DELIVER_TO:"delivery To",ORDER_FROM:"order From",GET_DIRECTION:"getDirection",DISCOUNT:"DiscountText",TOTAL:"total",COMPLETED:"completed",SUB_TOTAL:"subTotal",PAYMENT:"payment",GETHELP:"Get Help",KFC_INDIA:"KFC India",USER_EMAIL:"user_email",USER_PHONE:"user_phone",EMAIL_REGEX:/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,YOUR_EMAIL_PLACEHOLDER:"useremailplaceholder",PHONE_PLACEHOLDER:"userphoneplaceholder",INVALID_EMAIL:"invalidEmailId",INVALID_PHNUM:"invalidPhoneNum",EMAIL_ADDRESS:"emailAddress",INVALID_ORDERID:"invalidOrderId",DELIVERY:"DELIVERY",CONTACT_US:"Contact Us",SEARCH_IN_CART:"SEARCH_IN_CART",largeCarryBagText:"largeCarryBag",addHopeText:"addhope",KFC_FEEDBACK:"KFC Feedback",INTERNAL:"internal",EXTERNAl:"external"}},44:function(e,t,n){"use strict";t.a={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message",RECOMMENDATION:"Recommendation",INDIA:"INDIA",PAYMENT_FAILED_MESSAGE:"paymentdeclined",PAYMENT_PRE_VALIDATION_FAILED_MESSAGE:"paymentPreValidationFailed",SERVICE_CHANNEL:"web",OFFERS_DEALS_MODE:"Web",KFC_Gift_Card:"KFC Gift Card"}},45:function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"k",(function(){return s})),n.d(t,"t",(function(){return d})),n.d(t,"p",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return b})),n.d(t,"n",(function(){return v})),n.d(t,"o",(function(){return j})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"m",(function(){return p})),n.d(t,"q",(function(){return h})),n.d(t,"r",(function(){return g})),n.d(t,"s",(function(){return N})),n.d(t,"l",(function(){return x}));var a="offerDeals",i="haveADiscountCode",c="oneCouponPerOrder",o="discountCode",r="apply",s="cartOffersForYou",d="exclusiveOffers",l="couponSuccess",u="Applied",b="Invalidated",v="SET_COUPON_ERROR_MESSAGE",j="SET_COUPON_EXPIRY_MESSAGE",O="Your cart is not eligible for the coupon you applied and it has been removed. ",m="expiredMsg",f="/images/items/no-image.jpg",p="redeem",h="termsConditions",g="termsAndCondition",N="terms-and-conditions",x="Offer Applied"},471:function(e,t,n){},473:function(e,t,n){},48:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"l",(function(){return i})),n.d(t,"m",(function(){return c})),n.d(t,"n",(function(){return o})),n.d(t,"i",(function(){return r})),n.d(t,"k",(function(){return s})),n.d(t,"p",(function(){return d})),n.d(t,"q",(function(){return l})),n.d(t,"v",(function(){return u})),n.d(t,"d",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"t",(function(){return j})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return m})),n.d(t,"u",(function(){return f})),n.d(t,"o",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"r",(function(){return N})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return E})),n.d(t,"s",(function(){return I}));var a="offerDeal",i="offerDeals",c="offer",o="nationalOffers",r="offersForYou",s="SignInToSeeOffers",d="offerApplied",l="redeem",u="viewdetails",b="findKfc",v="login",j="validTo",O=9,m=1,f="viewed",p="of",h="loadMore",g="/images/items/no-image.jpg",N="SHOW_COPY_COUPON_ACTION",x="HIDE_COPY_COUPON_ACTION",E="kfcLocalOffers",I="kfcSignInExclusiveOffers"},503:function(e,t){},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,i=/^(?!\s)[A-Za-z ]+$/;t.c={IS_DELIVERY:"DELIVERY",IS_TAKEAWAY:"PICKUP",IS_DINEIN:"DINE-IN",CHECKOUT_TITLES:{TITLE:"cartCheckout",DELIVERY_INFO:"deliveryInfo",TAKEAWAY_INFO:"takeawayInfo",DINEIN_INFO:"dineInInfo",DELIVERY_OPTIONS:"deliveryOptions",TAKEAWAY_OPTIONS:"takeawayOptions",DINEIN_OPTIONS:"dineInOptions",CONTACT_INFO:"contactInfo",PAYMENT:"payment"},CHECKOUT_SUMMARY:{QUANTITY_TEXT:"cartItem",QUANTITYS_TEXT:"cartItems",SUBTOTAL:"cartSubTotal",GST:"cartGst",ADDITIONAL_TAX:"cartIncluTax",RESTRNT_HANDLING:"restaurantHandling",ADD_HOPE_HEADER:"addHopeHeader",ADD_HOPE_TEXT:"addHopeText",ADD_BAG_TEXT:"largeCarryBagContent"},ERROR_ALERT:"checkoutAlert",DELIVERY:{LEAVE_AT_MY_DOOR:{TITLE:"leaveatMyDoor",DESC:"leaveatMyDoorDesc"},HAND_IT_TO_ME:{TITLE:"handItToMe",DESC:"",PLACE_HOLDER:"deliveryInstructions"}},TAKEAWAY:{WALK_IN_THE_STORE:{TITLE:"walkInStore",DESC:""},KFC_TO_YOUR_CAR:{TITLE:"KfcToYourCar",DESC:"KfcToYourCarDesc",PLACE_HOLDER:"vehicleInformation"}},DINE_IN:{DINEIN_WALK_IN_THE_STORE:{TITLE:"DineInStore"}},ADD_PAY_METHOD:"addPaymentMethodHeader",ASAP:"asap",ADDRESS_PH:"address2Placeholder",AGREEMENT_LABEL:"subscribeEmail",CONTINUE_PAYMENT:"continuePayment",PLACE_ORDER:"placeOrder",FORM_NAMES:{FULL_NAME:"fullName",PHONE:"phone",EMAIL:"email",SUBSCRIPTION:"subscription",VEHICAL_INFORMATION:"vehicalInformation",DELIVERY_INSTRUCTION:"deliveryInstruction"},SEARCH_IN_CART:"SEARCH_IN_CART",largeCarryBagText:"largeCarryBag",addHopeText:"addhope",PRICE_DECIMAL_DIGIT:2,PHONEPE_SWITCH_CONSTANTS:{SUCCESS:"SUCCESS",FAILURE:"FAILURE"},mandatorynote:"mandatorynote",IS_CURBSIDE:"curbside"}},57:function(e,t,n){"use strict";n.d(t,"i",(function(){return A})),n.d(t,"k",(function(){return y})),n.d(t,"j",(function(){return _})),n.d(t,"h",(function(){return D})),n.d(t,"l",(function(){return R})),n.d(t,"g",(function(){return w})),n.d(t,"f",(function(){return P})),n.d(t,"b",(function(){return M})),n.d(t,"e",(function(){return F})),n.d(t,"a",(function(){return H})),n.d(t,"c",(function(){return B})),n.d(t,"d",(function(){return U}));var a,i=n(2),c=n(6),o=n.n(c),r=n(14),s=n(26),d=n(22),l=n(5),u=n(28),b=n(33),v=n(3),j=n(15),O=n(111),m=d.a.TAKEAWAY_UNAVAILABLE_WITH_CTA,f=d.a.TAKEAWAY_UNAVAILABLE,p=d.a.DINEIN_UNAVAILABLE,h=d.a.TAKE_AWAY_SERVICE,g=d.a.DINE_IN_SERVICE,N=d.a.STORE_STATUS_OPEN,x=d.a.DELIVERY_SERVICE,E=d.a.DELIVERY_UNAVAILABLE,I=d.a.LOCATION_WARNING_MESSAGE,T=[],S=[],C=[],A=function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.registerEvent(b.a.localisationSignIn.name,{"%event%":"localisationSignIn"},v.E);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.registerEvent(b.a.orderNow.name,{"%event%":"orderNow"},v.E);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=[]).push({event:"orderForLater"}),e.next=4,u.a.registerEvent(void 0,{data:t[0]},v.E);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.registerEvent(null===(a=b.a.localisationViewPWA)||void 0===a?void 0:a.name,{"%event%":"localisationView","%viewSelected%":t?Object(l.e)("list"):Object(l.e)("map"),"%orderType%":n},v.E);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.registerEvent(null===(t=b.a.useMyLocation)||void 0===t?void 0:t.name,{data:{event:"useMyLocation"}},v.E);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e,t,n,i,c,o){T=[],a=o,0===(S=e).length&&a([]);var r=S.map((function(e){var a="".concat(t.replace("{storeid}",e.id||e.storeBasic.id));return fetch(a,{headers:{"Content-type":"application/json","x-tenant-id":n,"x-correlation-session-id":i,"x-correlation-request-id":c}})}));Promise.allSettled(r).then((function(e){C=[],e.forEach((function(e,t,n){e.status===d.a.FULFILLED_TEXT&&k(e.value.json(),t===n.length-1)}))})).catch((function(e){return console.log(e)}))},k=function(e,t){C.push(e),t&&Promise.all(C).then((function(e){e.forEach((function(e){T.push({summary:Object(i.a)({},e),module:e})})),L()}))},L=function(){var e=S.map((function(e,t){var n,a,c,o,r,s={id:null!==(n=null===e||void 0===e?void 0:e.id)&&void 0!==n?n:null,tenders:null!==(a=null===(c=T)||void 0===c||null===(o=c[t])||void 0===o||null===(r=o.module)||void 0===r?void 0:r.availableTenders)&&void 0!==a?a:null};return Object(i.a)(Object(i.a)(Object(i.a)({},e),T[t]),{},{module:s})}));a(e)},P=function(e){return e.filter((function(e){return e.channel===j.b.channel}))},M=function(e,t){var n="",a="",i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","EVERYDAY"],c=new Date;return e?(a=i[c.getDay()].toUpperCase(),t.length&&t.filter((function(e){var t,i,c;if(e.day.toUpperCase()===a.toUpperCase())n=0===(null===(t=Object(s.r)(e.availableHours.to,"hhmm"))||void 0===t?void 0:t.minute())?"".concat(Object(l.e)(d.a.OPENS_UNTIL)," ").concat(null===(i=Object(s.s)(e.availableHours.to,"hhmm","hhA"))||void 0===i?void 0:i.split(" ").join("")):"".concat(Object(l.e)(d.a.OPENS_UNTIL)," ").concat(null===(c=Object(s.s)(e.availableHours.to,"hhmm","hh:mmA"))||void 0===c?void 0:c.split(" ").join(""));else if(e.day.toUpperCase()===d.a.EVERYDAY){var o,r,u;n=0===(null===(o=Object(s.r)(e.availableHours.to,"hhmm"))||void 0===o?void 0:o.minute())?"".concat(Object(l.e)(d.a.OPENS_UNTIL)," ").concat(null===(r=Object(s.s)(e.availableHours.to,"hhmm","hhA"))||void 0===r?void 0:r.split(" ").join("")):"".concat(Object(l.e)(d.a.OPENS_UNTIL)," ").concat(null===(u=Object(s.s)(e.availableHours.to,"hhmm","hh:mmA"))||void 0===u?void 0:u.split(" ").join(""))}}))):(a=c.getDay()+1>=i.length?i[c.getDay()+1-i.length].toUpperCase():i[c.getDay()+1].toUpperCase(),t.filter((function(e){var t,i,c;if(e.day.toUpperCase()===a.toUpperCase())n=0===(null===(t=Object(s.r)(e.availableHours.from,"hhmm"))||void 0===t?void 0:t.minute())?"".concat(Object(l.e)(d.a.OPENS_TOMORROW)," ").concat(null===(i=Object(s.s)(e.availableHours.from,"hhmm","hhA"))||void 0===i?void 0:i.split(" ").join("")):"".concat(Object(l.e)(d.a.OPENS_TOMORROW)," ").concat(null===(c=Object(s.s)(e.availableHours.from,"hhmm","hh:mmA"))||void 0===c?void 0:c.split(" ").join(""));else if(e.day.toUpperCase()===d.a.EVERYDAY){var o,r,u;n=0===(null===(o=Object(s.r)(e.availableHours.from,"hhmm"))||void 0===o?void 0:o.minute())?"".concat(Object(l.e)(d.a.OPENS_TOMORROW)," ").concat(null===(r=Object(s.s)(e.availableHours.from,"hhmm","hhA"))||void 0===r?void 0:r.split(" ").join("")):"".concat(Object(l.e)(d.a.OPENS_TOMORROW)," ").concat(null===(u=Object(s.s)(e.availableHours.from,"hhmm","hh:mmA"))||void 0===u?void 0:u.split(" ").join(""))}}))),n},F=function(e){var t=new window.google.maps.Geocoder;return new Promise((function(n,a){t.geocode({location:e},(function(e,t){"OK"===t?e[0]?n(e[0].formatted_address):(console.log("No results found"),a(e)):(console.log("Geocoder failed due to: "+t),a(e)),n(e[0].formatted_address)}))}))},H=function(e,t){var n,a,i,c,o,r=[],s=[];switch(e.toLowerCase()){case"delivery":i=x,c=Object(l.e)(E),o=Object(l.e)(E);break;case"takeaway":c=Object(l.e)(f),i=Object(l.e)(h),o=Object(l.e)(m);break;case"dine-in":i=g,c=Object(l.e)(p),o=Object(l.e)(p)}return null===t||void 0===t||t.map((function(e,t){var n,c;if((null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(c=n.status)||void 0===c?void 0:c.currentStatus)!==N&&s.push(e),null===e||void 0===e?void 0:e.availableServicesPerChannel){var o,d,l,u=(null===(d=a=null===e||void 0===e||null===(o=e.availableServicesPerChannel)||void 0===o?void 0:o.filter((function(e){return e.channel===j.b.channel})))||void 0===d?void 0:d.length)?null===(l=a[0])||void 0===l?void 0:l.services:[];!u.includes(i)&&u.length&&r.push(e)}})),(null===t||void 0===t?void 0:t.length)===(null===r||void 0===r?void 0:r.length)?c:(null===(n=a)||void 0===n?void 0:n.length)&&(null===t||void 0===t?void 0:t.length)!==(null===s||void 0===s?void 0:s.length)?null:o},B=function(e,t){return e.name[0].value<t.name[0].value?-1:e.name[0].value>t.name[0].value?1:0},U=function(e,t){Object(v.r)(e,!t)&&Object(v.J)(Object(l.e)(O.a.contentData.deliveryHeaderText),Object(l.e)(I))}},605:function(e,t,n){},65:function(e,t,n){"use strict";var a=n(2),i=n(96),c=(n(1),n(0)),o=["ariaLable","className","onClickHandler","onKeyDownHandler"];t.a=function(e){var t=e.ariaLable,n=e.className,r=e.onClickHandler,s=e.onKeyDownHandler,d=Object(i.a)(e,o);return Object(c.jsx)("button",Object(a.a)(Object(a.a)({className:n||"closebtn-cls",role:"button","aria-label":t||"Close",onClick:r,onKeyDown:s},d),{},{children:e.children}))}},66:function(e,t,n){"use strict";n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"g",(function(){return j})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"k",(function(){return h}));var a=n(36),i=n(2),c=n(3),o=n(186),r=n(45),s=n(26),d=function(e){return e&&e.length&&e.reduce((function(e,t){var n=t.key,o=t.value;return Object(i.a)(Object(i.a)({},e),{},Object(a.a)({},function(e){return"".concat(String(e).substr(0,1).toLowerCase()).concat(String(e).substr(1))}(n),"TRUE"===String(o).toUpperCase()||"FALSE"!==String(o).toUpperCase()&&Object(c.Mb)(o)))}),{})},l=function(e){return e.map((function(e){var t,n,a,c,o,r,s,l,u,j,O,m,f,p,h;return Object(i.a)({discountCode:null===e||void 0===e?void 0:e.code,heading:(null===e||void 0===e||null===(t=e.promotionDetails)||void 0===t?void 0:t.title)&&(null===e||void 0===e||null===(n=e.promotionDetails)||void 0===n?void 0:n.title.length)&&b(null===e||void 0===e||null===(a=e.promotionDetails)||void 0===a||null===(c=a.title[0])||void 0===c?void 0:c.value),description:(null===e||void 0===e||null===(o=e.promotionDetails)||void 0===o?void 0:o.description)&&(null===e||void 0===e||null===(r=e.promotionDetails)||void 0===r?void 0:r.description.length)&&(null===e||void 0===e||null===(s=e.promotionDetails)||void 0===s||null===(l=s.description[0])||void 0===l?void 0:l.value),imageSrc:(null===e||void 0===e||null===(u=e.promotionDetails)||void 0===u?void 0:u.image)&&(null===e||void 0===e||null===(j=e.promotionDetails)||void 0===j?void 0:j.image.length)&&(null===e||void 0===e||null===(O=e.promotionDetails)||void 0===O||null===(m=O.image[0])||void 0===m?void 0:m.value),endTime:null===e||void 0===e?void 0:e.endDateTime,termsAndConditions:v(null===e||void 0===e||null===(f=e.promotionDetails)||void 0===f?void 0:f.conditions),isApplicable:null===e||void 0===e?void 0:e.isApplicable,isApplied:null===e||void 0===e?void 0:e.isApplied,isRewards:null===e||void 0===e?void 0:e.isRewards,cardType:null===e||void 0===e||null===(p=e.promotionDetails)||void 0===p?void 0:p.cardType},d(null===e||void 0===e||null===(h=e.promotionDetails)||void 0===h?void 0:h.customProperties))}))},u=function(e){return{discountCode:null===e||void 0===e?void 0:e.couponCode,heading:null===e||void 0===e?void 0:e.titleValue,description:null===e||void 0===e?void 0:e.smallText,endTime:null===e||void 0===e?void 0:e.validityEndTime,isApplied:null===e||void 0===e?void 0:e.isApplied}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e&&e.replace("<strikethrough>","<del>").replace("</strikethrough>","</del>"),n=Object(o.a)("".concat(t));return n},v=function(e){return e&&e.map((function(e){return{displayOrder:e.displayOrder,message:e.displayMessage[0].value}})).sort((function(e,t){return+e.displayOrder-+t.displayOrder}))},j=function(e){if(e){var t=Object(s.q)(e),n=Object(s.g)(),a=Object(s.m)(t,n,"seconds"),i=String(a).includes("-");return t.isValid()&&!i}return!1},O=function(e){var t=Object(s.q)(e),n=Object(s.g)(),a=Object(s.m)(t,n,"hour"),i=n.add(a,"hours"),c=Object(s.m)(t,i,"minute"),o=i.add(c,"minutes"),r=Object(s.m)(t,o,"second");return"".concat(a,"HR : ").concat(c,"M : ").concat(r,"S")},m=function(e){var t=Object(s.q)(e);return Object(s.e)(t,"DD/MM/YY")},f=function(e){var t=Object(s.q)(e);return Object(s.e)(t,"DD/MM/YYYY")},p=function(e){var t,n,a,i,c=null===e||void 0===e?void 0:e.promoConditionStatus.filter((function(e){return!(null===e||void 0===e?void 0:e.isValidCondition)}));return(null===e||void 0===e||null===(t=e.basicErrors)||void 0===t?void 0:t.length)?r.e+(null===e||void 0===e||null===(n=e.basicErrors[0])||void 0===n?void 0:n.message):(null===c||void 0===c?void 0:c.length)?r.e+(null===(a=c[0])||void 0===a||null===(i=a.displayMessage[0])||void 0===i?void 0:i.value):void 0},h=function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText||""}},8:function(e,t,n){"use strict";n.d(t,"qb",(function(){return a})),n.d(t,"tb",(function(){return i})),n.d(t,"rb",(function(){return c})),n.d(t,"sb",(function(){return o})),n.d(t,"db",(function(){return r})),n.d(t,"u",(function(){return s})),n.d(t,"q",(function(){return d})),n.d(t,"mb",(function(){return l})),n.d(t,"r",(function(){return u})),n.d(t,"v",(function(){return b})),n.d(t,"p",(function(){return v})),n.d(t,"J",(function(){return j})),n.d(t,"T",(function(){return O})),n.d(t,"H",(function(){return m})),n.d(t,"C",(function(){return f})),n.d(t,"S",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"eb",(function(){return g})),n.d(t,"yb",(function(){return N})),n.d(t,"K",(function(){return x})),n.d(t,"Gb",(function(){return E})),n.d(t,"Eb",(function(){return I})),n.d(t,"Hb",(function(){return T})),n.d(t,"Fb",(function(){return S})),n.d(t,"jb",(function(){return C})),n.d(t,"i",(function(){return A})),n.d(t,"wb",(function(){return y})),n.d(t,"lb",(function(){return _})),n.d(t,"kb",(function(){return D})),n.d(t,"x",(function(){return R})),n.d(t,"w",(function(){return w})),n.d(t,"l",(function(){return k})),n.d(t,"O",(function(){return L})),n.d(t,"h",(function(){return P})),n.d(t,"hb",(function(){return M})),n.d(t,"Db",(function(){return F})),n.d(t,"ub",(function(){return H})),n.d(t,"vb",(function(){return B})),n.d(t,"P",(function(){return U})),n.d(t,"Ab",(function(){return G})),n.d(t,"Bb",(function(){return Y})),n.d(t,"o",(function(){return K})),n.d(t,"fb",(function(){return V})),n.d(t,"n",(function(){return W})),n.d(t,"bb",(function(){return q})),n.d(t,"gb",(function(){return z})),n.d(t,"z",(function(){return Q})),n.d(t,"A",(function(){return J})),n.d(t,"y",(function(){return X})),n.d(t,"Z",(function(){return Z})),n.d(t,"pb",(function(){return $})),n.d(t,"Y",(function(){return ee})),n.d(t,"R",(function(){return te})),n.d(t,"ab",(function(){return ne})),n.d(t,"b",(function(){return ae})),n.d(t,"g",(function(){return ie})),n.d(t,"m",(function(){return ce})),n.d(t,"X",(function(){return oe})),n.d(t,"a",(function(){return re})),n.d(t,"B",(function(){return se})),n.d(t,"E",(function(){return de})),n.d(t,"nb",(function(){return le})),n.d(t,"k",(function(){return ue})),n.d(t,"ob",(function(){return be})),n.d(t,"Q",(function(){return ve})),n.d(t,"N",(function(){return je})),n.d(t,"s",(function(){return Oe})),n.d(t,"I",(function(){return me})),n.d(t,"V",(function(){return fe})),n.d(t,"e",(function(){return pe})),n.d(t,"M",(function(){return he})),n.d(t,"F",(function(){return ge})),n.d(t,"xb",(function(){return Ne})),n.d(t,"U",(function(){return xe})),n.d(t,"t",(function(){return Ee})),n.d(t,"L",(function(){return Ie})),n.d(t,"cb",(function(){return Te})),n.d(t,"j",(function(){return Se})),n.d(t,"G",(function(){return Ce})),n.d(t,"W",(function(){return Ae})),n.d(t,"f",(function(){return ye})),n.d(t,"ib",(function(){return _e})),n.d(t,"D",(function(){return De})),n.d(t,"zb",(function(){return Re})),n.d(t,"d",(function(){return we}));var a="DELIVERY",i="PICKUP",c="DINE-IN",o="TAKEAWAY",r="pickup",s="dine-in",d="delivery",l="Pickup",u="Delivery",b="Dine in",v="no-image.jpg",j="Homepage",O="Menu",m="GiftCards",f="FAQ",p="MenuCategory",h="ASAP",g="Product",N="USER_SELECTED_LANGUAGE",x="homeContentfulResp",E=function(){},I=[],T={},S=document.createElement("div"),C="6LfV2X8UAAAAAG_yyymEZiRSaVnxwZKjzgl1973q",A="MIN_SUPPORTED_BROWSERS",y="unsupportedBrowser",_="mobile",D="desktop",R="dispositionOld",w="dispositionNew",k="currentStoreInfo",L="(min-width:650px) and (max-width:1024px)",P="cart",M="_self",F="loggedIN",H="Item added to Cart",B="Items added to Cart",U="KFC",G="[0].availableHours.from",Y="[0].availableHours.to",K=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","EVERYDAY"],V={CART:"Page_Title_Cart",OFFERS:"Page_Title_Offers",LOGIN:"Page_Title_Login",HELP:"Page_Title_Help",CHECKOUT:"Page_Title_Checkout",PAYMENT_FAILURE:"Page_Title_Payment_Failure",PAYMENT_SUCCESS:"Page_Title_Payment_Success",PAYMENT_STATUS:"Page_Title_Payment_Status",OUR_ADDS:"Page_Title_Our_Adds",CONTACT_US:"Page_Title_ContactUs",TERMS_OF_USE:"Page_Title_TermsOfUse",TERMS_CONDITIONS:"Page_Title_Terms_Conditions",FAQ:"Page_Title_Faq",GIFT_CARD:"Page_Title_Gift_Card",PRIVACY_POLICY:"Page_Title_Privacy_Policy",SIGN_OUT:"Page_Title_Sign_out",ACCOUNT:"Page_Title_Account",NOT_FOUND:"Page_Title_Not_Found"},W={TOKEN_EXPIRY_GRACE_PERIOD:"TOKEN_EXPIRY_GRACE_PERIOD",USER_RESET_GRACE_TIME_MINUTES:"USER_RESET_GRACE_TIME_MINUTES",USER_RESET_WARNING_GRACE_TIME_MINUTES:"USER_RESET_WARNING_GRACE_TIME_MINUTES",GOOGLE_SPOT_AUTH_SCOPE:"GOOGLE_SPOT_AUTH_SCOPE",HEADER_ATTR_DATA_ID:"root-header",HEADER_SIGN_IN_ATTR_DATA_ID:"header-sign-in",CHECKOUT_SIGN_IN_ATTR_DATA_ID:"checkout-sign-in",VIEWPORT_AGENT_BROWSER:"web",VIEWPORT_AGENT_GOOGLE:"GPay-Microapps",VIEWPORT_AGENT_PHONE_PE:"phonepe",VIEWPORT_AGENT_PAY_TM:"AppContainer",VIEWPORT_CHANNEL_BROWSER:"web",VIEWPORT_CHANNEL_GOOGLE:"google-pay-spot",VIEWPORT_CHANNEL_PHONE_PE:"phonepe-in-app",VIEWPORT_CHANNEL_PAY_TM:"paytm-miniapp",VIEWPORT_CLASSNAME_DEBUG:"channel-debug",VIEWPORT_CLASSNAME_BROWSER:"channel-browser",VIEWPORT_CLASSNAME_GOOGLE:"channel-google-pay",VIEWPORT_CLASSNAME_PHONE_PE:"channel-phone-pe",VIEWPORT_CLASSNAME_PAY_TM:"channel-pay-tm",QR_CODE_VALID_TIME_MINS:"QR_CODE_VALID_TIME_MINS",Status:{Pass:"SUCCESS",Pending:"SUBMITTED",Fail:"FAILURE"},Setting:{Google:{Source:"https://microapps.google.com/apis/v1alpha/microapps.js",Nonce:null,Prompt:!0},Accuracy:!0,Retry:3,Interval:500,Timeout:5e3,Expiration:0,Storage:{Store:"storeInfo"}},Debug:{Navigator:{UserAgent:{Browser:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36",Google:"Mozilla/5.0 (Linux; Android 11; moto g fast Build/RPJS31.Q1-53-12-5; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/91.0.4472.164 Mobile Safari/537.36 [GPay-Microapps/132.1.5 (arm64-v8a_release_flutter) flutter]"}},Google:{Coordinates:{longitude:78.372658,latitude:17.442791},Address:"gachibowli, hyderabad, telangana, india",Name:"isaac ewing",Email:"isaac.ewing@cognizant.com",Phone:"9725550178",OrderId:"VGUH0124248666",BasketId:"146258421991",Token:{Phone:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmNWQ0MDA2ZDYxMzVhYTcxN2UxMzA5YzllYzM0YmE5ODljMjlhZTEiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJodHRwczovL21pY3JvYXBwcy5nb29nbGUuY29tLzE1NDM0NDQwNjQxOTQ0MjM0Mzk2IiwiaXNzIjoiaHR0cHM6Ly9taWNyb2FwcHMuZ29vZ2xlLmNvbSIsInBob25lX251bWJlcl92ZXJpZmllZCI6dHJ1ZSwicGhvbmVfbnVtYmVyIjoiKzEgOTcyODMyMDE3OCIsImV4cCI6MTYyNjI4MjkxOCwiaWF0IjoxNjI2Mjc5MzE4fQ.PaR80j_eFsIdNIWtRLq5Xx1nxs0c4RVRBrUvXRe6JnyqqtwYrya4wWGlqQAlpwLSpKNuVDbaHUmJV7CEkiCPslLn6hDIut9IkImBIhWoBlYFApu7ghrZIoYH9pVjswUVpNjWhv7p6U8VJ26pcunsm24AaxYTBVsEOSBv4OXyV0NuxbZeYR_agxyejZXWOnKm6TuZkaNIqqG5Q9QdUrPPvIIaKTDnmIm5AKtpydXRGgzNwNb3wjnV9L1HxAkKFrivh7PDW1dxTJ8sIen8XKgRkL3Pj4KClNVzWiiyeQT6ifGH74ilXmV4w7Q337R69hBA0nNyQ8o6t7XtQw9gsbZnOQ",Identity:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjNkZjBhODMxZTA5M2ZhZTFlMjRkNzdkNDc4MzQ0MDVmOTVkMTdiNTQiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJuYmYiOjE2Mjc2MjkzODcsImF1ZCI6IjEwMjU4NjI4MTY3MjYtdjFwOGY0dmlqYjh0NDdncGFkaXUzMHBtNGljaGh1M3UuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMTY5MjcwNTAxNjgyNDc5MDA2MTEiLCJlbWFpbCI6Im0uc2FybzE5OThAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF6cCI6IjEwMjU4NjI4MTY3MjYtdjFwOGY0dmlqYjh0NDdncGFkaXUzMHBtNGljaGh1M3UuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJuYW1lIjoiU2FyYXZhbmEgR2FuZXNoIE0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFUWEFKenJVOWFxbXJxM0ZWVnI0QXFMTkEtdXhEcWZ5VkdNOXRLSlJQbzk9czk2LWMiLCJnaXZlbl9uYW1lIjoiU2FyYXZhbmEgR2FuZXNoIiwiZmFtaWx5X25hbWUiOiJNIiwiaWF0IjoxNjI3NjI5Njg3LCJleHAiOjE2Mjc2MzMyODcsImp0aSI6ImViZWNlOTY5MzczMDVkNTIzZjcxZTY4NWMxOWMzMTdkNGVjODcwNDIifQ.NJOMLzzUffqj6ihraIQv1ahjFpFuYQ2x-Jx5ERNln736Iz-bJeS0IruGinCqOSMGIwnfJYfYR31FfHt-RRhSidj7NCGA1UiMkm9HaX1CrUPNDN44SSUNz1Qxtoeu7K6rhTV-pRFJiuQ2MVky96hl4i012_EdDLa4gEv3JqCx6aL6E08mru9-vLN7T504oZj7jreJAK6Y_5Ne2C8mrQT785_qybJAthNxSQOKjTsBc3gHzHumjvGjNZfPEtKpHmuxVu-0Jq2_F5Cq3wZd07sZkSPKqzAld_UF8xesSRGYj7I6udZEf81cAjXgyeRouUmO8I0sHToiKlzNMPAnNBAgKg"},Payment:{Response:{apiVersion:2,apiVersionMinor:0,paymentMethodData:{type:"UPI",tokenizationData:{type:"DIRECT",token:'{"protocolVersion":"ECV2","signature":"","signedMessage":"{\\"paymentMethod\\":\\"UPI\\",\\"paymentMethodDetails\\":{\\"payeeVpa\\":\\"yumrestaurantindia.billdesk@hdfcbank\\",\\"transactionReferenceId\\":\\"UGUH0002036496\\",\\"transactionId\\":\\"779306059769\\",\\"status\\":\\"SUCCESS\\",\\"transactionInfo\\":{\\"currencyCode\\":\\"INR\\",\\"totalPriceStatus\\":\\"FINAL\\",\\"totalPrice\\":\\"2.00\\",\\"transactionNote\\":\\"\\"}},\\"messageExpiration\\":\\"1627567541475\\"}"}'}}}},Order:{Channel:!0,Olo:!0}}}},q={CREDIT_CARD:"credit-card",GIFT_CARD:"giftcard",NET_BANKING:"net-banking",OTHER_WALLET:"other-wallet",PAY_BY_CASH:"pay-by-cash",PAYTM:"paytm",PHONEPE:"phonepe",GOOGLE_PAY_SPOT:"google-pay-spot",UPI:"upi",PAYTM_MINIAPP:"paytm-miniapp",PHONEPE_SWITCH:"phonepe-in-app"},z={HOME:"",HOME_PAGE:"/",CART:"/cart",CHECKOUT:"/checkout",GIFT_CARD:"/giftcards",PAYMENT_SUCCESS:"/payment-success",PAYMENT_FAILURE:"/payment-failure",ORDER_DETAILS:"/order-details",HELP:"/help",ACCOUNT:"/account",TRACK_ORDERS:"/track-orders",PAYMENT_STATUS_CHECK:"/payment-status-check",ACTIVE_ORDERS:"/active-orders"},Q={DELIVERY:"DELIVERY",DINE_IN:"DINE-IN",PICKUP:"PICKUP"},J={DELIVERY:"Delivery",DINE_IN:"Dine in",PICKUP:"Pick up"},X=[Q.DELIVERY,Q.DINE_IN,Q.PICKUP],Z={STAGED:"STAGED",ACCEPTED:"ACCEPTED",SENT_TO_POS_COMPLETED:"SENT-TO-POS-COMPLETED",CANCELLED:"CANCELLED",PAYMENT_FAILED:"PAYMENT-FAILED",SENT_TO_POS_FAILED:"SENT-TO-POS-FAILED",CREATED:"CREATED",ASSIGNED:"ASSIGNED",PICKED_UP:"PICKED-UP",OUT_FOR_DELIVERY:"OUT FOR DELIVERY",ARRIVED:"ARRIVED",DELIVERED:"DELIVERED",CANCEL:"CANCEL"},$={ESTIMATED_ARRIVAL:"estimatedArrival",DELIVERED_AT:"deliveredAt",ORDER_RECEIVED:"orderReceived",ENJOY_MEAL:"enjoyMeal",ASK_FOR_OTP:"askForOTP",ORDER_READY:"orderGettingReady",FOUND_DRIVER:"foundDriver",CANCEL_ORDER:"cancelOrder",CANCEL_ORDER_REFUND:"cancelOrderRefund",BUSINESS_DAYS:"businessDays"},ee={STAGED_ACCEPTED:"STAGED-ACCEPTED",PICKUP_DELIVERY_DINE_IN:"PICKUP-DELIVERY-DINE-IN",DELIVERY_DISTA_CREATE_ASSIGN:"DELIVERY_DISTA_CREATE_ASSIGN",DELIVERY_DISTA:"DELIVERY-DISTA",DELIVERY_DISTA_DELIVERED:"DELIVERY_DISTA_DELIVERED",FAILED:"FAILED",CANCELLED:"CANCELLED"},te={ORDER_TRACKING:"orderTracking",POST_PAYMENT_TYPE:"postPaymentType",PAYMENT_STATUS:"paymentStatus",DISPOSITION_NEW:"dispositionNew",TENANT_REDUCER:"tenantReducer",RETAIN_ADDRESS:"searchStoreByAttribute",SERVICE_TYPE:"serviceType",STORE_ID:"storeId",DISPOSITION_TYPE:"dispositionType"},ne={SUCCESS:"Success",FAILED:"Failed",STATUS_TEXT:"paymentStatus"},ae={MINIMUM_AMOUNT:"BSDE0027",MAXIMUM_AMOUNT:"BSDE0028"},ie=[{breakpoint:1350,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1200,settings:{slidesToShow:2,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1023,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0,variableWidth:!0}}],ce="currentFavMenu",oe="NA",re="/account",se="ecommerce",de="fields",le="title",ue="content",be="topics",ve="linkText",je="internalurl",Oe="description",me="headline",fe="name",pe="buttonText",he="image",ge="file",Ne="url",xe="mobileImage",Ee="desktopImage",Ie="icon",Te="phoneNumber",Se="CONTACT US",Ce="Get Help",Ae="Nearest KFC",ye="Call us",_e="SHARE YOUR EXPERIENCE",De="FAQ Topics",Re="ViewAllFAQ",we=["KUKDUKOO"];t.Cb={KEY_CHAR_CODE:{SPACE:32,ENTER:13},CMS_CONTENT_TYPES:{LOGO_ICON:"logoicon",MULTI_TEXT:"multiTypeText",CALL_TO_ACTION:"callToAction",NAVIGATION_LINK:"navigationLink"}}},80:function(e,t,n){"use strict";var a=n(210),i=n.n(a),c=n(152),o=n.n(c),r=n(362),s=n.n(r),d=n(363),l=n.n(d),u=n(20),b=n(29),v=n(32),j=new l.a(localStorage,{hash:function(e){return o()(e,Object(b.a)(v.l)).toString()},encrypt:function(e){return i.a.encrypt(e,Object(b.a)(v.l)).toString()},decrypt:function(e){return i.a.decrypt(e,Object(b.a)(v.l)).toString(s.a)}}),O={setItem:function(e,t){if(!Object(u.isEmpty)(e)&&!Object(u.isEmpty)(t))return j.setItem(e,t)},getItem:function(e){if(!Object(u.isEmpty)(e))return j.getItem(e)}};Object.freeze(O),t.a=O},87:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return o}));var a={WHITE:"#fff"},i={DEV:"development"},c="HIDE_CONSOLE_LOGS",o={Template1:"brandPageTemplate1",Template2:"brandPageTemplate2"}},88:function(e,t,n){"use strict";t.a={DISPOSITION_TYPE:{TYPE_DINE_IN:"DINE-IN",TYPE_DELIVERY:"DELIVERY",TYPE_TAKE_WAY:"PICKUP"},DISPOSITION_ACTION:{SET_QR_DEEPLINK_MODE:"SET_QR_DEEPLINK_MODE"},FIND_OPEN_KFC_TEXT:"findOpenKfc",INVALID_QR_TEXT:"invalidQRCodeError",CLOSED_STORE_MODAL_SUBTITLE:"closeStoreModelSubTitle",TAKEAWAY_STORE_CLOSED_TEXT:"takeawayStoreClosed",DINE_IN_STORE_CLOSED_TEXT:"dineInStoreClosed",SWITCH_TO_TAKEAWAY_TEXT:"switchToTakeaway",SWITCH_TO_DINEIN_TEXT:"switchToDineIn"}},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return v}));var a=n(6),i=n.n(a),c=n(14),o=n(28),r=n(33),s=n(3),d=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.registerEvent(r.a.add_to_cart.name,{data:{event:"add_to_cart",ecommerce:{add_to_cart:{items:[t]}}}},s.E);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(e){o.a.registerEvent("editPersonalInformation",{"%event%":"editPersonalInformation","%firstName%":e.firstName||"NA","%lastName%":e.lastName||"NA","%email%":e.emailId||"NA","%phone%":Object(s.o)(e.phoneNumber)||"NA"},s.E)},u=function(e){o.a.registerEvent("updateCommunicationPreferences",{"%event%":"updateCommunicationPreferences","%marketingEmails%":e.find((function(e){return"marketing-emails"===e}))?"True":"False","%editorAndCustomerFavourites%":e.find((function(e){return"editor-pick"===e}))?"True":"False","%newsAndAnnouncements%":e.find((function(e){return"kfc-news"===e}))?"True":"False","%doNotSellInformation%":e.find((function(e){return"do-not-sell"===e}))?"True":"False"},s.E)},b=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.registerEvent("deleteAccount",{"%event%":"deleteAccount","%userID%":t||"NA"},s.E);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.registerEvent("signOutSuccess",{"%event%":"signOutSuccess","%userID%":t||"NA"},s.E);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},[[411,3,4]]]);